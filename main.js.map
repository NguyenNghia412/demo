{"version":3,"sources":["./src/app/shared/directives/button/button.directive.ts","./src/app/modules/checkin/components/flow-detect/flow-detect.component.ts","./src/app/modules/checkin/components/flow-detect/flow-detect.component.html","./src/app/modules/checkin/checkin.module.ts","./src/app/modules/navigation-bar/components/navigation/navigation.component.ts","./src/app/modules/navigation-bar/components/navigation/navigation.component.html","./src/app/modules/checkin/components/availability-rooms/availability-rooms.component.ts","./src/app/modules/checkin/components/availability-rooms/availability-rooms.component.html","./src/app/modules/checkin/services/room-availability/room-availability.service.ts","./src/app/shared/services/lock-card/lock-card.service.ts","./src/app/shared/ng-bootstrap/ng-bootstrap.module.ts","./src/app/shared/services/dispenser/dispenser.service.ts","./src/app/shared/components/modal-error/modal-error.module.ts","./src/app/core/auth.service.ts","./src/app/shared/constant/pages.ts","./src/app/modules/checkin/components/flow-booking/flow-booking.component.ts","./src/app/modules/checkin/components/flow-booking/flow-booking.component.html","./src/environments/environment.ts","./src/app/config/httpInterceptor/http-interceptor.service.ts","./src/app/modules/navigation-bar/components/navigation-bottom/navigation-bottom.component.ts","./src/app/modules/navigation-bar/components/navigation-bottom/navigation-bottom.component.html","./src/app/modules/checkin/components/scan-qr/scan-qr.component.ts","./src/app/modules/checkin/components/scan-qr/scan-qr.component.html","./src/app/shared/services/hub/hub.service.ts","./src/app/layout/walkin/walkin.component.ts","./src/app/layout/walkin/walkin.component.html","./src/app/shared/components/app-card/app-card/app-card.module.ts","./src/app/shared/services/hub-walkin/hub-walkin.service.ts","./src/app/shared/constant/check-mode.ts","./src/app/modules/checkin/components/booking-details/booking-details.component.ts","./src/app/modules/checkin/components/booking-details/booking-details.component.html","./src/app/modules/checkin/components/booking-code/booking-code.component.ts","./src/app/modules/checkin/components/booking-code/booking-code.component.html","./src/app/shared/constant/audio-files.ts","./src/app/modules/checkin/services/booking/booking.service.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/app.component.ts","./src/app/app.component.html","./src/app/modules/checkin/components/booking-date-picker/booking-date-picker.component.ts","./src/app/modules/checkin/components/booking-date-picker/booking-date-picker.component.html","./src/app/modules/checkin/components/scan-identity-card/scan-identity-card.component.ts","./src/app/modules/checkin/components/scan-identity-card/scan-identity-card.component.html","./src/app/modules/checkin/components/booking-done/booking-done.component.ts","./src/app/modules/checkin/components/booking-done/booking-done.component.html","./src/app/shared/components/components.module.ts","./src/app/shared/components/button/button.component.ts","./src/app/shared/components/button/button.component.html","./src/app/modules/checkin/components/room-type-info/room-type-info.component.ts","./src/app/modules/checkin/components/room-type-info/room-type-info.component.html","./src/app/modules/checkin/components/booking-create/booking-create.component.ts","./src/app/modules/checkin/components/booking-create/booking-create.component.html","./src/app/app.module.ts","./src/app/shared/constant/event.ts","./src/app/shared/services/passportReader/passport-reader.service.ts","./src/app/shared/constant/local-storage.ts","./src/app/shared/services/time-picker-adapter/time-picker-adapter.service.ts","./src/app/modules/checkin/components/menu/menu.component.ts","./src/app/modules/checkin/components/menu/menu.component.html","./src/app/shared/services/ocr/ocr.service.ts","./src/app/modules/checkin/components/scan-face/scan-face.component.ts","./src/app/modules/checkin/components/scan-face/scan-face.component.html","./src/app/shared/components/modal-error/modal-error/modal-error.component.html","./src/app/shared/components/modal-error/modal-error/modal-error.component.ts","./src/app/modules/checkin/components/welcome/welcome.component.ts","./src/app/modules/checkin/components/welcome/welcome.component.html","./src/app/modules/navigation-bar/navigation-bar.module.ts","./src/app/app-routing.module.ts","./src/app/shared/trans/trans.module.ts","./src/app/shared/components/app-card/app-card/app-card.component.ts","./src/app/shared/components/app-card/app-card/app-card.component.html","./src/app/modules/checkin/components/flow-checkin/flow-checkin.component.ts","./src/app/modules/checkin/components/flow-checkin/flow-checkin.component.html","./src/app/shared/services/utility/utility.service.ts","./src/app/layout/checkin-boooking-code/checkin-boooking-code.component.ts","./src/app/layout/checkin-boooking-code/checkin-boooking-code.component.html","./src/app/shared/directives/directives.module.ts","./src/app/config/configure/configure.service.ts","./src/app/layout/checkin-qr/checkin-qr.component.ts","./src/app/layout/checkin-qr/checkin-qr.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;;;;;AAOO,MAAM,eAAe;IAC1B,YAAoB,EAAc,EAAU,GAAsB;QAA9C,OAAE,GAAF,EAAE,CAAY;QAAU,QAAG,GAAH,GAAG,CAAmB;QAChE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS;YAC7B,0CAA0C,CAAC;IAC/C,CAAC;IAED,eAAe;QAEb,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC3B,CAAC;;8EATU,eAAe;+FAAf,eAAe;;;;;;;;;;;;;ACP5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMuB;AAE2C;AAEjC;AACC;AAC4C;AACZ;AACV;AACK;AAOF;;;;;;;;;;;;;;;;;;;ICrB3D,yEAAsE;IACpE,yEAAsE;IACpE,yEAAyB;IACvB,yEAA8B;IAC5B,uEAA0C;IACxC,uDACF;;IAAA,4DAAI;IACN,4DAAM;IACN,yEAAoE;IAClE,yEAC4D;IADd,sUAAgC;IAE5E,oEAA6C;IAC7C,wEAAsD;IACpD,wDACF;;IAAA,4DAAI;IACN,4DAAM;IACN,2EAC2D;IADS,sUAA+B;IAEjG,sEAA4C;IAC5C,wEAAsD;IACpD,wDACF;;IAAA,4DAAI;IACN,4DAAM;IACR,4DAAM;IACN,2EAAoE;IAClE,0EAC0D;IADZ,qUAA8B;IAE1E,sEAA4C;IAC5C,wEAAsD;IACpD,wDACF;;IAAA,4DAAI;IACN,4DAAM;IACN,0EAC8D;IADhB,yUAAkC;IAE9E,sEAAgD;IAChD,wEAAsD;IACpD,wDACF;;IAAA,4DAAI;IACN,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,2EAAuE;IACrE,kFAA4F;IAAtB,4TAAqB;IACzF,wDACF;;IAAA,4DAAa;IACf,4DAAM;IACR,4DAAM;IACR,4DAAM;;;IA1CI,0DACF;IADE,yKACF;IAIE,0DAAyD;IAAzD,8LAAyD;IAGvD,0DACF;IADE,oKACF;IAGA,0DAAwD;IAAxD,6LAAwD;IAGtD,0DACF;IADE,mKACF;IAKA,0DAAuD;IAAvD,4LAAuD;IAGrD,0DACF;IADE,kKACF;IAGA,0DAA2D;IAA3D,gMAA2D;IAGzD,0DACF;IADE,qKACF;IAMF,0DACF;IADE,uKACF;;;;IAYE,oEAAiC;IAC/B,gFAA8E;IAApC,gUAAqB,YAAY,KAAE;IAAC,uDAC9E;IAAA,4DAAY;IACd,4DAAI;;;IAFS,0DAA8B;IAA9B,+FAA8B;IAAqC,0DAC9E;IAD8E,2GAC9E;;;;IATV,yEAAuE;IACrE,yEAAsE;IACpE,yEAAyB;IACvB,yEAA8B;IAC5B,uEAA0C;IACxC,uDACF;;IAAA,4DAAI;IACJ,kHAGI;IACN,4DAAM;IACN,0EAAmD;IACjD,0EAAmB;IACjB,sEAAsD;IACxD,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,2EAA+D;IAC7D,kFACiC;IAA/B,kUAA2B,CAAC,KAAE;IAC9B,0EAAuC;IAAA,wDAEzC;;IAAA,4DAAa;IACb,kFAC8B;IADwC,+TAAqB;IAEzF,wDACF;;IAAA,4DAAa;IACf,4DAAM;IACR,4DAAM;IACR,4DAAM;;;IAzBI,0DACF;IADE,0KACF;IACI,0DAA2B;IAA3B,8FAA2B;IAOxB,0DAAgC;IAAhC,oKAAgC;IAO9B,0DAAmB;IAAnB,mFAAmB;IAAW,0DAEzC;IAFyC,wKAEzC;IAEE,0DAA2B;IAA3B,2FAA2B;IAC3B,0DACF;IADE,uKACF;;;;IAKN,yEAAsE;IACpE,yEAAsE;IACpE,yEAAyB;IACvB,yEAA8B;IAC5B,uEAA0C;IACxC,uDACF;;IAAA,4DAAI;IACN,4DAAM;IACN,0EAAmD;IACjD,0EAAmB;IACjB,qEAAsD;IACxD,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,2EAA+D;IAC7D,kFACiC;IAA/B,kUAA2B,CAAC,KAAE;IAC9B,0EAAuC;IAAA,wDAEzC;;IAAA,4DAAa;IACb,kFAC8B;IADwC,+TAAqB;IAEzF,wDACF;;IAAA,4DAAa;IACf,4DAAM;IACR,4DAAM;IACR,4DAAM;;;IArBI,0DACF;IADE,yKACF;IAIO,0DAAgC;IAAhC,oKAAgC;IAO9B,0DAAmB;IAAnB,mFAAmB;IAAW,0DAEzC;IAFyC,wKAEzC;IAEE,0DAA2B;IAA3B,2FAA2B;IAC3B,0DACF;IADE,uKACF;;;;IAKN,yEAAsE;IACpE,oFAA4C;IAA7B,8UAA4B;IAAC,4DAAgB;IAC9D,4DAAM;;ADnFC,MAAM,mBAAmB;IA0I9B,YACU,UAAsB,EACtB,WAA2B,EAC3B,cAAqC,EACrC,UAAsB,EACtB,gBAAkC,EAClC,SAA2B,EAC3B,MAAc;QANd,eAAU,GAAV,UAAU,CAAY;QACtB,gBAAW,GAAX,WAAW,CAAgB;QAC3B,mBAAc,GAAd,cAAc,CAAuB;QACrC,eAAU,GAAV,UAAU,CAAY;QACtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QAhJd,kBAAa,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACtD,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAEpD,eAAU,GAAG,+EAAa,CAAC;QAE3B,aAAQ,GAAG,UAAU,CAAC;QACtB,WAAM,GAAG,QAAQ,CAAC;QAClB,YAAO,GAAG,SAAS,CAAC;QACpB,eAAU,GAAG,YAAY,CAAC;QAC1B,gBAAW,GAAG,CAAC,CAAC;QAChB,eAAU,GAAG,CAAC,CAAC;QACf,eAAU,GAAG,CAAC,CAAC;QAEf,gBAAW,GAAG;YACnB;gBACE,KAAK,EAAE,CAAC;gBACR,GAAG,EAAE,MAAM;gBACX,KAAK,EAAE,EAAE;gBACT,IAAI,EAAE,mBAAmB;gBACzB,MAAM,EACJ,uEAAuE;gBACzE,KAAK,EAAE,+EAAW,CAAC,aAAa;gBAChC,SAAS,EAAE,eAAe;gBAC1B,YAAY,EAAE,qBAAqB;aACpC;YACD;gBACE,KAAK,EAAE,CAAC;gBACR,GAAG,EAAE,OAAO;gBACZ,KAAK,EAAE,EAAE;gBACT,IAAI,EAAE,0CAA0C;gBAChD,MAAM,EAAE,sDAAsD;gBAC9D,KAAK,EAAE,+EAAW,CAAC,WAAW;gBAC9B,SAAS,EAAE,eAAe;gBAC1B,YAAY,EAAE,uBAAuB;aACtC;YACD;gBACE,KAAK,EAAE,CAAC;gBACR,GAAG,EAAE,MAAM;gBACX,KAAK,EAAE,EAAE;gBACT,IAAI,EAAE,wCAAwC;gBAC9C,MAAM,EAAE,sDAAsD;gBAC9D,KAAK,EAAE,+EAAW,CAAC,UAAU;gBAC7B,SAAS,EAAE,eAAe;gBAC1B,YAAY,EAAE,sBAAsB;aACrC;YACD;gBACE,KAAK,EAAE,CAAC;gBACR,GAAG,EAAE,MAAM;gBACX,KAAK,EAAE,EAAE;gBACT,IAAI,EAAE,oBAAoB;gBAC1B,MAAM,EACJ,8JAA8J;gBAChK,KAAK,EAAE,+EAAW,CAAC,UAAU;gBAC7B,SAAS,EAAE,eAAe;gBAC1B,YAAY,EAAE,sBAAsB;aACrC;SACF,CAAC;QAEK,aAAQ,GAAG;YAChB,KAAK,EAAE,CAAC;YACR,GAAG,EAAE,MAAM;YACX,KAAK,EAAE,EAAE;YACT,IAAI,EAAE,mBAAmB;YACzB,MAAM,EACJ,uEAAuE;YACzE,KAAK,EAAE,+EAAW,CAAC,aAAa;YAChC,SAAS,EAAE,EAAE;YACb,YAAY,EAAE,EAAE;SACjB,CAAC;QAEK,gBAAW,GAAG;YACnB,MAAM,EAAE;gBACN,GAAG,EAAE,iEAAiE;gBACtE,UAAU,EAAE,yBAAyB;gBACrC,QAAQ,EAAE;oBACR,uDAAuD;oBACvD,qDAAqD;iBACtD;aACF;YACD,QAAQ,EAAE;gBACR,GAAG,EAAE,uFAAuF;gBAC5F,UAAU,EAAE,uBAAuB;gBACnC,QAAQ,EAAE;oBACR,6CAA6C;oBAC7C,iDAAiD;iBAClD;aACF;SACF,CAAC;QAEK,UAAK,GAAG;YACb,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,EAAE;YACX,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,cAAc,EAAE,EAAE;YAClB,YAAY,EAAE,EAAE;YAChB,GAAG,EAAE,EAAE;YACP,eAAe,EAAE,EAAE;SACpB,CAAC;QAEK,UAAK,GAAG;YACb,UAAU,EAAE;gBACV,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,EAAE;gBACR,OAAO,EAAE,EAAE;aACZ;YACD,YAAY,EAAE;gBACZ,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,EAAE;gBACR,OAAO,EAAE,EAAE;aACZ;YACD,cAAc,EAAE;gBACd,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,EAAE;gBACR,OAAO,EAAE,EAAE;aACZ;SACF,CAAC;QAEK,YAAO,GAAG,8BAA8B,CAAC;QAExC,eAAU,GAAG,EAAE,CAAC;QAEjB,uBAAkB,GAAG;YAC1B,GAAG,EAAE,UAAU;YACf,GAAG,EAAE,EAAE;YACP,UAAU,EAAE,EAAE;YACd,QAAQ,EAAE,EAAE;SACb,CAAC;QAEM,mBAAc,GAAG,CAAC,CAAC;QACnB,4BAAuB,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC1C,yBAAoB,GAAG,KAAK,CAAC;QAC7B,0BAAqB,GAAG,KAAK,CAAC;QAC9B,uBAAkB,GAAG,KAAK,CAAC;QAajC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YACxE,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YAC7B,IAAI,GAAG,CAAC,QAAQ,KAAK,mEAAK,CAAC,UAAU,EAAE;gBACrC,OAAO;aACR;YACD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACzC,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,qBAAqB,CAAC,CAAC;IACxD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QAChC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,eAAe,CAAC,KAAe;QAC7B,IAAI,KAAK,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;YACtC,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;aAAM,IAAI,KAAK,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;YAC7C,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;aAAM,IAAI,KAAK,CAAC,OAAO,KAAK,qEAAO,CAAC,WAAW,EAAE;YAChD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACrC;aAAM,IAAI,KAAK,CAAC,OAAO,KAAK,qEAAO,CAAC,SAAS,EAAE;YAC9C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;SACnC;aAAM,IAAI,KAAK,CAAC,OAAO,KAAK,qEAAO,CAAC,aAAa,EAAE;YAClD,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;IACH,CAAC;IAED,SAAS;QACP,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAC7D,CAAC;IAED,SAAS;QACP,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,YAAY,CAAC,MAAc;QACzB,IAAI,CAAC,kBAAkB,mCAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAE,GAAG,EAAE,MAAM,GAAE,CAAC;QACvE,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,SAAS;QACP,IAAI,CAAC,wEAAW,CAAC,UAAU,EAAE;YAC3B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,OAAO;SACR;QACD,IACE,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC;YACnE,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,WAAW,EACxC;YACA,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACnC,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;YAChC,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAEhD,IAAI,CAAC,KAAK,EAAE;gBACV,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;gBAC9E,OAAO;aACR;YAED,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,KAAK,CAAC;iBAClD,SAAS,CACR,CAAC,GAAQ,EAAE,EAAE;gBACX,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;gBAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;YACpC,CAAC,EACD,CAAC,GAAQ,EAAE,EAAE;gBACX,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;gBACpE,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG;oBACtB,IAAI,EAAE,QAAQ;oBACd,OAAO;oBACP,IAAI,EAAE,KAAK;iBACZ,CAAC;gBACF,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACrC,CAAC,CACF;iBACA,GAAG,CAAC,GAAG,EAAE;gBACR,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YACjC,CAAC,CAAC,CAAC;SACN;QACD,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED;;OAEG;IACH,gBAAgB;QACd,IAAI,IAAI,CAAC,oBAAoB,EAAE;YAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;aAAM;YACL,MAAM,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;YAC3D,GAAG,CAAC,KAAK,EAAE,CAAC;SACb;IACH,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,KAAK,MAAM,EAAE;YAEhC,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,6DAA6D;SAC9D;aAAM;YACL,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;IACH,CAAC;IAED,aAAa;QACX,uCAAuC;QACvC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1C,6DAA6D;QAC7D,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,YAAY;QACV,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC;QACtC,QAAQ,IAAI,EAAE;YACZ,KAAK,mEAAK,CAAC,MAAM;gBACf,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAClD,MAAM;YACR,KAAK,mEAAK,CAAC,SAAS;gBAClB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAClD,MAAM;YACR;gBACE,MAAM;SACT;IACH,CAAC;IAED;;OAEG;IACH,UAAU,CAAC,MAAc;QACvB,IAAI,CAAC,wEAAW,CAAC,UAAU,EAAE;YAC3B,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;YAC1B,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;YACzF,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,OAAO;SACR;QAED,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,MAAM,CAAC;QAE9C,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACjD,MAAM,KAAK,GAAG,MAAM,CAAC;QAErB,MAAM,QAAQ,GAAG;YACf,IAAI,EAAE,GAAG,CAAC,EAAE;gBACV,MAAM,GAAG,GAAG,MAAM,CAAC,2FAAgB,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBAC7D,MAAM,GAAG,GAAG,MAAM,CAAC,2FAAgB,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBAC7D,MAAM,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC;gBACpC,iDAAiD;gBACjD,IAAI,QAAQ,IAAI,GAAG,IAAI,QAAQ,IAAI,QAAQ,IAAI,GAAG,EAAE;oBAClD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;oBACjC,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;oBAC1B,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;oBACzF,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;oBACjC,IAAI,CAAC,cAAc,EAAE,CAAC;iBACvB;qBAAM;oBACL,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;oBAClC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;oBACjF,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,GAAG,QAAQ,CAAC;oBACtC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;oBAC7B,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;oBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;oBACtD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;iBACtB;YACH,CAAC;YACD,KAAK,EAAE,GAAG,EAAE;gBACV,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBAClC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;gBACnF,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,GAAG,QAAQ,CAAC;gBACtC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC7B,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACtD,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACvB,CAAC;SACF,CAAC;QAEF,MAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;YACvC,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE;oBAC/B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;oBAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;oBAC/C,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;oBACrB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBAClC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAC/B,OAAO;iBACR;gBAED,IAAI,CAAC,UAAU;qBACZ,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC;qBAC5B,SAAS,CAAC,QAAQ,CAAC;qBACnB,GAAG,CAAC,GAAG,EAAE;oBACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBACpC,CAAC,CAAC,CAAC;gBACL,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;aAChC;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IACD;;;OAGG;IACH,kBAAkB,CAAC,IAAS;QAC1B,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE;YACvE,OAAO;SACR;QACD,IACE,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC;YAClE,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,WAAW,EACxC;YACA,OAAO;SACR;QAED,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAE/B,IAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE;YAClC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE;YACpC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE;YACtC,cAAc,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;YAC7C,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE;YACzC,OAAO,EAAE,EAAE;YACX,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;YACtB,eAAe,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE;SAChD,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;YAC9B,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACnC,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;YACpE,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG;gBACtB,IAAI,EAAE,QAAQ;gBACd,OAAO;gBACP,IAAI,EAAE,KAAK;aACZ,CAAC;YACF,OAAO;SACR;QAED,IAAI,mCAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,EAAE;YACtC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,mCAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SAClE;QACD,IAAI,mCAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE;YACvC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,mCAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACpE;QAED,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IAED,gBAAgB,CAAC,KAAU;QACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;IAC/C,CAAC;IAED,iBAAiB,CAAC,KAAa;QAC7B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;IAC9B,CAAC;IAED,wBAAwB;QACtB,IAAI,CAAC,kBAAkB,GAAG;YACxB,UAAU,EAAE,EAAE;YACd,GAAG,EAAE,EAAE;YACP,GAAG,EAAE,EAAE;YACP,QAAQ,EAAE,EAAE;SACb,CAAC;QACF,IAAI,CAAC,KAAK,GAAG;YACX,OAAO,EAAE,EAAE;YACX,SAAS,EAAE,EAAE;YACb,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,cAAc,EAAE,EAAE;YAClB,YAAY,EAAE,EAAE;YAChB,eAAe,EAAE,EAAE;YACnB,GAAG,EAAE,EAAE;SACR,CAAC;QACF,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3B,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;IACpC,CAAC;IAED,uBAAuB;IACvB,mBAAmB;QACjB,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC,CAAC;QAC5E,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;IACrC,CAAC;IAED;;OAEG;IACH,aAAa;QACX,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;IAChC,CAAC;IAED;;OAEG;IACH,WAAW;QACT,MAAM,KAAK,GAAa;YACtB,QAAQ,EAAE,mEAAK,CAAC,QAAQ;YACxB,OAAO,EAAE,qEAAO,CAAC,WAAW;SAC7B,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED;;OAEG;IACH,YAAY,CAAC,IAAY,EAAE,KAAa;QACtC,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE;YAC3B,OAAO,IAAI,+CAAU,EAAE,CAAC;QAC1B,CAAC,CAAC;QAEF,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACrD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAC3D,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC5D,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED;;OAEG;IACH,oBAAoB,CAAC,IAAY,EAAE,IAAS;QAC1C,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,GAAE,CAAC,CAAC;QACjC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE;YACzB,IAAI,CAAC,KAAK,GAAG;gBACX,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;gBAC1B,MAAM,EAAE,EAAE;gBACV,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBAC7B,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBAChC,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBAC1B,GAAG,EAAE,EAAE;gBACP,eAAe,EAAE,EAAE;aACpB,CAAC;QACJ,CAAC,CAAC;QACF,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,EAAE;YAC1B,IAAI,CAAC,KAAK,GAAG;gBACX,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBACxB,MAAM,EAAE,EAAE;gBACV,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBAC7B,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBAChC,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBAC1B,GAAG,EAAE,EAAE;gBACP,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;aACnC,CAAC;QACJ,CAAC,CAAC;QACF,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,EAAE;YAC7B,IAAI,CAAC,KAAK,GAAG;gBACX,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBACxB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;gBACjC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;gBAC7B,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBAChC,YAAY,EAAE,EAAE;gBAChB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;gBAC1B,GAAG,EAAE,KAAK,IAAI,KAAE;gBAChB,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;aACnC,CAAC;QACJ,CAAC,CAAC;QACF,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IACD,YAAY;IACZ,UAAU;QACR,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACjC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG;gBAChB,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,EAAE;gBACR,OAAO,EAAE,EAAE;aACZ,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,IAAI,GAAG,EAAE;QACjB,IAAI,IAAI,KAAK,YAAY,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;SACjD;aAAM;YACL,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;SAC9B;QACD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YACjC,IAAI,IAAI,KAAK,GAAG,EAAE;gBAChB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG;oBAChB,IAAI,EAAE,KAAK;oBACX,IAAI,EAAE,EAAE;oBACR,OAAO,EAAE,EAAE;iBACZ,CAAC;aACH;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU,CAAC,IAAI,GAAG,EAAE;QAClB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG;YACjB,IAAI,EAAE,KAAK;YACX,IAAI,EAAE,EAAE;YACR,OAAO,EAAE,EAAE;SACZ,CAAC;IACJ,CAAC;;sFA1kBU,mBAAmB;mGAAnB,mBAAmB;QC5BhC,iHA+CM;QAEN,iHA8BM;QAEN,iHA0BM;QAEN,+GAEM;;QA/GA,6FAA6B;QAiD7B,0DAA8B;QAA9B,8FAA8B;QAgC9B,0DAA6B;QAA7B,6FAA6B;QA4B7B,0DAA6B;QAA7B,6FAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC0B;AACR;AACT;AACa;AACmB;AACS;AACH;AACN;AACA;AACnC;AACW;AAC0C;AACnC;AAC1B;AACsE;AACV;AAC1B;AACS;AACV;AACJ;AACW;AACN;AACM;AACuB;AACf;;AAuDtF,MAAM,aAAa;;0EAAb,aAAa;6FAAb,aAAa;kGAvBb;QACT;YACE,OAAO,EAAE,0EAAc;YACvB,QAAQ,EAAE,iIAAwB;SACnC;KACF,YAjBQ;YACP,4DAAY;YACZ,kFAAiB;YACjB,qEAAgB;YAChB,mEAAmB;YACnB,8EAAW;YACX,qEAAS;YACT,2DAAW;YACX,0FAAmB;YACnB,mGAAsB;YACtB,6FAAgB;SACjB;oIAwBU,aAAa,mBAnDtB,qFAAe;QACf,6EAAa;QACb,oGAAoB;QACpB,6GAAuB;QACvB,oGAAoB;QACpB,oGAAoB;QACpB,0GAAsB;QACtB,uHAA0B;QAC1B,sHAAyB;QACzB,4FAAiB;QACjB,qGAAoB;QACpB,uFAAgB;QAChB,kGAAmB;QACnB,yHAA0B;QAC1B,0GAAqB,aAGrB,4DAAY;QACZ,kFAAiB;QACjB,qEAAgB;QAChB,mEAAmB;QACnB,8EAAW;QACX,qEAAS;QACT,2DAAW;QACX,0FAAmB;QACnB,mGAAsB;QACtB,6FAAgB,aAShB,qFAAe;QACf,6EAAa;QACb,oGAAoB;QACpB,6GAAuB;QACvB,oGAAoB;QACpB,oGAAoB;QACpB,0GAAsB;QACtB,uHAA0B;QAC1B,sHAAyB;QACzB,4FAAiB;QACjB,qGAAoB;QACpB,uFAAgB;QAChB,kGAAmB;QACnB,yHAA0B;;;;;;;;;;;;;AC7E9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2D;AAKH;AACoB;AAEf;AACX;;;;;;;;;;;ICiB5C,qEAAkD;;;;;IADpD,0EAAuD;IACrD,oIAAkD;IAClD,0EACwB;IADwB,gZAA0D;IAExG,2EAA6G;IAC3G,uDACF;;IAAA,4DAAO;IACT,4DAAM;IACR,4DAAM;;;;;IARuC,qEAAS;IAC9C,0DAAW;IAAX,0EAAW;IAGT,0DAAsG;IAAtG,oNAAsG;IAC1G,0DACF;IADE,0JACF;;;IAZN,yEAA0B;IACxB,yEAA+C;IAC7C,uDACF;;IAAA,4DAAK;IACP,4DAAM;IACN,0EAAwB;IACtB,8HAQM;IACR,4DAAM;;;IAbF,0DACF;IADE,4JACF;IAGsB,0DAAU;IAAV,iFAAU;;ADR7B,MAAM,mBAAmB;IAyB9B,YACU,MAAc,EACd,SAA2B,EAC3B,YAAsB,EACtB,UAAsB,EACtB,QAAkB,EAClB,WAA2B;QAL3B,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAkB;QAC3B,iBAAY,GAAZ,YAAY,CAAU;QACtB,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAgB;QA9B9B,gBAAW,GAAG,6EAAW,CAAC;QAC1B,eAAU,GAAG,4EAAU,CAAC;QAExB,aAAQ,GAAG;YAChB,GAAG,EAAE,IAAI;YACT,KAAK,EAAE,EAAE;YACT,KAAK,EAAE,SAAS;SACjB,CAAC;QAEK,UAAK,GAAG;YACb;gBACE,GAAG,EAAE,IAAI;gBACT,KAAK,EAAE,2BAA2B;gBAClC,KAAK,EAAE,SAAS;aACjB;YACD;gBACE,GAAG,EAAE,IAAI;gBACT,KAAK,EAAE,2BAA2B;gBAClC,KAAK,EAAE,SAAS;aACjB;SACF,CAAC;QAEM,aAAQ,GAAG,EAAE,CAAC;QAUpB,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;aAC3B,IAAI,CACH,6DAAM,CAAC,CAAC,GAAQ,EAAE,EAAE,CAAC,GAAG,YAAY,gEAAgB,CAAC,EACrD,+DAAQ,EAAE,CACX;aACA,SAAS,CAAC,CAAC,MAA0B,EAAE,EAAE;YACxC,4DAA4D;YAC5D,2DAA2D;YAC3D,MAAM,WAAW,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC;YAChD,MAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC;YAC/C,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;YAClE,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAChE,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YAEtD,IAAI,gBAAgB,GAClB,WAAW,KAAK,mEAAK,CAAC,MAAM,CAAC,CAAC,CAAC,mEAAK,CAAC,KAAK,CAAC,CAAC,CAAC,mEAAK,CAAC,KAAK,CAAC;YAC3D,OAAO,CAAC,GAAG,CACT,gBAAgB,EAChB,YAAY,EACZ,WAAW,EACX,gBAAgB,CACjB,CAAC;YACF,IAAI,YAAY,KAAK,mEAAK,CAAC,MAAM,IAAI,WAAW,KAAK,gBAAgB,EAAE;gBACrE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,WAAW,IAAI,mEAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;aAC3D;QACH,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;IACxB,CAAC;IACD,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;IAChD,CAAC;IAED,QAAQ;QACN,MAAM,cAAc,GAAG,IAAI,CAAC;QAC5B,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,cAAc,CAAC,CAAC;QACrE,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,EAAE,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC;IAC7E,CAAC;IAED,MAAM;QACJ,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAC3B,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAC3B,IAAI,IAAI,KAAK,QAAQ,EAAE;YACrB,MAAM,KAAK,GAAa;gBACtB,QAAQ,EAAE,mEAAK,CAAC,UAAU;gBAC1B,OAAO,EAAE,qEAAO,CAAC,QAAQ;aAC1B,CAAC;YACF,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SAClC;aAAM,IAAI,IAAI,KAAK,OAAO,EAAE;YAC3B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,IAAI,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,OAAO,EAAE;YAC3B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,IAAI,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC;SACtD;aAAM,IAAI,IAAI,KAAK,OAAO,IAAI,IAAI,KAAK,OAAO,EAAE;YAC/C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SACvC;aAAM,IAAI,IAAI,KAAK,SAAS,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACtB;IACH,CAAC;IAED,cAAc,CAAC,IAAY,EAAE,MAAc,EAAE,KAAa;QACxD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IACjC,CAAC;IAED,cAAc,CAAC,OAAY;QACzB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACtD,CAAC;;sFAxGU,mBAAmB;mGAAnB,mBAAmB;;QClBhC,sEAAK;QACH,yEAAoB;QAClB,0EAA4B;QAC1B,yEAA6C;QAAnB,wIAAS,YAAQ,IAAC;QAC1C,oEAAiD;QAEnD,4DAAM;QACR,4DAAO;QACP,yEAAwB;QACtB,yEAAiD;QAC/C,yEAA8D;QAAlC,qRAAS,uBAAuB,IAAC;QAE3D,oEAAiD;QAEnD,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACN,2MAiBc;;;;;;;;;;;;;;ACpCd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOuB;AAEU;AAKuB;AAEK;AAMlB;AAGD;AAGyC;;;;;;;;;;;;;;;;;;;;IC6CzE,0EAAqF;IACnF,4EAA8G;IAAlC,gXAAiC;IAC3G,qEAA+H;IAC/H,2EAAmB;IAAA,uDAA2B;IAAA,4DAAO;IACvD,4DAAQ;IACR,0EAAwD;IAAjC,+WAAgC;IACrD,yEAA0C;IAC5C,4DAAM;IACR,4DAAM;;;;IANG,0DAAmH;IAAnH,sOAAmH;IACrG,0DAA2B;IAA3B,yFAA2B;IAGrC,0DAAqB;IAArB,qFAAqB;;;;;IAehC,0EACkG;IAA/B,6WAA8B;IAC/F,uDACF;IAAA,4DAAM;;;;IAFJ,sOAAgE;IAChE,0DACF;IADE,+FACF;;;IAGA,0EAAgG;IAC9F,wEAAuB;IACrB,mEAA0C;IAAA,uDAC5C;IAAA,4DAAI;IACN,4DAAM;;;IAFwC,0DAC5C;IAD4C,2GAC5C;;;;;;IAKI,0EAA2E;IACzE,0EACiJ;IAD1H,iXAA4B;IAEjD,0EAAmF;IACjF,uDACF;IAAA,4DAAM;IACR,4DAAM;IACR,4DAAM;;;;IALF,0DAA8I;IAA9I,8UAA8I;IAE5I,0DACF;IADE,6FACF;;;IARV,0EAA0D;IACxD,0EAAyD;IACvD,0EAAuG;IACrG,8HAOM;IACR,4DAAM;IACR,4DAAM;IACR,4DAAM;;;IAVsB,0DAAiB;IAAjB,wFAAiB;;;;IAkHvD,0EAAwB;IACtB,0EAAwD;IACtD,yEAAwB;IACtB,4EAAgC;IAAA,uDAAqC;;IAAA,4DAAQ;IAC7E,0EAAyB;IACvB,qFAA2C;IAA3B,mXAA0B;IAAC,4DAAiB;IAC9D,4DAAM;IACR,4DAAM;IACN,yEAAwB;IACtB,4EAAgC;IAAA,wDAAsC;;IAAA,4DAAQ;IAC9E,2EAAyB;IACvB,sFAA0C;IAA1B,mXAAyB;IAAC,4DAAiB;IAC7D,4DAAM;IACR,4DAAM;IACR,4DAAM;IACR,4DAAM;IACN,2EAA0B;IACxB,qEAAiB;IACjB,8EAAyE;IAA5B,kVAA2B;IACtE,wDACF;;IAAA,4DAAS;IACX,4DAAM;;;IAlBgC,0DAAqC;IAArC,qJAAqC;IAEnD,0DAA0B;IAA1B,wFAA0B;IAIZ,0DAAsC;IAAtC,uJAAsC;IAEpD,0DAAyB;IAAzB,uFAAyB;IAQ7C,0DACF;IADE,+JACF;;;AD/MG,MAAM,0BAA0B;IAUrC,YACU,YAAsB,EACtB,eAAwC,EACzC,QAAqB,EACpB,MAAc,EACd,UAAsB,EACvB,IAAoB,EACpB,gBAAkC,EAClC,SAA2B,EAC3B,cAA8B;QAR7B,iBAAY,GAAZ,YAAY,CAAU;QACtB,oBAAe,GAAf,eAAe,CAAyB;QACzC,aAAQ,GAAR,QAAQ,CAAa;QACpB,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAY;QACvB,SAAI,GAAJ,IAAI,CAAgB;QACpB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,cAAS,GAAT,SAAS,CAAkB;QAC3B,mBAAc,GAAd,cAAc,CAAgB;QAlB7B,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACjD,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAGpD,cAAS,GAAG,2EAAS,CAAC;QACtB,gBAAW,GAAG,6EAAW,CAAC;QAC1B,iBAAY,GAAG,8EAAY,CAAC;QAC5B,iBAAY,GAAG,EAAE,CAAC;QAqClB,WAAM,GAAmB,IAAI,CAAC;QAC9B,SAAI,GAAG;YACZ,OAAO,EAAE,OAAO;YAChB,MAAM,EAAE,OAAO;SAChB,CAAC;QACK,aAAQ,GAAG,CAAC,CAAC;QACb,aAAQ,GAAG,CAAC,CAAC;QAEb,iBAAY,GAAG,EAAE,CAAC;QAClB,cAAS,GAAG,EAAE,CAAC;QAEf,kBAAa,GAAG;YACrB,OAAO,EAAE,CAAC;YACV,SAAS,EAAE,EAAE;YACb,SAAS,EAAE,EAAE;SACd,CAAC;QAEK,iBAAY,GAAG;YACpB,QAAQ,EAAE,EAAE;YACZ,YAAY,EAAE,EAAE;YAChB,SAAS,EAAE,EAAE;YACb,YAAY,EAAE,EAAE;SACjB,CAAC;QAEK,cAAS,GAAG,EAAE,CAAC;QACf,0BAAqB,GAAG,EAAE,CAAC;QAE3B,UAAK,GAAG;YACb,aAAa,EAAE,EAAE;SAClB,CAAC;QAEK,gBAAW,GAAG,KAAK,CAAC;QACpB,SAAI,GAAG;YACZ,EAAE,EAAE,EAAE;SACP,CAAC;QA1DA,uCAAuC;QACvC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAE5D,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QACtE,0CAA0C;QAE1C,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,KAAsB,EAAE,EAAE;YACtE,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YACxE,IAAI,GAAG,CAAC,QAAQ,KAAK,mEAAK,CAAC,UAAU,EAAE;gBACrC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBACpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAuCD,QAAQ;QACN,qBAAqB;QACrB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC5B,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;YAC/B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC1E,OAAO;SACR;QACD,IAAI,CAAC,mCAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,sBAAsB,CAAC,CACtD,CAAC;YACF,OAAO;SACR;QACD,IAAI,CAAC,mCAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE;YAClC,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wBAAwB,CAAC,CACxD,CAAC;YACF,OAAO;SACR;QACD,MAAM,SAAS,mCACV,IAAI,CAAC,YAAY,KACpB,KAAK,EAAE,IAAI,CAAC,QAAQ,EACpB,KAAK,EAAE,IAAI,CAAC,QAAQ,EACpB,WAAW,EAAE,mCAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CACtE,YAAY,CACb,EACD,UAAU,EAAE,mCAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CACnE,YAAY,CACb,EACD,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,EAC9B,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,GAC7B,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,mEAAK,CAAC,MAAM,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IAC3C,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,eAAe;aACjB,YAAY,EAAE;aACd,IAAI,CACH,+DAAQ,CAAC,CAAC,GAAiB,EAAE,EAAE;;YAC7B,IACE,GAAG,CAAC,UAAU,KAAK,GAAG;gBACtB,GAAG,CAAC,QAAQ;gBACZ,UAAG,CAAC,QAAQ,0CAAE,MAAM,IAAG,CAAC;gBACxB,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,EACf;gBACA,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACvB,IAAI,CAAC,qBAAqB,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;aAC7D;YACD,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC;YAC9B,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;QAC7C,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAQ,EAAE,EAAE;;YACX,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YAC7B,IACE,GAAG,CAAC,UAAU,KAAK,GAAG;gBACtB,GAAG,CAAC,QAAQ;gBACZ,UAAG,CAAC,QAAQ,0CAAE,MAAM,IAAG,CAAC;gBACxB,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EACtB;gBACA,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAC5C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,KAAK,IAAI,CAC5B,CAAC;gBACF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;aACvC;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACtD,0BAA0B,CAC3B,CAAC;aACH;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACtD,0BAA0B,CAC3B,CAAC;QACJ,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU;QACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAEjC,IAAI,CAAC,eAAe;aACjB,YAAY,EAAE;aACd,SAAS,CACR,CAAC,GAAiB,EAAE,EAAE;;YACpB,IACE,GAAG,CAAC,UAAU,KAAK,GAAG;gBACtB,GAAG,CAAC,QAAQ;gBACZ,UAAG,CAAC,QAAQ,0CAAE,MAAM,IAAG,CAAC;gBACxB,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,EACtB;gBACA,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAC5C,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,KAAK,IAAI,CAC5B,CAAC;gBACF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;aACvC;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACtD,0BAA0B,CAC3B,CAAC;aACH;QACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;YACN,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACtD,0BAA0B,CAC3B,CAAC;QACJ,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,aAAa;QACX,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,IAAI,CAAC,eAAe;aACjB,oBAAoB,CACnB,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAC5C,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,EAC1C,IAAI,CACL;aACA,SAAS,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;aACxC,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAsB;QACpB,OAAO;YACL,IAAI,EAAE,CAAC,GAAiB,EAAE,EAAE;gBAC1B,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE;oBAC1C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;oBACxC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ;yBAC7B,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,iCACV,IAAI,KACP,YAAY,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,IACpC,CAAC;yBACF,MAAM,CACL,CAAC,IAAI,EAAE,EAAE,CACP,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,aAAa,CAAC,SAAS;wBAC/C,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CACzD,CAAC;iBACL;qBAAM;oBACL,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,GAAG,CAAC,OAAO,CAAC;iBACxC;YACH,CAAC;YACD,KAAK,EAAE,GAAG,EAAE;gBACV,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACtD,0BAA0B,CAC3B,CAAC;YACJ,CAAC;SACF,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,YAAY,GAAG;YAClB,YAAY,EAAE,EAAE;YAChB,SAAS,EAAE,EAAE;YACb,QAAQ,EAAE,EAAE;YACZ,YAAY,EAAE,EAAE;SACjB,CAAC;IACJ,CAAC;IAED,YAAY,CAAC,IAAS;QACpB,IAAI,CAAC,YAAY,qBAAQ,IAAI,CAAE,CAAC;IAClC,CAAC;IAED,aAAa,CAAC,KAAK;QACjB,IAAI,CAAC,aAAa,qBAAQ,KAAK,CAAE,CAAC;QAClC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,aAAa,CAAC,QAAa;QACzB,IAAI,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAC5D,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,KAAK,QAAQ,CAAC,YAAY,CACzC,CAAC;SACH;aAAM;YACL,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;SACxD;QACD,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,YAAY,CAAC,QAAa;QACxB,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,8FAAqB,EAAE;YAC7D,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,QAAQ;YAClB,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,QAAQ,CAAC,iBAAiB,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACjD,CAAC;IAED,SAAS,CAAC,GAAG;QACX,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;YACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC;SACrE;aAAM;YACL,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;SAClE;IACH,CAAC;IACD;;OAEG;IACH,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACxC,CAAC;IACD;;OAEG;IACH,gBAAgB;QACd,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;IACrB,CAAC;IAED,gBAAgB;QACd,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;YACrB,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;SACpB;IACH,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;IACrB,CAAC;IAED,gBAAgB;QACd,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;YACrB,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;SACpB;IACH,CAAC;IAED,cAAc,CAAC,OAAO;QACpB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE;YAC9B,QAAQ,EAAE,IAAI;YACd,WAAW,EAAE,yBAAyB;SACvC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;IACjC,CAAC;IACD;;OAEG;IACH,eAAe,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE;QAClC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;YAChC,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;IACH,CAAC;IAED,kBAAkB;QAChB,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAChC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAC7C,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAC3C,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAC3C,EAAE,CAAC;IACN,CAAC;IAED,kBAAkB;QAChB,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACtD,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,CAC9B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAC/D,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAC9D,CAAC;IACJ,CAAC;IACD;;OAEG;IACH,QAAQ;QACN,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QAC9D,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED,UAAU;QACR,MAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QAC9D,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACjD,CAAC;IAED,UAAU,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI;QAClD,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,IAAI,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;YAClC,IAAI,SAAS,IAAI,IAAI,EAAE;gBACrB,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC;aAC3B;iBAAM;gBACL,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC;aAC3B;YACD,YAAY,IAAI,IAAI,CAAC;YACrB,IAAI,YAAY,IAAI,QAAQ,EAAE;gBAC5B,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;aAClC;QACH,CAAC,EAAE,KAAK,CAAC,CAAC;IACZ,CAAC;;oGA/YU,0BAA0B;0GAA1B,0BAA0B;QCnCvC,yEAAwC;QACtC,yEAA0B;QACxB,wEAAe;QAEb,wEAA0G;QAAvB,8IAAS,cAAU,CAAC,CAAC,IAAC;QACvG,yEAA4B;QAC1B,uDACF;;QAAA,4DAAM;QACN,yEAA+B;QAC7B,6FAAwG;QAAvC,mLAAc,2BAAuB,IAAC;QACvG,4DAA0B;QAC5B,4DAAM;QACR,4DAAK;QAEL,wEAA0G;QAAvB,8IAAS,cAAU,CAAC,CAAC,IAAC;QACvG,0EAA4B;QAC1B,wDACF;;QAAA,4DAAM;QACN,0EAAmC;QACjC,0EAAmB;QACjB,0EAAwB;QACtB,6EAA+B;QAC7B,wDACF;;QAAA,4DAAQ;QACR,0EAAwB;QACtB,2EAAyB;QACvB,6EACkC;QAAhC,iMAAsB;QADxB,4DACkC;QAClC,2EAAgC;QAC9B,8EAC+B;QAA7B,mJAAS,sBAAkB,IAAC;QAC5B,0EAAsC;QACxC,4DAAS;QACT,8EAC+B;QAA7B,mJAAS,sBAAkB,IAAC;QAC5B,0EAAwC;QAC1C,4DAAS;QACX,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACN,2EAA4B;QAC1B,0EAAwB;QACtB,6EAA+B;QAC7B,wDACF;;QAAA,4DAAQ;QACR,0EAAwB;QACtB,2EAAyB;QACvB,6EACkC;QAAhC,iMAAsB;QADxB,4DACkC;QAClC,2EAAgC;QAC9B,8EAC+B;QAA7B,mJAAS,sBAAkB,IAAC;QAC5B,0EAAsC;QACxC,4DAAS;QACT,8EAC+B;QAA7B,mJAAS,sBAAkB,IAAC;QAC5B,0EAAwC;QAC1C,4DAAS;QACX,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAK;QAEL,yEAA0G;QAAvB,+IAAS,cAAU,CAAC,CAAC,IAAC;QACvG,0EAA4B;QAC1B,wDACF;;QAAA,4DAAM;QACN,2EAAuD;QACrD,yHAQM;QACR,4DAAM;QACR,4DAAK;QAEL,yEAA0G;QAAvB,+IAAS,cAAU,CAAC,CAAC,IAAC;QACvG,0EAA4B;QAC1B,wDACF;;QAAA,4DAAM;QACN,2EAA+B;QAC7B,0EAA4B;QAC1B,wDACF;;QAAA,4DAAK;QACL,2EAA8C;QAC5C,yHAGM;QACR,4DAAM;QACN,2EAA+B;QAC7B,yHAIM;QACN,yHAaM;QACR,4DAAM;QACN,2EAA4E;QAC1E,2EAA6B;QAC3B,sEAAsC;QACtC,qEAAG;QACD,wDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,2EAA6B;QAC3B,sEAAsC;QACtC,qEAAG;QACD,wDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,2EAA6B;QAC3B,sEAAqC;QACrC,qEAAG;QACD,wDACF;;QAAA,4DAAI;QACN,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAK;QACP,4DAAK;QACP,4DAAM;QACR,4DAAM;QAEN,2EAA4B;QAC1B,2EAAqB;QACnB,0EAA2B;QACzB,wDACF;;QAAA,4DAAK;QACL,2EAAiB;QACf,0EAAmB;QACjB,yEAAiC;QAC/B,wDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,2EAAmB;QACjB,yEAAiC;QAC/B,wDACF;QAAA,4DAAI;QACN,4DAAM;QACR,4DAAM;QACN,2EAAiB;QACf,0EAAmB;QACjB,yEAAiC;QAC/B,wDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,2EAAmB;QACjB,yEAAiC;QAC/B,wDACF;QAAA,4DAAI;QACN,4DAAM;QACR,4DAAM;QACN,2EAAiB;QACf,0EAAmB;QACjB,yEAAiC;QAC/B,wDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,4EAAmB;QACjB,0EAAiC;QAC/B,yDAEF;;;QAAA,4DAAI;QACN,4DAAM;QACR,4DAAM;QACN,4EAAiB;QACf,2EAAmB;QACjB,0EAAiC;QAC/B,yDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,4EAAmB;QACjB,0EAAiC;QAC/B,yDACF;QAAA,4DAAI;QACN,4DAAM;QACR,4DAAM;QACN,4EAAiB;QACf,2EAAmB;QACjB,0EAAiC;QAC/B,yDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,4EAAmB;QACjB,0EAAiC;QAC/B,yDACF;QAAA,4DAAI;QACN,4DAAM;QACR,4DAAM;QACN,4EAAkB;QAChB,mFAC+B;QAA7B,wJAAS,sBAAkB,IAAC;QAC5B,yDACF;;QAAA,4DAAa;QACf,4DAAM;QACR,4DAAM;QACR,4DAAM;QAEN,yNAuBc;;QAhPJ,0DAA2D;QAA3D,0KAA2D;QAE3D,0DACF;QADE,gKACF;QAE2B,0DAAqB;QAArB,kFAAqB;QAK9C,0DAA2D;QAA3D,0KAA2D;QAE3D,0DACF;QADE,iKACF;QAKQ,0DACF;QADE,gKACF;QAIM,0DAAsB;QAAtB,iFAAsB;QAIX,0DAAkB;QAAlB,+EAAkB;QAIlB,0DAAoB;QAApB,iFAAoB;QAUnC,0DACF;QADE,gKACF;QAIM,0DAAsB;QAAtB,iFAAsB;QAIX,0DAAkB;QAAlB,+EAAkB;QAIlB,0DAAoB;QAApB,iFAAoB;QAUzC,0DAA2D;QAA3D,0KAA2D;QAE3D,0DACF;QADE,iKACF;QAE4B,0DAAc;QAAd,kFAAc;QAYxC,0DAA2D;QAA3D,0KAA2D;QAE3D,0DACF;QADE,iKACF;QAGI,0DACF;QADE,gKACF;QAEyB,0DAAc;QAAd,kFAAc;QAM/B,0DAAyB;QAAzB,yFAAyB;QAKzB,0DAA0B;QAA1B,0FAA0B;QAmB5B,0DACF;QADE,0KACF;QAKE,0DACF;QADE,wKACF;QAKE,0DACF;QADE,uKACF;QAYR,0DACF;QADE,0KACF;QAIM,0DACF;QADE,wKACF;QAIE,0DACF;QADE,oGACF;QAME,0DACF;QADE,0KACF;QAIE,0DACF;QADE,iGACF;QAME,0DACF;QADE,wKACF;QAIE,0DAEF;QAFE,gUAEF;QAME,0DACF;QADE,0KACF;QAIE,0DACF;QADE,4GACF;QAME,0DACF;QADE,6KACF;QAIE,0DACF;QADE,2GACF;QAMA,0DACF;QADE,gKACF;;;;;;;;;;;;;;ACtNN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;;;AAK1B,MAAM,uBAAuB;IAClC,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC;;OAEG;IACI,oBAAoB,CACzB,WAAgB,EAChB,UAAe,EACf,UAAoB;QAEpB,IAAI,UAAU,EAAE;YACd,WAAW,GAAG,mCAAM,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACvD,UAAU,GAAG,mCAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACtD;QAED,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gCAAgC,EAAE;YACtD,WAAW;YACX,UAAU;SACX,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACI,YAAY;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;IACrD,CAAC;IAED;;;OAGG;IACK,YAAY;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;IAClD,CAAC;;8FArCU,uBAAuB;0GAAvB,uBAAuB,WAAvB,uBAAuB,mBAFtB,MAAM;;;;;;;;;;;;;ACDpB;AAAA;AAAA;AAAA;AAAA;AAA8E;;;AAKvE,MAAM,eAAe;IAI1B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAF5B,eAAU,GAAG,EAAE,CAAC;QAGtB,IAAI,CAAC,UAAU,GAAG,2FAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;IACxD,CAAC;IAED;;OAEG;IACI,SAAS,CAAC,IAAmB;QAClC,MAAM,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,sBAAsB,CAAC;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;;8EAdU,eAAe;kGAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;;;;;;;;;;;;;ACNpB;AAAA;AAAA;AAAA;AAAA;AAA+C;AACoC;;AAU5E,MAAM,iBAAiB;;kFAAjB,iBAAiB;gGAAjB,iBAAiB;oGANnB,CAAC,4DAAY,EAAE,2EAAgB,CAAC,EAEvC,2EAAgB;QAChB,8EAAmB;mIAGV,iBAAiB,cANlB,4DAAY,EAAE,2EAAgB,aAEtC,2EAAgB;QAChB,8EAAmB;;;;;;;;;;;;;ACPvB;AAAA;AAAA;AAAA;AAAA;AAA8E;;;AAKvE,MAAM,gBAAgB;IAE3B,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAD5B,eAAU,GAAG,EAAE,CAAC;QAEtB,IAAI,CAAC,UAAU,GAAG,2FAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC;IACxD,CAAC;IAED;;OAEG;IACI,WAAW;QAChB,MAAM,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,sBAAsB,CAAC;QAC1D,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACtC,CAAC;IAED;;OAEG;IACI,KAAK;QACV,MAAM,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,qBAAqB,CAAC;QACzD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACtC,CAAC;;gFApBU,gBAAgB;mGAAhB,gBAAgB,WAAhB,gBAAgB,mBAFf,MAAM;;;;;;;;;;;;;ACJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC2B;AACnB;;AAgBhD,MAAM,gBAAgB;;gFAAhB,gBAAgB;+FAAhB,gBAAgB;mGARlB;YACP,4DAAY;YACZ,+DAAW;SACZ;mIAKU,gBAAgB,mBAVzB,sFAAmB,aAGnB,4DAAY;QACZ,+DAAW,aAGX,sFAAmB;;;;;;;;;;;;;ACdvB;AAAA;AAAA;AAAA;AAAA;AAAyE;;;AAKlE,MAAM,WAAW;IACtB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC;;OAEG;IACI,QAAQ;QACb,MAAM,GAAG,GAAG,oBAAoB,CAAC;QACjC,MAAM,KAAK,GAAG,oFAAgB,CAAC,MAAM,CAAC,KAAK,CAAC;QAE5C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;YACzB,SAAS,EAAE,KAAK,CAAC,SAAS;YAC1B,aAAa,EAAE,KAAK,CAAC,aAAa;YAClC,UAAU,EAAE,KAAK,CAAC,UAAU;YAC5B,KAAK,EAAE,KAAK,CAAC,KAAK;SACnB,CAAC,CAAC;IACL,CAAC;;sEAhBU,WAAW;8FAAX,WAAW,WAAX,WAAW,mBAFV,MAAM;;;;;;;;;;;;;ACLpB;AAAA;AAAA;AAAO,MAAM,KAAK,GAAG;IACnB,OAAO,EAAE,SAAS;IAClB,OAAO,EAAE,SAAS;IAClB,MAAM,EAAE,SAAS;IACjB,WAAW,EAAE,cAAc;IAC3B,cAAc,EAAE,iBAAiB;IACjC,WAAW,EAAE,cAAc;IAC3B,WAAW,EAAE,cAAc;IAC3B,UAAU,EAAE,YAAY;IACxB,UAAU,EAAE,YAAY;IACxB,UAAU,EAAE,YAAY;IACxB,QAAQ,EAAE,UAAU;IACpB,aAAa,EAAE,eAAe;IAC9B,WAAW,EAAE,aAAa;IAC1B,IAAI,EAAE,MAAM;IACZ,aAAa;IACb,MAAM,EAAE,QAAQ;IAChB,SAAS,EAAE,YAAY;IACvB,WAAW,EAAE,MAAM;CACpB;AAEM,MAAM,KAAK,GAAG;IACnB,KAAK,EAAE,OAAO;IACd,KAAK,EAAE,OAAO;IACd,KAAK,EAAE,OAAO;IACd,KAAK,EAAE,OAAO;IACd,MAAM,EAAE,QAAQ;CACjB,CAAC;;;;;;;;;;;;;AC1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;AACuB;AAGF;AAEY;AACP;;;;;;;;;;;;;;;;;;ICmDzD,4EAAgG;IAC9F,0EAAqB;IACnB,iFAA+F;IAAzB,qVAAwB;IAC5F,uDACF;;IAAA,4DAAa;IACf,4DAAM;IACR,qEAAe;;IAHT,0DACF;IADE,6JACF;;;;IA/DN,8EAAoE;IAClE,2EAAuD;IACrD,yEAAmG;IAEjG,yEAAuC;IACrC,yEAAkD;IAChD,4EAA6B;IAC3B,0EAAgC;IAAA,4DAAC;IAAA,4DAAO;IACxC,0EAA+B;IAC7B,uDACF;;IAAA,4DAAO;IACT,4DAAS;IACX,4DAAM;IACN,2EAAmD;IACjD,6EAA6B;IAC3B,2EAAgC;IAAA,6DAAC;IAAA,4DAAO;IACxC,2EAA+B;IAC7B,wDACF;;IAAA,4DAAO;IACT,4DAAS;IACX,4DAAM;IACN,2EAAqD;IACnD,6EAA6B;IAC3B,2EAAgC;IAAA,6DAAC;IAAA,4DAAO;IACxC,2EAA+B;IAC7B,wDACF;;IAAA,4DAAO;IACT,4DAAS;IACX,4DAAM;IACN,2EAA2C;IACzC,6EAA6B;IAC3B,2EAAgC;IAAA,6DAAC;IAAA,4DAAO;IACxC,2EAA+B;IAAA,wDAAkC;;IAAA,4DAAO;IAC1E,4DAAS;IACX,4DAAM;IACR,4DAAM;IAEN,2EAAqF;IACnF,2EAAwE;IACtE,8FAC0C;IADlB,yVAA6B;IAErD,4DAAyB;IAC3B,4DAAM;IACN,2EAAyE;IACvE,8FACyE;IADvB,+VAAgC,0TACpC,IAAI,KADgC;IACT,4DAAyB;IAGpG,4DAAM;IACN,2EAAwE;IACtE,0FAAyI;IAArH,oWAAoC;IACxD,4DAAqB;IACvB,4DAAM;IACN,2EAA8E;IAC5E,wFAA6H;IAA1C,0UAAqB;IAAqB,4DAAmB;IAClJ,4DAAM;IACR,4DAAM;IACR,4DAAM;IACR,qEAAe;IACf,gJAMe;IACjB,4DAAW;;;IAzDG,0DACF;IADE,8KACF;IAOE,0DACF;IADE,+KACF;IAOE,0DACF;IADE,0KACF;IAM+B,0DAAkC;IAAlC,sJAAkC;IAY3C,0DAAyB;IAAzB,yFAAyB;IAM4B,0DAA2B;IAA3B,2FAA2B;IAItF,0DAAqB;IAArB,qFAAqB;IAKhC,0DAAgB;IAAhB,mFAAgB;;;;IAQjC,0FAAsH;IAA9D,kXAAyC;IAAqB,4DAAkB;;AD/CjI,MAAM,oBAAoB;IAC/B,YACU,UAAsB,EACtB,WAA2B,EAC3B,MAAc,EACd,cAA8B,EAC9B,gBAAkC;QAJlC,eAAU,GAAV,UAAU,CAAY;QACtB,gBAAW,GAAX,WAAW,CAAgB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAOrC,mBAAc,GAAG,KAAK,CAAC;QACvB,eAAU,GAAG,IAAI,CAAC;QAClB,eAAU,GAAG,IAAI,CAAC;QAClB,8BAAyB,GAAG,EAAE,CAAC;QAG/B,gBAAW,GAAO,EAAE,CAAC;QACrB,kBAAa,GAAQ,EAAE,CAAC;QAEvB,mBAAc,GAAG,IAAI,CAAC;QAd5B,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAeD,IAAI;QACF,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC;IAED,IAAI;QACF,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,MAAM,mBAAmB,GAAG,CAAC,mEAAK,CAAC,UAAU,EAAE,mEAAK,CAAC,WAAW,CAAC,CAAC;QAClE,IAAI,IAAI,CAAC,cAAc,EAAE;YACvB,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAClE,OAAO;SACR;QACD,IAAI,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YACzC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YACtC,OAAO;SACR;QACD,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;IAC1B,CAAC;IAED,QAAQ;QACN,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YACxE,IAAI,GAAG,CAAC,QAAQ,KAAK,mEAAK,CAAC,WAAW,EAAE;gBACtC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,MAAM,EAAE;gBAClC,IAAI,CAAC,IAAI,EAAE,CAAC;aACb;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,MAAM,MAAM,GAAG,wEAAW,CAAC,UAAU,CAAC;QAEtC,IAAI,CAAC,OAAO,GAAG,IAAI,iDAAO,CACxB,QAAQ,CAAC,aAAa,CAAC,uBAAuB,CAAC,EAC/C;YACE,MAAM,EAAE,MAAM;YACd,SAAS,EAAE,IAAI;SAChB,CACF,CAAC;IACJ,CAAC;IAED,WAAW;QACT,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC;QAElE,SAAS,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,CAAC,KAAU,EAAE,EAAE;YAC5D,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAExC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,UAAkB,EAAE,MAAW;QAC9C,IAAI,UAAU,KAAK,mEAAK,CAAC,UAAU,EAAE;YACnC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,+EAAW,CAAC,cAAc,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SACzB;aAAM,IACL,MAAM;YACN,MAAM,CAAC,EAAE,KAAK,CAAC;YACf,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,IAAI,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC,EACxC;YACA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;aAAM,IAAI,UAAU,KAAK,mEAAK,CAAC,aAAa,EAAE;YAC7C,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,+EAAW,CAAC,kBAAkB,CAAC,CAAC;YAC3D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SACxB;aAAM,IAAI,UAAU,KAAK,mEAAK,CAAC,WAAW,EAAE;YAC3C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,+EAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC,+EAAW,CAAC,gBAAgB,CAAC;YAChG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;SACvC;IACH,CAAC;IAED,kBAAkB,CAAC,WAAgB,EAAE,MAAM,GAAG,KAAK;QACjD,OAAO,CAAC,GAAG,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,WAAW,qBAAQ,WAAW,CAAE,CAAC;QACtC,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,cAAc;iBAChB,YAAY,CAAC;gBACZ,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;gBACzC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU;gBACvC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;gBACzC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU;gBACvC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;gBACrC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY;gBACvC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;gBAClC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;aAClC,CAAC;iBACD,SAAS,CACR,CAAC,GAAiB,EAAE,EAAE;gBACpB,IAAI,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;oBACnC,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;qBAAM;oBACL,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;iBAC/E;YACH,CAAC,EACD,CAAC,GAAG,EAAE,EAAE;gBACN,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;YAChF,CAAC,CACF;iBACA,GAAG,CAAC,GAAG,EAAE;gBACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;SACN;IACH,CAAC;IACD;;OAEG;IACH,cAAc;QACZ,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAE3B,UAAU,CAAC,GAAG,EAAE;YACd,MAAM,KAAK,GAAa;gBACtB,QAAQ,EAAE,mEAAK,CAAC,UAAU;gBAC1B,OAAO,EAAE,qEAAO,CAAC,aAAa;aAC/B,CAAC;YAEF,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAED;;;OAGG;IACH,eAAe,CAAC,EAAE,MAAM,GAAG,IAAI,EAAE,GAAG,GAAG,EAAE,EAAE;QACzC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;QACzB,IAAI,CAAC,yBAAyB,GAAG,GAAG,CAAC;QACrC,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IACD;;OAEG;IACH,SAAS;QACP,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC;IACD;;;OAGG;IACH,eAAe,CAAC,SAAc;QAC5B,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAChE,IAAI,CAAC,WAAW,mCAAQ,IAAI,CAAC,WAAW,GAAK,SAAS,CAAE,CAAC;QACzD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAE5B,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IACD;;;OAGG;IACF,0BAA0B,CAAC,UAAkB;QAC5C,IAAI,UAAU,KAAK,MAAM,EAAE;YACzB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;SAC5B;aAAM;YACL,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;IACH,CAAC;IACD;;OAEG;IACH,gBAAgB;QACd,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAC3C,MAAM,IAAI,GAAG,qEAAO,CAAC,QAAQ,CAAC;QAC9B,MAAM,IAAI,GAAa;YACrB,QAAQ,EAAE,aAAa;YACvB,OAAO,EAAE,IAAI;SACd,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,YAAY;QACV,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAC3C,MAAM,IAAI,GAAG,qEAAO,CAAC,QAAQ,CAAC;QAC9B,MAAM,IAAI,GAAa;YACrB,QAAQ,EAAE,aAAa;YACvB,OAAO,EAAE,IAAI;SACd,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,aAAa;QACX,MAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QACrE,MAAM,UAAU,GAAG,gBAAgB,aAAhB,gBAAgB,uBAAhB,gBAAgB,CAAE,aAAa,CAChD,wBAAwB,CACzB,CAAC;QACF,OAAO,WAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,YAAY,CAAC,WAAW,MAAK,EAAE,CAAC;IACrD,CAAC;;wFArOU,oBAAoB;oGAApB,oBAAoB;;;;;;QCpBjC,4HAkEW;QACX,wIAAwI;;QAnE3F,qFAAqB;QAmEhC,0DAAoB;QAApB,oFAAoB;;;;;;;;;;;;;;ACnEtD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,aAAa,EAAE,6BAA6B;CAC7C,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO8B;AACgB;AACc;AAEe;AAET;;;AAG3D,MAAM,sBAAsB;IAGjC,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAFpC,YAAO,GAAG,EAAE,CAAC;IAE0B,CAAC;IAEhD,SAAS,CACP,GAAqB,EACrB,IAAiB;QAEjB,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;YAEjC,MAAM,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,wFAAkB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;YAC1E,MAAM,OAAO,GAAG,IAAI,gEAAW,CAAC;gBAC9B,aAAa,EAAE,KAAK;gBACpB,cAAc,EAAE,kBAAkB;aACnC,CAAC,CAAC;YAEH,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC;gBACzB,OAAO;gBACP,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC,GAAG,EAAE;aAClC,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAC/B,0DAAG,CAAC,CAAC,KAAqB,EAAE,EAAE;gBAC5B,IAAI,KAAK,YAAY,iEAAY,EAAE;oBACjC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBAC5D;gBACD,OAAO,KAAK,CAAC;YACf,CAAC,CAAC,EACF,iEAAU,CAAC,GAAG,CAAC,EAAE;gBACf,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;YAC1C,CAAC,CAAC,CACH,CAAC;SACH;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAEO,UAAU,CAAC,IAAS,IAAI,CAAC;IAEzB,WAAW,CAAC,KAAU,EAAE,GAAqB,EAAE,IAAiB;QACtE,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;YACxB,OAAO,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,IAAI,CACrC,gEAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;gBACrB,MAAM,KAAK,GAAG,GAAG,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,YAAY,EAAE,CAAC;gBACtD,MAAM,OAAO,GAAG,IAAI,gEAAW,CAAC;oBAC9B,aAAa,EAAE,KAAK;oBACpB,cAAc,EAAE,kBAAkB;iBACnC,CAAC,CAAC;gBAEH,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,wFAAkB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gBAC7D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;gBAEjC,MAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC;oBACzB,OAAO;oBACP,GAAG,EAAE,GAAG,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC,GAAG,EAAE;iBAClC,CAAC,CAAC;gBACH,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAC/B,CAAC,CAAC,CACH,CAAC;SACH;QACD,OAAO,uDAAU,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAEO,UAAU;QAChB,OAAO,6EAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC;IAChD,CAAC;;4FAnEU,sBAAsB;yGAAtB,sBAAsB,WAAtB,sBAAsB;;;;;;;;;;;;;ACjBnC;AAAA;AAAA;AAAA;AAAA;AAAwE;;;;AAOjE,MAAM,yBAAyB;IAKpC;QAHU,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACjD,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;IAE3C,CAAC;IAEjB,QAAQ;IACR,CAAC;IAED,IAAI;QACF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;;kGAhBU,yBAAyB;yGAAzB,yBAAyB;QCPtC,oEAA0B;QAC1B,yEAAyC;QACvC,yEAAwD;QACtD,4EAAqG;QAAjB,iJAAS,UAAM,IAAC;QAClG,uDACF;;QAAA,4DAAS;QACT,4EAAuG;QAAjB,iJAAS,UAAM,IAAC;QACpG,uDACF;;QAAA,4DAAS;QACX,4DAAM;QACR,4DAAM;;QANA,0DACF;QADE,6JACF;QAEE,0DACF;QADE,6JACF;;;;;;;;;;;;;;ACRJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOuB;AAIsC;AACL;AAMG;;;;;;;AAOpD,MAAM,eAAe;IAQ1B,YACU,GAAe,EACf,SAA2B,EAC3B,MAAc,EACd,cAA8B,EAC9B,gBAAkC;QAJlC,QAAG,GAAH,GAAG,CAAY;QACf,cAAS,GAAT,SAAS,CAAkB;QAC3B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAZlC,wBAAmB,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAC5D,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAEnD,mBAAc,GAAG,IAAI,CAAC;QACtB,eAAU,GAAG,EAAE,CAAC;QAUtB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YACjE,IAAI,GAAG,CAAC,QAAQ,KAAK,mEAAK,CAAC,MAAM,EAAE;gBACjC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBACpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,YAAY,EAAE;gBAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;aACpB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,MAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC7B,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;IAED,aAAa;QACX,MAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;YACxB,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;YAC9B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;YAClC,IAAI,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE;gBAC1C,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;gBACjC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;aACxB;SACF;aAAM;YACL,IAAI,CAAC,UAAU,IAAI,MAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,GAAG,KAAI,EAAE,CAAC;SACrC;IACH,CAAC;IAED,UAAU,CAAC,OAAe;QACxB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC1B,MAAM,KAAK,GAAuB;YAChC,aAAa,EAAE,OAAO;SACvB,CAAC;QACF,IAAI,CAAC,cAAc;aAChB,aAAa,CAAC,KAAK,CAAC;aACpB,SAAS,CACR,CAAC,GAAiB,EAAE,EAAE;YACpB,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE;gBAC1C,MAAM,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,wEAAW,CAAC,UAAU,EAAE;oBAC3B,IAAI,CAAC,gBAAgB,iCAAM,CAAC,IAAI,IAAI,EAAE,CAAC,KAAE,MAAM,EAAE,OAAO,IAAG,CAAC;oBAC5D,OAAO;iBACR;gBACD,IAAI,IAAI,EAAE;oBACR,IAAI,CAAC,gBAAgB,iCAAM,IAAI,KAAE,MAAM,EAAE,OAAO,IAAG,CAAC;oBACpD,IAAI,CAAC,aAAa,EAAE,CAAC;iBACtB;qBAAM;oBACL,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACxC,qBAAqB,CACtB,8BAA8B,OAAO,MAAM,CAAC;oBAC7C,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBACrB;gBACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;aAC3B;iBAAM;gBACL,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACxC,wBAAwB,CACzB,8BAA8B,OAAO,MAAM,CAAC;gBAC7C,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACpB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;aAC1B;QACH,CAAC,EACD,GAAG,EAAE;YACH,IAAI,CAAC,GAAG,CAAC,KAAK,CACZ,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wBAAwB,CAAC,CACxD,CAAC;QACJ,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IACD;;OAEG;IACH,QAAQ;QACN,yCAAyC;QACzC,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACvB,CAAC;IAED,gBAAgB,CAAC,IAAU;QACzB,4BAA4B;QAC5B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,mEAAK,CAAC,SAAS,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACvB,CAAC;;8EA1HU,eAAe;+FAAf,eAAe;QCzB5B,yEAAgC;QAC9B,yEAA8B;QAC5B,uEAA0B;QACxB,uDACF;;QAAA,4DAAI;QACN,4DAAM;QACN,yEAAyD;QACvD,oEAAqC;QACvC,4DAAM;QACR,4DAAM;;QANA,0DACF;QADE,iKACF;;;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEE;AACE;;AAKxC,MAAM,UAAU;IAKrB;QAHQ,YAAO,GAAiB,IAAI,4CAAO,EAAE,CAAC;QACtC,cAAS,GAAG,KAAK,CAAC;IAEV,CAAC;IAEjB,SAAS,CAAC,KAAU;QAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IACrC,CAAC;IAED;;OAEG;IACH,UAAU,CAAC,SAAkB;QAC3B,MAAM,KAAK,GAAa;YACtB,QAAQ,EAAE,qDAAK,CAAC,IAAI;YACpB,OAAO,EAAE,uDAAO,CAAC,OAAO;YACxB,IAAI,EAAE,SAAS;SAChB,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IACD;;OAEG;IACH,KAAK,CAAC,GAAW;QACf,MAAM,KAAK,GAAa;YACtB,QAAQ,EAAE,qDAAK,CAAC,IAAI;YACpB,OAAO,EAAE,uDAAO,CAAC,cAAc;YAC/B,IAAI,EAAE,GAAG;SACV,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;;oEAzCU,UAAU;6FAAV,UAAU,WAAV,UAAU,mBAFT,MAAM;;;;;;;;;;;;;ACNpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;AAE0B;;;;;;;;ICGvD,yEAAyE;IACvE,uDACF;;IAAA,4DAAK;;;IADH,0DACF;IADE,wKACF;;;IACA,yEAA4E;IAC1E,uDACF;;IAAA,4DAAK;;;IADH,0DACF;IADE,0KACF;;ADDG,MAAM,eAAe;IAO1B,YAAmB,SAA2B;QAA3B,cAAS,GAAT,SAAS,CAAkB;QAFvC,kBAAa,GAAG,KAAK,CAAC;QAG3B,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC1D,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IACD,WAAW;QACT,qCAAqC;IACvC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACzB,CAAC;IAGD,WAAW;QACT,MAAM,MAAM,GAAG,wEAAW,CAAC,UAAU,CAAC;QACtC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,iDAAO,CACxB,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAC1C;YACE,MAAM,EAAE,MAAM;YACd,SAAS,EAAE,IAAI;SAChB,CACF,CAAC;QACF,6CAA6C;QAC7C,sBAAsB;IACxB,CAAC;;8EApCU,eAAe;+FAAf,eAAe;QCV5B,6EAAkD;QAChD,4EAAiC;QACjC,yEAAoB;QAClB,mEACF;QAAA,4DAAM;QACN,yEAAqC;QACnC,yGAEK;QACL,yGAEK;QAOP,4DAAM;QACN,yEAAmB;QACjB,yEAAuE;QACrE,yEAAsC;QACpC,0EAAyD;QACvD,qEAAoD;QACtD,4DAAM;QACN,2EAAgE;QAE9D,2EAA2E;QACzE,2EAAkD;QAChD,8EAA6B;QAC3B,4EAAgC;QAAA,6DAAC;QAAA,4DAAO;QACxC,4EAA+B;QAC7B,wDACF;;QAAA,4DAAO;QACT,4DAAS;QACX,4DAAM;QACN,2EAAmD;QACjD,8EAA6B;QAC3B,4EAAgC;QAAA,6DAAC;QAAA,4DAAO;QACxC,4EAA+B;QAC7B,wDACF;;QAAA,4DAAO;QACT,4DAAS;QACX,4DAAM;QACN,2EAAqD;QACnD,8EAA6B;QAC3B,4EAAgC;QAAA,6DAAC;QAAA,4DAAO;QACxC,4EAA+B;QAC7B,wDACF;;QAAA,4DAAO;QACT,4DAAS;QACX,4DAAM;QACN,2EAA2C;QACzC,8EAA6B;QAC3B,4EAAgC;QAAA,6DAAC;QAAA,4DAAO;QACxC,4EAA+B;QAAA,wDAAkC;;QAAA,4DAAO;QAC1E,4DAAS;QACX,4DAAM;QACR,4DAAM;QAEN,2EAAsD;QACpD,sEACM;QACN,sEACM;QACN,sEACM;QACN,sEACM;QACR,4DAAM;QACR,4DAAM;QACN,4EAA+B;QACjC,4DAAM;QACN,kEAEM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAU;;QAxED,0DAAyB;QAAzB,yFAAyB;QAGzB,0DAA4B;QAA5B,4FAA4B;QAkBtB,0DAAmC;QAAnC,gGAAmC;QAKhC,0DACF;QADE,6KACF;QAOE,0DACF;QADE,8KACF;QAOE,0DACF;QADE,0KACF;QAM+B,0DAAkC;QAAlC,sJAAkC;;;;;;;;;;;;;;ACtDjF;AAAA;AAAA;AAAA;AAAA;AAA+C;AACS;;AAejD,MAAM,aAAa;;0EAAb,aAAa;4FAAb,aAAa;gGAPf;YACP,4DAAY;SACb;mIAKU,aAAa,mBATtB,oEAAgB,aAGhB,4DAAY,aAGZ,oEAAgB;;;;;;;;;;;;;ACbpB;AAAA;AAAA;AAAA;AAA2C;;AAMpC,MAAM,gBAAgB;IAc3B;QAZQ,SAAI,GAAiB,IAAI,4CAAO,EAAE,CAAC;QAC3C,oBAAoB;QACb,SAAI,GAAG,EAAE,CAAC;QACV,gBAAW,GAAO,EAAE,CAAC;QACrB,kBAAa,GAAQ,EAAE,CAAC;QACxB,eAAU,GAAG,IAAI,CAAC;QAClB,8BAAyB,GAAG,EAAE,CAAC;QAC/B,kBAAa,GAAG,KAAK,CAAC;QAEtB,cAAS,GAAG,EAAE,CAAC;QACf,iBAAY,GAAG,EAAE,CAAC;IAET,CAAC;IAEjB,cAAc;QACZ,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,cAAc,CAAC,IAAI;QACjB,IAAI,CAAC,WAAW,mCAAO,IAAI,CAAC,WAAW,GAAK,IAAI,CAAC,CAAC;IACpD,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IAED,OAAO,CAAC,KAAU;QAChB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;IAClC,CAAC;IAED,OAAO,CAAC,IAAY;QAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAED,gBAAgB,CAAC,KAAK;QACpB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,YAAY,CAAC,KAAK;QAChB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,eAAe,CAAC,KAAK;QACnB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC5B,CAAC;;gFAlDU,gBAAgB;mGAAhB,gBAAgB,WAAhB,gBAAgB,mBAFf,MAAM;;;;;;;;;;;;;ACLpB;AAAA;AAAO,MAAM,cAAc,GAAG;IAC7B,OAAO,EAAE,SAAS;IAClB,YAAY,EAAE,cAAc;IAC5B,OAAO,EAAE,SAAS;CAClB,CAAC;;;;;;;;;;;;;ACJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOuB;AACU;AAC0C;AAGd;AACL;AAId;AAGR;;;;;;;;;;;;;;IC+C1B,0EAAkF;IAChF,wEAAuB;IACrB,mEAA0C;IAAA,uDAC5C;IAAA,4DAAI;IACN,4DAAM;;;IAFwC,0DAC5C;IAD4C,6FAC5C;;;;;;IAKI,0EAA2E;IACzE,0EAC+I;IADxH,yWAA4B;IAEjD,0EAAmF;IACjF,uDACF;IAAA,4DAAM;IACR,4DAAM;IACR,4DAAM;;;;IALF,0DAA4I;IAA5I,uUAA4I;IAE1I,0DACF;IADE,4FACF;;;IARV,0EAA4C;IAC1C,0EAAyD;IACvD,0EAAuG;IACrG,2HAOM;IACR,4DAAM;IACR,4DAAM;IACR,4DAAM;;;IAVsB,0DAAiB;IAAjB,wFAAiB;;AD9C9C,MAAM,uBAAuB;IAalC,YACU,UAAsB,EACvB,WAA2B,EAC1B,SAA2B,EAC3B,cAA8B,EAC9B,eAAwC,EACxC,gBAAkC,EAClC,MAAc;QANd,eAAU,GAAV,UAAU,CAAY;QACvB,gBAAW,GAAX,WAAW,CAAgB;QAC1B,cAAS,GAAT,SAAS,CAAkB;QAC3B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAyB;QACxC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,WAAM,GAAN,MAAM,CAAQ;QAnBd,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACjD,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACjD,oBAAe,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAG3D,WAAM,GAAG,wEAAM,CAAC;QAIhB,iBAAY,GAAG,EAAE,CAAC;QAClB,UAAK,GAAG,EAAE,CAAC;QAWhB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YACxE,IAAI,GAAG,CAAC,QAAQ,KAAK,mEAAK,CAAC,cAAc,EAAE;gBACzC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBACpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBAC3C,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,CAAC,WAAW,qBAAO,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAClC,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,QAAQ,CAAC,SAAc;QACrB,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,IAAI,CAAC,WAAW,mCAAQ,IAAI,CAAC,WAAW,GAAK,SAAS,CAAE,CAAC;QACzD,IAAI,CAAC,cAAc;aAChB,YAAY,CAAC;YACZ,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,IAAI,mCAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;YACpF,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,IAAI,mCAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC;YAClF,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW;YACzC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU;YACvC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;YACrC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY;YACvC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;YAClC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK;SAClC,CAAC;aACD,IAAI,CACH,+DAAQ,CAAC,CAAC,GAAiB,EAAE,EAAE;YAC7B,IAAI,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;gBACnC,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAC9C,IAAI,CAAC,WAAW,CAAC,WAAW,EAC5B,IAAI,CAAC,WAAW,CAAC,UAAU,EAC3B,IAAI,CACL,CAAC;aACH;iBAAM;gBACL,uDAAU,CAAC;oBACT,IAAI,EAAE,EAAE;oBACR,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC;oBAC/D,QAAQ,EAAE,gFAAc;iBACzB,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CACH;aACA,SAAS,CACR,CAAC,GAAiB,EAAE,EAAE;YACpB,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE;gBAC1C,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ;qBAC7B,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,iCACV,IAAI,KACP,YAAY,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,IACpC,CAAC;gBACH,WAAW;gBACX,mEAAmE;gBACnE,KAAK;gBACP,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;oBACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;iBACpD;aACF;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,IAAI,EAAE,CAAC;gBAC/B,uDAAU,CAAC;oBACT,IAAI,EAAE,EAAE;oBACR,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,CAAC;oBAC/D,QAAQ,EAAE,KAAK;iBAChB,CAAC,CAAC;aACJ;QACH,CAAC,EACD,CAAC,GAAQ,EAAE,EAAE;YACX,IAAI,GAAG,CAAC,QAAQ,EAAE;gBAChB,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO;oBACV,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAC5D,CAAC;aACH;QACH,CAAC,CACF,CAAC,GAAG,CAAC,GAAG,EAAE;YACT,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,cAAc,CAAC,QAAgB;QAC7B,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACvC,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,gBAAgB;QACd,uBAAuB;QACvB,yBAAyB;QACzB,MAAM;QACN,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,mEAAK,CAAC,SAAS,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC/D,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,YAAY,CAAC,IAAS;QACpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACrC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAClC,CAAC;IAED;;OAEG;IACH,cAAc;QACZ,OAAO,mCAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IACzE,CAAC;IAED,aAAa;QACX,OAAO,mCAAM,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IACxE,CAAC;IAED,eAAe;QACb,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE;YAChE,OAAO,GAAG,CAAC;SACZ;QACD,MAAM,KAAK,GAAG,mCAAM,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QACnD,MAAM,GAAG,GAAG,mCAAM,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QAChD,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;IACjE,CAAC;IAED,YAAY;;QACV,MAAM,KAAK,GACT,CAAC,WAAI,CAAC,aAAa,0CAAE,IAAI,KAAI,CAAC,CAAC;YAC/B,CAAC,WAAI,CAAC,aAAa,0CAAE,IAAI,KAAI,CAAC,CAAC;YAC/B,CAAC,WAAI,CAAC,aAAa,0CAAE,IAAI,KAAI,CAAC,CAAC,CAAC;QAClC,OAAO,KAAK,IAAI,CAAC,CAAC;IACpB,CAAC;;8FAxKU,uBAAuB;uGAAvB,uBAAuB;QC7BpC,yEAAwC;QAEtC,wEAAgD;QAC9C,uDACF;;QAAA,4DAAK;QACL,yEAAuC;QACrC,yEAAuB;QACrB,yEAAiC;QAC/B,yEAAmB;QACjB,uEAAM;QAAA,uDAA0C;;QAAA,4DAAO;QACzD,4DAAM;QACN,0EAAmB;QACjB,2EAA0C;QAAA,wDAA2B;QAAA,4DAAO;QAC9E,4DAAM;QACR,4DAAM;QACN,qEAAoC;QACpC,0EAAiC;QAC/B,0EAAmB;QACjB,2EAAS;QAAA,wDAAsC;;QAAA,4DAAO;QACxD,4DAAM;QACN,0EAAmB;QACjB,4EAA2B;QAAA,wDAEvB;QAAA,4DAAO;QACb,4DAAM;QACN,0EAAmB;QACjB,wEAAM;QAAA,wDAAoC;;QAAA,4DAAO;QACnD,4DAAM;QACN,0EAAmB;QACjB,4EAA2B;QAAA,wDAEvB;QAAA,4DAAO;QACb,4DAAM;QACR,4DAAM;QACN,2EAAsC;QACpC,0EAAmB;QACjB,wEAAM;QAAA,wDAA0C;;QAAA,4DAAO;QACzD,4DAAM;QACN,2EAAiB;QACf,4EAA2B;QAAA,wDACvB;QAAA,4DAAO;QACb,4DAAM;QACR,4DAAM;QACN,qEAAoC;QACpC,0EAAiC;QAC/B,0EAAmB;QACjB,wEAAM;QAAA,wDAAsC;;QAAA,4DAAO;QACrD,4DAAM;QACN,0EAAmB;QACjB,4EAA2B;QAAA,wDAA2D;QAAA,4DAAO;QAC/F,4DAAM;QACN,0EAAmB;QACjB,wEAAM;QAAA,wDAA0C;;QAAA,4DAAO;QACzD,4DAAM;QACN,0EAAmB;QACjB,4EAA2B;QAAA,wDAA8B;QAAA,4DAAO;QAClE,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QAEN,yEAAgD;QAC9C,kFAAW;QAAA,+EAA0D;QAApB,iJAAS,aAAS,IAAC;QAAC,4DAAU;QACjF,4DAAK;QACL,0EAAuC;QACrC,0EAAuB;QACrB,2EAA+B;QAC7B,sHAIM;QACN,sHAaM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QAEN,yEAAgD;QAC9C,wDACF;;QAAA,4DAAK;QACL,0EAAuC;QACrC,0EAAuB;QACrB,2EAAqE;QACnE,uEAAK;QACH,qEAAG;QAAA,wDAA0C;;QAAA,4DAAI;QACnD,4DAAM;QACN,uEAAK;QACH,yEAA6C;QAAA,wDAAsD;QAAA,4DAAI;QACzG,4DAAM;QACR,4DAAM;QACN,2EAAqE;QACnE,uEAAK;QACH,qEAAG;QAAA,wDAAyC;;QAAA,4DAAI;QAClD,4DAAM;QACN,uEAAK;QACH,yEAA6C;QAAA,wDAAsD;QAAA,4DAAI;QACzG,4DAAM;QACR,4DAAM;QACN,2EAAqE;QACnE,uEAAK;QACH,qEAAG;QAAA,wDAA+C;;QAAA,4DAAI;QACxD,4DAAM;QACN,uEAAK;QACH,yEAA6C;QAAA,wDAAsD;QAAA,4DAAI;QACzG,4DAAM;QACR,4DAAM;QACN,qEAAoC;QACpC,2EAAqE;QACnE,uEAAK;QACH,qEAAG;QAAA,wDAA2C;;QAAA,4DAAI;QACpD,4DAAM;QACN,uEAAK;QACH,4EAAgD;QAAA,wDAAiD;QAAA,4DAAO;QAC1G,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACN,4EAAoE;QAClE,mFAAmG;QAA7B,qJAAS,sBAAkB,IAAC;QAChG,yDACF;;QAAA,4DAAa;QACf,4DAAM;QACR,4DAAM;;QApIF,0DACF;QADE,gLACF;QAKc,0DAA0C;QAA1C,4JAA0C;QAGN,0DAA2B;QAA3B,0FAA2B;QAM5D,0DAAsC;QAAtC,wJAAsC;QAGpB,0DAEvB;QAFuB,qFAEvB;QAGE,0DAAoC;QAApC,sJAAoC;QAGf,0DAEvB;QAFuB,oFAEvB;QAKE,0DAA0C;QAA1C,4JAA0C;QAGrB,0DACvB;QADuB,sFACvB;QAME,0DAAsC;QAAtC,wJAAsC;QAGjB,0DAA2D;QAA3D,uIAA2D;QAGhF,0DAA0C;QAA1C,4JAA0C;QAGrB,0DAA8B;QAA9B,6FAA8B;QAO3C,0DAAe;QAAf,4EAAe;QAKzB,0DAAW;QAAX,2EAAW;QAKX,0DAAY;QAAZ,4EAAY;QAmBtB,0DACF;QADE,sKACF;QAKW,0DAA0C;QAA1C,4JAA0C;QAGA,0DAAsD;QAAtD,oKAAsD;QAKhG,0DAAyC;QAAzC,2JAAyC;QAGC,0DAAsD;QAAtD,oKAAsD;QAKhG,0DAA+C;QAA/C,iKAA+C;QAGL,0DAAsD;QAAtD,oKAAsD;QAMhG,0DAA2C;QAA3C,6JAA2C;QAGE,0DAAiD;QAAjD,6HAAiD;QAOrG,0DACF;QADE,wKACF;;;;;;;;;;;;;;ACrIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOuB;AAIiC;AACK;;;;;;;;;;;ICFzD,yEAAmD;IACjD,oEAAmC;IACrC,4DAAM;;ADiBH,MAAM,oBAAoB;IAS/B,YACU,UAAsB,EACtB,cAA8B,EAC9B,MAAc,EACd,gBAAkC,EAClC,SAA2B;QAJ3B,eAAU,GAAV,UAAU,CAAY;QACtB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,cAAS,GAAT,SAAS,CAAkB;QAb3B,aAAQ,GAAsB,IAAI,0DAAY,EAAE,CAAC;QACjD,mBAAc,GAAsB,IAAI,0DAAY,EAAE,CAAC;QAE1D,gBAAW,GAAG,EAAE,CAAC;QAGhB,mBAAc,GAAG,IAAI,CAAC;QAS5B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YACxE,IAAI,GAAG,CAAC,QAAQ,KAAK,mEAAK,CAAC,WAAW,EAAE;gBACtC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBACpC,IAAI,CAAC,MAAM,EAAE,CAAC;aACf;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,qEAAO,CAAC,QAAQ,EAAE;gBAC3C,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,uBAAuB;IACzB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,yBAAyB,CAAC,CACzD,CAAC;YACF,OAAO;SACR;QACD,MAAM,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QAChD,IAAI,eAAe,KAAK,EAAE,EAAE;YAC1B,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,yBAAyB,CAAC,CACzD,CAAC;YACF,OAAO;SACR;QACD,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;IACnC,CAAC;IAED,UAAU,CAAC,OAAe;QACxB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACjC,MAAM,KAAK,GAAuB;YAChC,aAAa,EAAE,OAAO;SACvB,CAAC;QAEF,IAAI,CAAC,cAAc;aAChB,aAAa,CAAC,KAAK,CAAC;aACpB,SAAS,CACR,CAAC,GAAiB,EAAE,EAAE;YACpB,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE;gBAC1C,MAAM,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC7B,+DAA+D;gBAC/D,IAAI,IAAI,EAAE;oBACR,IAAI,CAAC,gBAAgB,iCAAM,IAAI,KAAE,MAAM,EAAE,OAAO,IAAG,CAAC;iBACrD;qBAAM;oBACL,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CACxC,qBAAqB,CACtB,8BAA8B,OAAO,MAAM,CAAC;oBAC7C,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBAC5B;aACF;iBAAM;gBACL,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wBAAwB,CAAC,CACxD,CAAC;gBACF,qEAAqE;aACtE;QACH,CAAC,EACD,GAAG,EAAE;YACH,IAAI,CAAC,UAAU,CAAC,KAAK,CACnB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wBAAwB,CAAC,CACxD,CAAC;YACF,qEAAqE;QACvE,CAAC,CACF;aACA,GAAG,CAAC,GAAG,EAAE;YACR,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;OAGG;IACH,mBAAmB;IACnB,kCAAkC;IAClC,mCAAmC;IACnC,+CAA+C;IAC/C,oDAAoD;IACpD,QAAQ;IACR,oDAAoD;IACpD,mCAAmC;IACnC,iCAAiC;IACjC,QAAQ;IACR,sCAAsC;IACtC,iCAAiC;IACjC,QAAQ;IACR,QAAQ;IACR,IAAI;IAEJ,oBAAoB;IACpB,8BAA8B;IAC9B,IAAI;IAEJ,uBAAuB;IACvB,uDAAuD;IACvD,8BAA8B;IAC9B,MAAM;IACN,IAAI;IAEJ,oCAAoC;IACpC,gDAAgD;IAChD,KAAK;IAEL,uBAAuB;IACvB,0DAA0D;IAC1D,yEAAyE;IAEzE,QAAQ;IACR,mDAAmD;IACnD,QAAQ;IACR,uDAAuD;IACvD,6BAA6B;IAC7B,MAAM;IAEN,+BAA+B;IAC/B,8BAA8B;IAC9B,QAAQ;IACR,IAAI;IAEJ;;;OAGG;IACH,gBAAgB,CAAC,IAAI;QACnB,4BAA4B;QAC5B,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,mEAAK,CAAC,WAAW,IAAI,mEAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACxC,CAAC;;wFA3JU,oBAAoB;oGAApB,oBAAoB;QC7BjC,yEAAsE;QACpE,yEAAyB;QACvB,wEAAiE;QAC/D,uDACF;;QAAA,4DAAK;QACL,yEAAyD;QACvD,2EAC6B;QADsC,6LAAyB,+FAC3E,YAAQ,IADmE;QAA5F,4DAC6B;QAE/B,4DAAM;QACN,gHAEM;QACR,4DAAM;QACN,yEAAoE;QAClE,gFAAyF;QAAnB,gJAAS,YAAQ,IAAC;QACtF,wDACF;;QAAA,4DAAa;QACf,4DAAM;QACR,4DAAM;;QAhBA,0DACF;QADE,sKACF;QAEqE,0DAAyB;QAAzB,oFAAyB;QAIxF,0DAAW;QAAX,uEAAW;QAMf,0DACF;QADE,sKACF;;;;;;;;;;;;;;ACjBJ;AAAA;AAAO,MAAM,WAAW,GAAG;IACzB,cAAc,EAAE,uBAAuB;IACvC,gBAAgB,EAAE,wBAAwB;IAC1C,kBAAkB,EAAE,0BAA0B;IAC9C,gBAAgB,EAAE,wBAAwB;IAC1C,UAAU,EAAE,kBAAkB;IAC9B,WAAW,EAAE,mBAAmB;IAChC,UAAU,EAAE,kBAAkB;IAC9B,aAAa,EAAE,kBAAkB;IACjC,WAAW,EAAE,mBAAmB;IAChC,gBAAgB,EAAE,wBAAwB;CAC3C;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;;;AAM1B,MAAM,cAAc;IACzB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,aAAa,CAAC,IAAS;QACrB,MAAM,IAAI,GAAuB;YAC/B,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,EAAE;YACX,KAAK,EAAE,EAAE;YACT,WAAW,EAAE,EAAE;YACf,UAAU,EAAE,EAAE;YACd,WAAW,EAAE,EAAE;YACf,UAAU,EAAE,EAAE;YACd,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,CAAC;YACR,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE,EAAE;YACZ,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,EAAE;YACd,cAAc,EAAE,GAAG;YACnB,iBAAiB,EAAE,CAAC;YACpB,UAAU,EAAE,GAAG;YACf,OAAO,EAAE,GAAG;YACZ,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAE,EAAE;YACV,eAAe,EAAE,EAAE;YACnB,aAAa,EAAE,EAAE;YACjB,aAAa,EAAE,CAAC;SACjB,CAAC;QAEF,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;YAChC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,MAAM,QAAQ,GAAG,4BAA4B,CAAC;QAC9C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,aAAa,CAAC,IAAwB;QACpC,MAAM,QAAQ,GAAG,4BAA4B,CAAC;QAC9C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,YAAY,CAAC,IAAuB;QAClC,MAAM,OAAO,GAAG,mCAAM,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACnE,MAAM,OAAO,GAAG,mCAAM,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAElE,MAAM,OAAO,GAAG,mCAAM,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC;YAC1D,CAAC,CAAC,IAAI,CAAC,WAAW;YAClB,CAAC,CAAC,mCAAM,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,OAAO,GAAG,mCAAM,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC;YACzD,CAAC,CAAC,IAAI,CAAC,UAAU;YACjB,CAAC,CAAC,mCAAM,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAEjD,MAAM,QAAQ,GAAG,yBAAyB,CAAC;QAC3C,MAAM,IAAI,iCACR,MAAM,EAAE,KAAK,EACb,QAAQ,EAAE,KAAK,EACf,YAAY,EAAE,GAAG,EACjB,UAAU,EAAE,GAAG,IACZ,IAAI,KACP,WAAW,EAAE,OAAO,EACpB,UAAU,EAAE,OAAO,EACnB,WAAW,EAAE,OAAO,EACpB,UAAU,EAAE,OAAO,GACpB,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,OAAO,CAAC,IAAkB;QACxB,MAAM,QAAQ,GAAG,qBAAqB,CAAC;QACvC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;;4EAzEU,cAAc;iGAAd,cAAc,WAAd,cAAc,mBAFb,MAAM;;;;;;;;;;;;ACTpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;AChSA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACE;AAEsD;;;;;;;;ICCxG,oEAA2C;;;IAC3C,yEAAqC;IACnC,oEAA0B;IAC5B,4DAAM;;ADKC,MAAM,YAAY;IAGvB;;OAEG;IACH,YAAoB,GAAe,EAAU,WAAqB;QAA9C,QAAG,GAAH,GAAG,CAAY;QAAU,gBAAW,GAAX,WAAW,CAAU;QALlE,UAAK,GAAG,eAAe,CAAC;QACjB,YAAO,GAAG,KAAK,CAAC;QAKrB,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,GAAa,EAAE,EAAE;YAC3C,IAAI,GAAG,CAAC,QAAQ,KAAK,4DAAK,CAAC,IAAI,EAAE;gBAC/B,OAAO;aACR;YACD,IAAI,GAAG,CAAC,OAAO,KAAK,8DAAO,CAAC,OAAO,EAAE;gBACnC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC;aAClC;iBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,8DAAO,CAAC,cAAc,EAAE;gBACjD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","file":"main.js","sourcesContent":["import { ChangeDetectorRef } from '@angular/core';\nimport { AfterViewInit, ElementRef, Input } from '@angular/core';\nimport { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[appButton]',\n})\nexport class ButtonDirective implements AfterViewInit {\n  constructor(private el: ElementRef, private cdr: ChangeDetectorRef) {\n    this.el.nativeElement.classList +=\n      ' btn btn-app font-weight-thin text-white';\n  }\n\n  ngAfterViewInit() {\n    \n    this.cdr.detectChanges();\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  OnDestroy,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { faExchangeAlt } from '@fortawesome/free-solid-svg-icons';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as moment from 'moment';\nimport { Observable } from 'rxjs';\nimport { ConfigureService } from 'src/app/config/configure/configure.service';\nimport { AUDIO_FILES } from 'src/app/shared/constant/audio-files';\nimport { ACTIONS } from 'src/app/shared/constant/event';\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\nimport { HubModel } from 'src/app/shared/models/hub.models';\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\nimport { OcrService } from 'src/app/shared/services/ocr/ocr.service';\nimport { PassportReaderService } from 'src/app/shared/services/passportReader/passport-reader.service';\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-flow-detect',\n  templateUrl: './flow-detect.component.html',\n  styleUrls: ['./flow-detect.component.scss'],\n})\nexport class FlowDetectComponent implements OnInit, OnDestroy {\n  @Output() sendGuestInfo: EventEmitter<any> = new EventEmitter();\n  @Output() backStep: EventEmitter<any> = new EventEmitter();\n\n  public faExchange = faExchangeAlt;\n\n  public PASSPORT = 'passport';\n  public IDCARD = 'idCard';\n  public LICENSE = 'license';\n  public IDCARD_NEW = 'idCard_new';\n  public INDEX_FRONT = 1;\n  public INDEX_BACK = 2;\n  public INDEX_FACE = 3;\n\n  public progressBar = [\n    {\n      index: 0,\n      key: 'type',\n      value: 10,\n      name: 'Chọn loại giấy tờ',\n      notice:\n        'Chọn một trong những loại giấy tờ phía trên để máy quét lấy thông tin',\n      audio: AUDIO_FILES.scanIdDocType,\n      textIntro: 'flowDetect.hi',\n      subTextIntro: 'flowDetect.docIntro',\n    },\n    {\n      index: 1,\n      key: 'front',\n      value: 25,\n      name: 'Đặt mặt trước của giấy tờ xuống máy quét',\n      notice: 'Sau khi đặt, chờ 1-2 giây để thiết bị tiến hành quét',\n      audio: AUDIO_FILES.scanIdFront,\n      textIntro: 'flowDetect.hi',\n      subTextIntro: 'flowDetect.frontIntro',\n    },\n    {\n      index: 2,\n      key: 'back',\n      value: 50,\n      name: 'Đặt mặt sau của giấy tờ xuống máy quét',\n      notice: 'Sau khi đặt, chờ 1-2 giây để thiết bị tiến hành quét',\n      audio: AUDIO_FILES.scanIdBack,\n      textIntro: 'flowDetect.hi',\n      subTextIntro: 'flowDetect.backIntro',\n    },\n    {\n      index: 3,\n      key: 'face',\n      value: 75,\n      name: 'Xác minh khuôn mặt',\n      notice:\n        'Vui lòng nhìn thẳng vào camera của thiết bị rồi nhấn nút \"Chụp ảnh\". Khi đã hài lòng với ảnh, hãy nhấn nút \"Xác minh\" và chờ một chút để thiết bị nhận diện.',\n      audio: AUDIO_FILES.scanIdFace,\n      textIntro: 'flowDetect.hi',\n      subTextIntro: 'flowDetect.faceIntro',\n    },\n  ];\n\n  public progress = {\n    index: 0,\n    key: 'type',\n    value: 10,\n    name: 'Chọn loại giấy tờ',\n    notice:\n      'Chọn một trong những loại giấy tờ phía trên để máy quét lấy thông tin',\n    audio: AUDIO_FILES.scanIdDocType,\n    textIntro: '',\n    subTextIntro: '',\n  };\n\n  public instruction = {\n    idCard: {\n      img: 'https://cdn2.hubspot.net/hubfs/3308097/Aila-ID-scan-TruScan.gif',\n      buttonName: 'scanIdCard.scanPassport',\n      sentence: [\n        'Xin mời đặt mặt trước của chứng minh thư vào máy quét',\n        'Xin mời đặt mặt sau của chứng minh thư vào máy quét',\n      ],\n    },\n    passport: {\n      img: 'https://www.hitouch.com/upload/images/201804/17/201804176365957939499905063885355.gif',\n      buttonName: 'scanIdCard.scanIdCard',\n      sentence: [\n        'Xin mời đặt mặt trước hộ chiếu vào máy quét',\n        'Xin mời đặt mặt trước của hộ chiếu vào máy quét',\n      ],\n    },\n  };\n\n  public guest = {\n    guestName: '',\n    address: '',\n    birth: '',\n    expiry: '',\n    passportNumber: '',\n    passportType: '',\n    sex: '',\n    nationalityCode: '',\n  };\n\n  public alert = {\n    errorModal: {\n      show: false,\n      type: '',\n      message: '',\n    },\n    successModal: {\n      show: false,\n      type: '',\n      message: '',\n    },\n    successOutside: {\n      show: false,\n      type: '',\n      message: '',\n    },\n  };\n\n  public noImage = `./assets/images/no-image.svg`;\n\n  private cardImages = [];\n\n  public seletedInstruction = {\n    key: 'passport',\n    img: '',\n    buttonName: '',\n    sentence: '',\n  };\n\n  private cardImageIndex = 0;\n  private skipCallApiProcessImage = [this.PASSPORT];\n  private isProcessFaceSuccess = false;\n  private isProcessImageSuccess = false;\n  private isProcessImageDone = false;\n\n  private hubSubcription;\n\n  constructor(\n    private hubService: HubService,\n    private utilService: UtilityService,\n    private passportReader: PassportReaderService,\n    private ocrService: OcrService,\n    private translateService: TranslateService,\n    private hubWalkin: HubWalkinService,\n    private router: Router,\n  ) {\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\n      console.log('detect: ', res);\n      if (res.receiver !== PAGES.flowDetect) {\n        return;\n      }\n      this.processHubEvent(res);\n    });\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.hubWalkin.setIsShowStepper(false);\n    }, 100);\n    this.hubWalkin.setTextIntro('flowDetect.hi');\n    this.hubWalkin.setSubTextIntro('flowDetect.docIntro');\n  }\n\n  ngOnDestroy(): void {\n    this.hubSubcription.unsubscribe();\n    this.hubWalkin.setIsShowStepper(true);\n    this.hubWalkin.setTextIntro('');\n    this.hubWalkin.setSubTextIntro('');\n    this.closeScanModal();\n  }\n\n  processHubEvent(event: HubModel) {\n    if (event.message === ACTIONS.nextStep) {\n      this.changeToNextStep();\n    } else if (event.message === ACTIONS.backStep) {\n      this.changeToPreviousStep();\n    } else if (event.message === ACTIONS.cardContent) {\n      this.processCardContent(event.data);\n    } else if (event.message === ACTIONS.cardImage) {\n      this.processCardImage(event.data);\n    } else if (event.message === ACTIONS.openScanModal) {\n      this.openScanModal();\n    }\n  }\n\n  modalNext() {\n    this.cardImageIndex += 1;\n    this.progress = this.progressBar[this.cardImageIndex];\n    this.utilService.playAudio(this.progress.audio);\n    this.hubWalkin.setTextIntro(this.progress.textIntro);\n    this.hubWalkin.setSubTextIntro(this.progress.subTextIntro);\n  }\n\n  modalBack() {\n    this.cardImageIndex -= 1;\n    this.progress = this.progressBar[this.cardImageIndex];\n    this.utilService.playAudio(this.progress.audio);\n  }\n\n  chooseMethod(method: string) {\n    this.seletedInstruction = { ...this.instruction[method], key: method };\n    this.cardImageIndex = 0;\n  }\n\n  scanFront() {\n    if (!environment.production) {\n      this.isProcessImageDone = true;\n      this.isProcessImageSuccess = true;\n      this.modalNext();\n      return;\n    }\n    if (\n      !this.skipCallApiProcessImage.includes(this.seletedInstruction.key) &&\n      this.cardImageIndex === this.INDEX_FRONT\n    ) {\n      this.isProcessImageSuccess = false;\n      this.isProcessImageDone = false;\n      const image = this.cardImages[this.INDEX_FRONT];\n\n      if (!image) {\n        this.hubService.error(this.translateService.instant('msg.notHaveFrontImage'));\n        return;\n      }\n\n      this.callImageApi(this.seletedInstruction.key, image)\n        .subscribe(\n          (res: any) => {\n            this.processImageResponse(this.seletedInstruction.key, res)();\n            this.isProcessImageSuccess = true;\n          },\n          (err: any) => {\n            const message = this.translateService.instant('msg.errorScanFront');\n            this.alert.errorModal = {\n              type: 'danger',\n              message,\n              show: false,\n            };\n            this.isProcessImageSuccess = false;\n          }\n        )\n        .add(() => {\n          this.isProcessImageDone = true;\n        });\n    }\n    this.modalNext();\n  }\n\n  /**\n   * NAVIGATE\n   */\n  changeToNextStep() {\n    if (this.isProcessFaceSuccess) {\n      this.sendGuestData();\n      this.resetSelectedInstruction();\n      this.resetHandleImage();\n      this.closeCamera();\n    } else {\n      const btn = document.getElementById('btn-open-scan-modal');\n      btn.click();\n    }\n  }\n\n  changeToPreviousStep() {\n    this.resetSelectedInstruction();\n    this.resetHandleImage();\n    this.closeCamera();\n    if (this.progress.key === 'type') {\n\n      this.backToScanId();\n      // this.router.navigate([`/${PAGES.walkin}/${STEPS.step2}`]);\n    } else {\n      this.openScanModal();\n    }\n  }\n\n  sendGuestData() {\n    // this.sendGuestInfo.emit(this.guest);\n    this.hubWalkin.setBookingData(this.guest);\n    // this.router.navigate([`/${PAGES.walkin}/${STEPS.step2}`]);\n    this.backToScanId();\n  }\n\n  backToScanId() {\n    const page = this.utilService.getCurrentPage();\n    console.log('back to scan id: ', page)\n    switch (page) {\n      case PAGES.walkin:\n        this.router.navigate([`/${page}/${STEPS.step2}`]);\n        break;\n      case PAGES.checkinQr:\n        this.router.navigate([`/${page}/${STEPS.step3}`]);\n        break;\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Scan Face\n   */\n  onScanFace(base64: string) {\n    if (!environment.production) {\n      this.progress.value = 100;\n      this.alert.successOutside.message = this.translateService.instant('msg.successScanFace');\n      this.showAlert('successOutside');\n      this.closeScanModal();\n      return;\n    }\n\n    this.hubService.setLoading(true);\n    this.cardImages[this.cardImageIndex] = base64;\n\n    const source = this.cardImages[this.INDEX_FRONT];\n    const input = base64;\n\n    const observer = {\n      next: res => {\n        const min = Number(ConfigureService.config.faceDistance.min);\n        const max = Number(ConfigureService.config.faceDistance.max); \n        const distance = res['l2 distance'];\n        // alert(`${JSON.stringify(res)} ${min} ${max}`);\n        if (distance && min <= distance && distance <= max) {\n          this.isProcessFaceSuccess = true;\n          this.progress.value = 100;\n          this.alert.successOutside.message = this.translateService.instant('msg.successScanFace');\n          this.showAlert('successOutside');\n          this.closeScanModal();\n        } else {\n          this.isProcessFaceSuccess = false;\n          this.alert.errorModal.message = this.translateService.instant('msg.notDetected');\n          this.alert.errorModal.type = 'danger';\n          this.showAlert('errorModal');\n          this.cardImageIndex = 0;\n          this.progress = this.progressBar[this.cardImageIndex];\n          this.cardImages = [];\n        }\n      },\n      error: () => {\n        this.isProcessFaceSuccess = false;\n        this.alert.errorModal.message = this.translateService.instant('msg.errorScanFace');\n        this.alert.errorModal.type = 'danger';\n        this.showAlert('errorModal');\n        this.cardImageIndex = 0;\n        this.progress = this.progressBar[this.cardImageIndex];\n        this.cardImages = [];\n      },\n    };\n\n    const interval = window.setInterval(() => {\n      if (this.isProcessImageDone) {\n        if (!this.isProcessImageSuccess) {\n          this.showAlert('errorModal');\n          this.chooseMethod(this.seletedInstruction.key);\n          this.cardImages = [];\n          this.hubService.setLoading(false);\n          window.clearInterval(interval);\n          return;\n        }\n\n        this.ocrService\n          .faceEmbedding(source, input)\n          .subscribe(observer)\n          .add(() => {\n            this.hubService.setLoading(false);\n          });\n        window.clearInterval(interval);\n      }\n    }, 100);\n  }\n  /**\n   *\n   * Quét với TH loại giấy tờ là hộ chiếu\n   */\n  processCardContent(data: any) {\n    if (!this.skipCallApiProcessImage.includes(this.seletedInstruction.key)) {\n      return;\n    }\n    if (\n      this.skipCallApiProcessImage.includes(this.seletedInstruction.key) &&\n      this.cardImageIndex !== this.INDEX_FRONT\n    ) {\n      return;\n    }\n\n    this.isProcessImageDone = true;\n\n    this.guest = {\n      birth: data['Date of birth'] || '',\n      expiry: data['Date of expiry'] || '',\n      guestName: data['National name'] || '',\n      passportNumber: data['Passport number'] || '',\n      passportType: data['Passport type'] || '',\n      address: '',\n      sex: data['Sex'] || '',\n      nationalityCode: data['Nationality code'] || '',\n    };\n\n    if (!this.guest.passportNumber) {\n      this.isProcessImageSuccess = false;\n      const message = this.translateService.instant('msg.errorScanFront');\n      this.alert.errorModal = {\n        type: 'danger',\n        message,\n        show: false,\n      };\n      return;\n    }\n\n    if (moment(this.guest.birth).isValid()) {\n      this.guest.birth = moment(this.guest.birth).format('DD/MM/yyyy');\n    }\n    if (moment(this.guest.expiry).isValid()) {\n      this.guest.expiry = moment(this.guest.expiry).format('DD/MM/yyyy');\n    }\n\n    this.isProcessImageSuccess = true;\n  }\n\n  processCardImage(image: any) {\n    this.cardImages[this.cardImageIndex] = image;\n  }\n\n  resetScannedImage(index: number) {\n    this.cardImages[index] = '';\n  }\n\n  resetSelectedInstruction() {\n    this.seletedInstruction = {\n      buttonName: '',\n      img: '',\n      key: '',\n      sentence: '',\n    };\n    this.guest = {\n      address: '',\n      guestName: '',\n      birth: '',\n      expiry: '',\n      passportNumber: '',\n      passportType: '',\n      nationalityCode: '',\n      sex: '',\n    };\n    this.cardImages = ['', ''];\n    this.resetAlert();\n  }\n\n  resetHandleImage() {\n    this.isProcessImageSuccess = false;\n    this.isProcessImageDone = false;\n    this.isProcessFaceSuccess = false;\n  }\n\n  /** PASSPORT SCANNER */\n  startPassportReader() {\n    this.passportReader.setConnectionValue(this.passportReader.getStrConnect());\n    this.passportReader.onConnection();\n  }\n\n  /**\n   * MODAL\n   */\n  openScanModal() {\n    this.startPassportReader();\n    this.progress = this.progressBar[0];\n    this.cardImages = [];\n    this.cardImageIndex = 0;\n    this.resetHandleImage();\n    this.resetAlert();\n    this.utilService.playAudio(this.progress.audio);\n  }\n\n  closeScanModal() {\n    this.passportReader.disConnect();\n    this.closeCamera();\n    this.sendGuestData();\n    this.resetSelectedInstruction();\n    this.resetHandleImage();\n    this.closeAlert('errorModal');\n  }\n\n  /**\n   * CLOSE CAMERA\n   */\n  closeCamera() {\n    const event: HubModel = {\n      receiver: PAGES.scanFace,\n      message: ACTIONS.closeCamera,\n    };\n    this.hubService.sendEvent(event);\n  }\n\n  /**\n   * PROCESS IMAGE\n   */\n  callImageApi(type: string, image: string) {\n    const result = {};\n    result[this.PASSPORT] = () => {\n      return new Observable();\n    };\n\n    result[this.IDCARD] = this.ocrService.idImage(image);\n    result[this.LICENSE] = this.ocrService.licenseImage(image);\n    result[this.IDCARD_NEW] = this.ocrService.idImageNew(image);\n    return result[type];\n  }\n\n  /**\n   * Gán dữ liệu api trả về\n   */\n  processImageResponse(type: string, data: any) {\n    const result = {};\n    result[this.PASSPORT] = () => {};\n    result[this.IDCARD] = () => {\n      this.guest = {\n        birth: data['birth'] || '',\n        expiry: '',\n        guestName: data['name'] || '',\n        passportNumber: data['id'] || '',\n        passportType: '',\n        address: data['add'] || '',\n        sex: '',\n        nationalityCode: '',\n      };\n    };\n    result[this.LICENSE] = () => {\n      this.guest = {\n        birth: data['dob'] || '',\n        expiry: '',\n        guestName: data['name'] || '',\n        passportNumber: data['id'] || '',\n        passportType: '',\n        address: data['add'] || '',\n        sex: '',\n        nationalityCode: data['nat'] || '',\n      };\n    };\n    result[this.IDCARD_NEW] = () => {\n      this.guest = {\n        birth: data['dob'] || '',\n        expiry: data['expire_date'] || '',\n        guestName: data['name'] || '',\n        passportNumber: data['id'] || '',\n        passportType: '',\n        address: data['add'] || '',\n        sex: 'nam' || '',\n        nationalityCode: data['nat'] || '',\n      };\n    };\n    return result[type];\n  }\n  /** ALERT */\n  resetAlert() {\n    Object.keys(alert).forEach((key) => {\n      this.alert[key] = {\n        show: false,\n        type: '',\n        message: '',\n      };\n    });\n  }\n\n  showAlert(name = '') {\n    if (name === 'errorModal') {\n      this.hubService.error(this.alert[name].message); \n    } else {\n      this.alert[name].show = true;\n    }\n    Object.keys(alert).forEach((key) => {\n      if (name !== key) {\n        this.alert[key] = {\n          show: false,\n          type: '',\n          message: '',\n        };\n      }\n    });\n  }\n\n  closeAlert(name = '') {\n    this.alert[name] = {\n      show: false,\n      type: '',\n      message: '',\n    };\n  }\n}\n","<!-- CHỌN LOẠI GIẤY TỜ -->\r\n<div *ngIf=\"progress.key === 'type'\" class=\"d-flex flex-column h-100\">\r\n  <div class=\"wrapper h-100 d-flex flex-column justify-content-between\">\r\n    <div class=\"flex-grow-1\">\r\n      <div class=\"text-center mt-3\">\r\n        <p class=\"text-grey-dark font-weight-600\">\r\n          {{ 'flowDetect.docInstruction' | translate }}\r\n        </p>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between none\" class=\"mt-2\">\r\n        <div fxFlex=\"49\" class=\"card card-box-shadow\" (click)=\"chooseMethod(PASSPORT)\"\r\n          [ngClass]=\"{active: seletedInstruction.key === PASSPORT}\">\r\n          <div class=\"img-document img-passport\"></div>\r\n          <p class=\"card-text text-center font-weight-600 my-3\">\r\n            {{ 'flowDetect.passport' | translate }}\r\n          </p>\r\n        </div>\r\n        <div fxFlex=\"49\" class=\"card card-box-shadow\" style=\"width: 18rem;\" (click)=\"chooseMethod(LICENSE)\"\r\n          [ngClass]=\"{active: seletedInstruction.key === LICENSE}\">\r\n          <div class=\"img-document img-license\"></div>\r\n          <p class=\"card-text text-center font-weight-600 my-3\">\r\n            {{ 'flowDetect.license' | translate }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"space-between none\" class=\"mt-3\">\r\n        <div fxFlex=\"49\" class=\"card card-box-shadow\" (click)=\"chooseMethod(IDCARD)\"\r\n          [ngClass]=\"{active: seletedInstruction.key === IDCARD}\">\r\n          <div class=\"img-document img-id-card\"></div>\r\n          <p class=\"card-text text-center font-weight-600 my-3\">\r\n            {{ 'flowDetect.idCard' | translate }}\r\n          </p>\r\n        </div>\r\n        <div fxFlex=\"49\" class=\"card card-box-shadow\" (click)=\"chooseMethod(IDCARD_NEW)\"\r\n          [ngClass]=\"{active: seletedInstruction.key === IDCARD_NEW}\">\r\n          <div class=\"img-document img-id-card-new\"></div>\r\n          <p class=\"card-text text-center font-weight-600 my-3\">\r\n            {{ 'flowDetect.idCardNew' | translate }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"wrapper w-100 d-flex flex-row justify-content-center mb-3\">\r\n      <app-button className=\"btn-primary w-100 text-uppercase\" class=\"w-80\" (click)=\"modalNext()\">\r\n        {{ 'flowDetect.btnContinue' | translate }}\r\n      </app-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- CHỌN MẶT TRƯỚC -->\r\n<div *ngIf=\"progress.key === 'front'\" class=\"d-flex flex-column h-100\">\r\n  <div class=\"wrapper h-100 d-flex flex-column justify-content-between\">\r\n    <div class=\"flex-grow-1\">\r\n      <div class=\"text-center mt-3\">\r\n        <p class=\"text-grey-dark font-weight-600\">\r\n          {{ 'flowDetect.frontInstruction' | translate }}\r\n        </p>\r\n        <p *ngIf=\"alert.errorModal.show\">\r\n          <ngb-alert [type]=\"alert.errorModal.type\" (closed)=\"closeAlert('errorModal')\">{{ alert.errorModal.message }}\r\n          </ngb-alert>\r\n        </p>\r\n      </div>\r\n      <div class=\"d-flex flex-column align-items-center\">\r\n        <div class=\"w-100\">\r\n          <img [src]=\"cardImages[1] || noImage\" class=\"w-100\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex flex-row justify-content-around w-100 mb-3\">\r\n      <app-button class=\"w-40\" className=\"text-uppercase text-primary border-primary w-100\"\r\n        (click)=\"resetScannedImage(1)\">\r\n        <fa-icon [icon]=\"faExchange\"></fa-icon>&nbsp;\r\n        {{ 'flowDetect.btnUndo' | translate }}\r\n      </app-button>\r\n      <app-button class=\"w-40\" className=\"text-uppercase btn-primary w-100\" (click)=\"scanFront()\"\r\n        [disabled]=\"!cardImages[1]\">\r\n        {{ 'flowDetect.btnContinue' | translate }}\r\n      </app-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- CHỌN MẶT SAU -->\r\n<div *ngIf=\"progress.key === 'back'\" class=\"d-flex flex-column h-100\">\r\n  <div class=\"wrapper h-100 d-flex flex-column justify-content-between\">\r\n    <div class=\"flex-grow-1\">\r\n      <div class=\"text-center mt-3\">\r\n        <p class=\"text-grey-dark font-weight-600\">\r\n          {{ 'flowDetect.backInstruction' | translate }}\r\n        </p>\r\n      </div>\r\n      <div class=\"d-flex flex-column align-items-center\">\r\n        <div class=\"w-100\">\r\n          <img [src]=\"cardImages[2] || noImage\" class=\"w-100\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex flex-row justify-content-around w-100 mb-3\">\r\n      <app-button class=\"w-40\" className=\"text-uppercase text-primary border-primary w-100\"\r\n        (click)=\"resetScannedImage(2)\">\r\n        <fa-icon [icon]=\"faExchange\"></fa-icon>&nbsp;\r\n        {{ 'flowDetect.btnUndo' | translate }}\r\n      </app-button>\r\n      <app-button class=\"w-40\" className=\"text-uppercase btn-primary w-100\" (click)=\"modalNext()\"\r\n        [disabled]=\"!cardImages[2]\">\r\n        {{ 'flowDetect.btnContinue' | translate }}\r\n      </app-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- NHẬN DIỆN -->\r\n<div *ngIf=\"progress.key === 'face'\" class=\"d-flex flex-column h-100\">\r\n  <app-scan-face (image)=\"onScanFace($event)\"></app-scan-face>\r\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ScanQrComponent } from './components/scan-qr/scan-qr.component';\nimport { MenuComponent } from './components/menu/menu.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { BookingCodeComponent } from './components/booking-code/booking-code.component';\nimport { BookingDetailsComponent } from './components/booking-details/booking-details.component';\nimport { BookingCreateComponent } from './components/booking-create/booking-create.component';\nimport { FlowCheckinComponent } from './components/flow-checkin/flow-checkin.component';\nimport { FlowBookingComponent } from './components/flow-booking/flow-booking.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TransModule } from 'src/app/shared/trans/trans.module';\nimport { AvailabilityRoomsComponent } from './components/availability-rooms/availability-rooms.component';\nimport { NgbModule, NgbTimeAdapter } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule } from '@angular/forms'; \nimport { TimePickerAdapterService } from 'src/app/shared/services/time-picker-adapter/time-picker-adapter.service';\nimport { ScanIdentityCardComponent } from './components/scan-identity-card/scan-identity-card.component';\nimport { ScanFaceComponent } from './components/scan-face/scan-face.component';\nimport { BookingDoneComponent } from './components/booking-done/booking-done.component';\nimport { NavigationBarModule } from '../navigation-bar/navigation-bar.module';\nimport { WelcomeComponent } from './components/welcome/welcome.component';\nimport { SharedComponentsModule } from 'src/app/shared/components/components.module';\nimport { DirectivesModule } from 'src/app/shared/directives/directives.module';\nimport { FlowDetectComponent } from './components/flow-detect/flow-detect.component';\nimport { BookingDatePickerComponent } from './components/booking-date-picker/booking-date-picker.component';\nimport { RoomTypeInfoComponent } from './components/room-type-info/room-type-info.component';\n\n@NgModule({\n  declarations: [\n    ScanQrComponent,\n    MenuComponent,\n    BookingCodeComponent,\n    BookingDetailsComponent,\n    FlowCheckinComponent,\n    FlowBookingComponent,\n    BookingCreateComponent,\n    AvailabilityRoomsComponent,\n    ScanIdentityCardComponent,\n    ScanFaceComponent,\n    BookingDoneComponent,\n    WelcomeComponent,\n    FlowDetectComponent,\n    BookingDatePickerComponent,\n    RoomTypeInfoComponent,\n  ],\n  imports: [\n    CommonModule,\n    FontAwesomeModule,\n    FlexLayoutModule,\n    ReactiveFormsModule,\n    TransModule,\n    NgbModule,\n    FormsModule,\n    NavigationBarModule,\n    SharedComponentsModule,\n    DirectivesModule,\n  ],\n  providers: [\n    {\n      provide: NgbTimeAdapter,\n      useClass: TimePickerAdapterService\n    }\n  ],\n  exports: [\n    ScanQrComponent,\n    MenuComponent,\n    BookingCodeComponent,\n    BookingDetailsComponent,\n    FlowCheckinComponent,\n    FlowBookingComponent,\n    BookingCreateComponent,\n    AvailabilityRoomsComponent,\n    ScanIdentityCardComponent,\n    ScanFaceComponent,\n    BookingDoneComponent,\n    WelcomeComponent,\n    FlowDetectComponent,\n    BookingDatePickerComponent,\n  ]\n})\nexport class CheckinModule { }\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router, RoutesRecognized } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\nimport { HubModel } from 'src/app/shared/models/hub.models';\nimport { ACTIONS } from 'src/app/shared/constant/event';\nimport { faArrowLeft, faLanguage } from '@fortawesome/free-solid-svg-icons';\nimport { Location } from '@angular/common';\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\nimport { filter, pairwise } from 'rxjs/operators';\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\n\n@Component({\n  selector: 'app-navigation',\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.scss'],\n})\nexport class NavigationComponent implements OnInit, OnDestroy {\n  public faArrowLeft = faArrowLeft;\n  public faLanguage = faLanguage;\n\n  public siteLang = {\n    key: 'vi',\n    image: '',\n    label: 'lang.vi',\n  };\n\n  public langs = [\n    {\n      key: 'vi',\n      image: './assets/images/vi-32.png',\n      label: 'lang.vi',\n    },\n    {\n      key: 'en',\n      image: './assets/images/en-32.png',\n      label: 'lang.en',\n    },\n  ];\n\n  private subcribe = [];\n\n  constructor(\n    private router: Router,\n    private translate: TranslateService,\n    private modalService: NgbModal,\n    private hubService: HubService,\n    private location: Location,\n    private utilService: UtilityService\n  ) {\n    const sub = this.router.events\n      .pipe(\n        filter((evt: any) => evt instanceof RoutesRecognized),\n        pairwise()\n      )\n      .subscribe((events: RoutesRecognized[]) => {\n        // console.log('previous url', events[0].urlAfterRedirects);\n        // console.log('current url', events[1].urlAfterRedirects);\n        const previousUrl = events[0].urlAfterRedirects;\n        const currentUrl = events[1].urlAfterRedirects;\n        const previousStep = this.utilService.getCurrentStep(previousUrl);\n        const currentStep = this.utilService.getCurrentStep(currentUrl);\n        const currentPage = this.utilService.getCurrentPage();\n\n        let exactCurrentPage =\n          currentPage === PAGES.walkin ? STEPS.step2 : STEPS.step3;\n        console.log(\n          'ROUTE CHANGE: ',\n          previousStep,\n          currentStep,\n          exactCurrentPage\n        );\n        if (previousStep !== STEPS.detect && currentStep === exactCurrentPage) {\n          this.router.navigate([`/${currentPage}/${STEPS.detect}`]);\n        }\n      });\n    this.subcribe = [sub];\n  }\n  ngOnDestroy(): void {\n    this.subcribe.forEach((s) => s.unsubscribe());\n  }\n\n  ngOnInit(): void {\n    const defaultLangKey = 'vi';\n    const defaultLang = this.langs.find((l) => l.key === defaultLangKey);\n    this.changeLanguage(defaultLang.key, defaultLang.image, defaultLang.label);\n  }\n\n  goBack(): void {\n    const splited = this.router.url.split(/[\\/?]/);\n    const step = splited.pop();\n    const page = splited.pop();\n    if (step === 'detect') {\n      const event: HubModel = {\n        receiver: PAGES.flowDetect,\n        message: ACTIONS.backStep,\n      };\n      this.hubService.sendEvent(event);\n    } else if (step === 'step2') {\n      this.router.navigateByUrl(`/${page}/${STEPS.step1}`);\n    } else if (step === 'step3') {\n      this.router.navigateByUrl(`/${page}/${STEPS.step2}`);\n    } else if (step === 'step4' || step === 'step1') {\n      this.router.navigateByUrl('/options');\n    } else if (step === 'options') {\n      this.router.navigateByUrl('/');\n    } else {\n      this.location.back();\n    }\n  }\n\n  changeLanguage(lang: string, imgSrc: string, label: string): void {\n    this.translate.use(lang);\n    this.siteLang.image = imgSrc;\n    this.siteLang.key = lang;\n    this.siteLang.label = label;\n    this.modalService.dismissAll();\n  }\n\n  openChangeLang(content: any) {\n    this.modalService.open(content, { centered: true });\n  }\n}\n","<div>\r\n  <nav class=\"navbar\">\r\n    <span class=\"toolbar-brand\">\r\n      <div class=\"navbar-brand\" (click)=\"goBack()\">\r\n        <img src=\"./assets/images/back.svg\" width=\"50\" />\r\n        <!-- <fa-icon [icon]=\"faArrowLeft\"></fa-icon> -->\r\n      </div>\r\n    </span>\r\n    <div class=\"navbar-nav\">\r\n      <div class=\"d-flex flex-row justify-content-end\">\r\n        <div class=\"btn text-white\" (click)=\"openChangeLang(content)\">\r\n          <!-- <fa-icon [icon]=\"faLanguage\"></fa-icon> -->\r\n          <img src=\"./assets/images/lang.svg\" width=\"50\" />\r\n          <!-- &nbsp;&nbsp;{{ siteLang.label | translate }} -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</div>\r\n<ng-template #content let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">\r\n      {{ 'lang.language' | translate }}\r\n    </h4>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <div *ngFor=\"let lang of langs; index as i;\" [key]=\"i\">\r\n      <div *ngIf=\"i > 0\" class=\"dropdown-divider\"></div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"none center\" (click)=\"changeLanguage(lang.key, lang.image, lang.label)\"\r\n        class=\"language-item\">\r\n        <span [ngClass]=\"{'text-primary': siteLang.key === lang.key, 'font-weight-bold': siteLang.key === lang.key}\">\r\n          {{ lang.label | translate }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { NgbDate, NgbCalendar, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as moment from 'moment';\r\nimport { RoomAvailabilityService } from '../../services/room-availability/room-availability.service';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { Router } from '@angular/router';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\r\nimport {\r\n  faAngleDown,\r\n  faAngleUp,\r\n  faInfoCircle,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport { RoomTypeInfoComponent } from '../room-type-info/room-type-info.component';\r\n\r\n@Component({\r\n  selector: 'app-availability-rooms',\r\n  templateUrl: './availability-rooms.component.html',\r\n  styleUrls: ['./availability-rooms.component.scss'],\r\n})\r\nexport class AvailabilityRoomsComponent implements OnInit, OnDestroy {\r\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\r\n  @Output() sendData: EventEmitter<any> = new EventEmitter();\r\n\r\n  private hubSubcription;\r\n  public faAngleUp = faAngleUp;\r\n  public faAngleDown = faAngleDown;\r\n  public faInfoCircle = faInfoCircle;\r\n  public bookingSteps = [];\r\n\r\n  constructor(\r\n    private modalService: NgbModal,\r\n    private roomAvaiService: RoomAvailabilityService,\r\n    public calendar: NgbCalendar,\r\n    private router: Router,\r\n    private hubService: HubService,\r\n    public util: UtilityService,\r\n    public translateService: TranslateService,\r\n    public hubWalkin: HubWalkinService,\r\n    public bookingService: BookingService\r\n  ) {\r\n    // this.fromDate = calendar.getToday();\r\n    this.fromDate = calendar.getNext(calendar.getToday(), 'd', 1);\r\n    this.toDate = calendar.getNext(calendar.getToday(), 'd', 2);\r\n\r\n    this.lang.to = this.translateService.instant('roomAvail.selected.to');\r\n    // console.log('lang to: ', this.lang.to);\r\n\r\n    this.translateService.onLangChange.subscribe((event: LangChangeEvent) => {\r\n      this.lang.to = this.translateService.instant('roomAvail.selected.to');\r\n    });\r\n\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.availRooms) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.nextStep) {\r\n        this.changeToNextStep();\r\n      } else if (res.message === ACTIONS.backStep) {\r\n        this.backStep();\r\n      }\r\n    });\r\n  }\r\n\r\n  public fromDate: NgbDate;\r\n  public toDate: NgbDate | null = null;\r\n  public time = {\r\n    arrival: '14:00',\r\n    depart: '12:00',\r\n  };\r\n  public adultNum = 1;\r\n  public childNum = 0;\r\n\r\n  public roomAvaiData = [];\r\n  public floorData = [];\r\n\r\n  public selectedFloor = {\r\n    floorID: 0,\r\n    floorName: '',\r\n    floorCode: '',\r\n  };\r\n\r\n  public selectedRoom = {\r\n    roomName: '',\r\n    roomTypeCode: '',\r\n    floorName: '',\r\n    buildingName: '',\r\n  };\r\n\r\n  public roomTypes = [];\r\n  public selectedRoomTypeCodes = [];\r\n\r\n  public error = {\r\n    fetchRoomAvai: '',\r\n  };\r\n\r\n  public alertClosed = false;\r\n  public lang = {\r\n    to: '',\r\n  };\r\n\r\n  ngOnInit(): void {\r\n    // this.fetchFloor();\r\n    this.initData();\r\n    this.hubWalkin.setStep(1);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.changeToNextStep();\r\n  }\r\n\r\n  changeToNextStep(): void {\r\n    if (!this.selectedRoom.roomName) {\r\n      this.hubService.error(this.translateService.instant('msg.notSelectRoom'));\r\n      return;\r\n    }\r\n    if (!moment(this.fromDate).isValid()) {\r\n      this.hubService.error(\r\n        this.translateService.instant('msg.notSelectArrival')\r\n      );\r\n      return;\r\n    }\r\n    if (!moment(this.toDate).isValid()) {\r\n      this.hubService.error(\r\n        this.translateService.instant('msg.notSelectDeparture')\r\n      );\r\n      return;\r\n    }\r\n    const transData = {\r\n      ...this.selectedRoom,\r\n      adult: this.adultNum,\r\n      child: this.childNum,\r\n      arrivalDate: moment(this.util.ngBDateToNormalDate(this.fromDate)).format(\r\n        'YYYY-MM-DD'\r\n      ),\r\n      departDate: moment(this.util.ngBDateToNormalDate(this.toDate)).format(\r\n        'YYYY-MM-DD'\r\n      ),\r\n      arrivalTime: this.time.arrival,\r\n      departTime: this.time.depart,\r\n    };\r\n    this.router.navigate([`/${PAGES.walkin}/${STEPS.step2}`]);\r\n    this.hubWalkin.setBookingData(transData);\r\n  }\r\n\r\n  initData() {\r\n    this.hubService.setLoading(true);\r\n    this.roomAvaiService\r\n      .getRoomtypes()\r\n      .pipe(\r\n        mergeMap((res: ResponseBody) => {\r\n          if (\r\n            res.statusCode === 200 &&\r\n            res.metadata &&\r\n            res.metadata?.length > 0 &&\r\n            res.metadata[0]\r\n          ) {\r\n            console.log('vao day');\r\n            this.selectedRoomTypeCodes = [res.metadata[0].roomTypeCode];\r\n          }\r\n          this.roomTypes = res.metadata;\r\n          return this.roomAvaiService.getBuildings();\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log('hehehehe', res);\r\n          if (\r\n            res.statusCode === 200 &&\r\n            res.metadata &&\r\n            res.metadata?.length > 0 &&\r\n            res.metadata[0].floors\r\n          ) {\r\n            this.floorData = res.metadata[0].floors.filter(\r\n              (f) => f.floorCode !== '-1'\r\n            );\r\n            this.onSelectFloor(this.floorData[0]);\r\n          } else {\r\n            this.error.fetchRoomAvai = this.translateService.instant(\r\n              'msg.errorHandlingRequest'\r\n            );\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.error.fetchRoomAvai = this.translateService.instant(\r\n            'msg.errorHandlingRequest'\r\n          );\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  fetchFloor() {\r\n    this.hubService.setLoading(true);\r\n\r\n    this.roomAvaiService\r\n      .getBuildings()\r\n      .subscribe(\r\n        (res: ResponseBody) => {\r\n          if (\r\n            res.statusCode === 200 &&\r\n            res.metadata &&\r\n            res.metadata?.length > 0 &&\r\n            res.metadata[0].floors\r\n          ) {\r\n            this.floorData = res.metadata[0].floors.filter(\r\n              (f) => f.floorCode !== '-1'\r\n            );\r\n            this.onSelectFloor(this.floorData[0]);\r\n          } else {\r\n            this.error.fetchRoomAvai = this.translateService.instant(\r\n              'msg.errorHandlingRequest'\r\n            );\r\n          }\r\n        },\r\n        (err) => {\r\n          this.error.fetchRoomAvai = this.translateService.instant(\r\n            'msg.errorHandlingRequest'\r\n          );\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  fetchRoomAvai() {\r\n    this.error.fetchRoomAvai = '';\r\n    this.resetSelectedRoom();\r\n\r\n    setTimeout(() => {\r\n      this.hubService.setLoading(true);\r\n    }, 0);\r\n    this.roomAvaiService\r\n      .getRoomAvailabitlity(\r\n        this.util.ngBDateToNormalDate(this.fromDate),\r\n        this.util.ngBDateToNormalDate(this.toDate),\r\n        true\r\n      )\r\n      .subscribe(this.fetchRoomAvailObserver())\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  fetchRoomAvailObserver() {\r\n    return {\r\n      next: (res: ResponseBody) => {\r\n        if (res.statusCode === 200 && res.metadata) {\r\n          console.log(this.selectedRoomTypeCodes);\r\n          this.roomAvaiData = res.metadata\r\n            .map((item) => ({\r\n              ...item,\r\n              buildingCode: `${item.buildingCode}`,\r\n            }))\r\n            .filter(\r\n              (item) =>\r\n                item.floorCode === this.selectedFloor.floorCode &&\r\n                this.selectedRoomTypeCodes.includes(item.roomTypeCode)\r\n            );\r\n        } else {\r\n          this.error.fetchRoomAvai = res.message;\r\n        }\r\n      },\r\n      error: () => {\r\n        this.error.fetchRoomAvai = this.translateService.instant(\r\n          'msg.errorHandlingRequest'\r\n        );\r\n      },\r\n    };\r\n  }\r\n\r\n  resetSelectedRoom() {\r\n    this.selectedRoom = {\r\n      buildingName: '',\r\n      floorName: '',\r\n      roomName: '',\r\n      roomTypeCode: '',\r\n    };\r\n  }\r\n\r\n  onSelectRoom(room: any) {\r\n    this.selectedRoom = { ...room };\r\n  }\r\n\r\n  onSelectFloor(floor) {\r\n    this.selectedFloor = { ...floor };\r\n    this.fetchRoomAvai();\r\n  }\r\n\r\n  clickRoomType(roomtype: any) {\r\n    if (this.selectedRoomTypeCodes.includes(roomtype.roomTypeCode)) {\r\n      this.selectedRoomTypeCodes = this.selectedRoomTypeCodes.filter(\r\n        (code) => code !== roomtype.roomTypeCode\r\n      );\r\n    } else {\r\n      this.selectedRoomTypeCodes.push(roomtype.roomTypeCode);\r\n    }\r\n    this.fetchRoomAvai();\r\n  }\r\n\r\n  showRoomType(roomtype: any) {\r\n    const modalRef = this.modalService.open(RoomTypeInfoComponent, {\r\n      size: 'lg',\r\n      backdrop: 'static',\r\n      centered: true,\r\n    });\r\n    modalRef.componentInstance.roomType = roomtype;\r\n  }\r\n\r\n  clickStep(num) {\r\n    if (this.bookingSteps.includes(num)) {\r\n      this.bookingSteps = this.bookingSteps.filter((item) => item <= num);\r\n    } else {\r\n      this.bookingSteps = Array.from({ length: num }, (_, i) => i + 1);\r\n    }\r\n  }\r\n  /**\r\n   * Back Step\r\n   */\r\n  backStep() {\r\n    this.router.navigateByUrl('/options');\r\n  }\r\n  /**\r\n   * Adult/child\r\n   */\r\n  increaseAdultNum() {\r\n    this.adultNum += 1;\r\n  }\r\n\r\n  decreaseAdultNum() {\r\n    if (this.adultNum > 1) {\r\n      this.adultNum -= 1;\r\n    }\r\n  }\r\n\r\n  increaseChildNum() {\r\n    this.childNum += 1;\r\n  }\r\n\r\n  decreaseChildNum() {\r\n    if (this.childNum > 0) {\r\n      this.childNum -= 1;\r\n    }\r\n  }\r\n\r\n  openTimePicker(content) {\r\n    this.modalService.open(content, {\r\n      centered: true,\r\n      windowClass: 'date-picker-range-modal',\r\n    });\r\n  }\r\n\r\n  closeTimePicker() {\r\n    this.modalService.dismissAll();\r\n  }\r\n  /**\r\n   * ARR DEPT\r\n   */\r\n  onDateSelection({ fromDate, toDate }) {\r\n    this.fromDate = fromDate;\r\n    this.toDate = toDate;\r\n\r\n    if (this.fromDate && this.toDate) {\r\n      this.fetchRoomAvai();\r\n    }\r\n  }\r\n\r\n  displayArrDeptDate() {\r\n    return `${this.util.displayDateDmy(\r\n      this.util.ngBDateToNormalDate(this.fromDate)\r\n    )} ${this.lang.to} ${this.util.displayDateDmy(\r\n      this.util.ngBDateToNormalDate(this.toDate)\r\n    )}`;\r\n  }\r\n\r\n  displayArrDeptTime() {\r\n    return `${this.time.arrival} - ${this.time.depart}`;\r\n  }\r\n\r\n  displayNumNight() {\r\n    return this.util.displayNumNight(\r\n      this.util.dateYmd(this.util.ngBDateToNormalDate(this.fromDate)),\r\n      this.util.dateYmd(this.util.ngBDateToNormalDate(this.toDate))\r\n    );\r\n  }\r\n  /**\r\n   * SCROLL BUTTON\r\n   */\r\n  scrollUp() {\r\n    const container = document.getElementById('room-list-scroll');\r\n    this.sideScroll(container, 'up', 1, 150, 10);\r\n  }\r\n\r\n  scrollDown() {\r\n    const container = document.getElementById('room-list-scroll');\r\n    this.sideScroll(container, 'down', 1, 150, 10);\r\n  }\r\n\r\n  sideScroll(element, direction, speed, distance, step): void {\r\n    let scrollAmount = 0;\r\n    let slideTimer = window.setInterval(function () {\r\n      if (direction == 'up') {\r\n        element.scrollTop -= step;\r\n      } else {\r\n        element.scrollTop += step;\r\n      }\r\n      scrollAmount += step;\r\n      if (scrollAmount >= distance) {\r\n        window.clearInterval(slideTimer);\r\n      }\r\n    }, speed);\r\n  }\r\n}\r\n","<div class=\"d-flex flex-column wrapper\">\n  <div class=\"rb-container\">\n    <ul class=\"rb\">\n      <!-- CALENDAR -->\n      <li [class]=\"['rb-item', bookingSteps.includes(1) && 'active']\" ng-repeat=\"itembx\" (click)=\"clickStep(1)\">\n        <div class=\"timestamp w-85\">\n          {{ 'roomAvail.step.1' | translate }}\n        </div>\n        <div class=\"w-85 mx-auto pb-3\">\n          <app-booking-date-picker [fromDate]=\"fromDate\" [toDate]=\"toDate\" (dateSelect)=\"onDateSelection($event)\">\n          </app-booking-date-picker>\n        </div>\n      </li>\n      <!-- ADULT/CHILD -->\n      <li [class]=\"['rb-item', bookingSteps.includes(2) && 'active']\" ng-repeat=\"itembx\" (click)=\"clickStep(2)\">\n        <div class=\"timestamp w-85\">\n          {{ 'roomAvail.step.2' | translate }}\n        </div>\n        <div class=\"row w-85 mx-auto pb-3\">\n          <div class=\"col-4\">\n            <div class=\"form-group\">\n              <label class=\"font-weight-500\">\n                {{ 'roomAvail.adult' | translate }}\n              </label>\n              <div class=\"form-group\">\n                <div class=\"input-group\">\n                  <input type=\"text\" class=\"form-control text-white bg-green-light border-green-light\"\n                    [(ngModel)]=\"adultNum\" readonly>\n                  <div class=\"input-group-append\">\n                    <button class=\"btn bg-green-light text-white border-green-light\" type=\"button\"\n                      (click)=\"increaseAdultNum()\">\n                      <fa-icon [icon]=\"faAngleUp\"></fa-icon>\n                    </button>\n                    <button class=\"btn bg-green-light text-white border-green-light\" type=\"button\"\n                      (click)=\"decreaseAdultNum()\">\n                      <fa-icon [icon]=\"faAngleDown\"></fa-icon>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-4 offset-4\">\n            <div class=\"form-group\">\n              <label class=\"font-weight-500\">\n                {{ 'roomAvail.child' | translate }}\n              </label>\n              <div class=\"form-group\">\n                <div class=\"input-group\">\n                  <input type=\"text\" class=\"form-control text-white bg-green-light border-green-light\"\n                    [(ngModel)]=\"childNum\" readonly>\n                  <div class=\"input-group-append\">\n                    <button class=\"btn bg-green-light text-white border-green-light\" type=\"button\"\n                      (click)=\"increaseChildNum()\">\n                      <fa-icon [icon]=\"faAngleUp\"></fa-icon>\n                    </button>\n                    <button class=\"btn bg-green-light text-white border-green-light\" type=\"button\"\n                      (click)=\"decreaseChildNum()\">\n                      <fa-icon [icon]=\"faAngleDown\"></fa-icon>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n      <!-- ROOM TYPES -->\n      <li [class]=\"['rb-item', bookingSteps.includes(3) && 'active']\" ng-repeat=\"itembx\" (click)=\"clickStep(3)\">\n        <div class=\"timestamp w-85\">\n          {{ 'roomAvail.step.3' | translate }}\n        </div>\n        <div class=\"d-flex flex-column w-85 mx-auto pb-3 pl-3\">\n          <div *ngFor=\"let roomtype of roomTypes; index as i\" class=\"row cursor-pointer mb-2\" >\n            <label class=\"col-6 d-flex flex-row cursor-pointer align-items-center mb-0\" (click)=\"clickRoomType(roomtype)\">\n              <div [ngClass]=\"['checkbox-roomtype', selectedRoomTypeCodes.includes(roomtype.roomTypeCode) ? 'selected-roomtype' : '']\"></div>\n              <span class=\"ml-3\">{{ roomtype.roomTypeName }}</span>\n            </label>\n            <div class=\"text-left\" (click)=\"showRoomType(roomtype)\">\n              <fa-icon [icon]=\"faInfoCircle\" ></fa-icon>\n            </div>\n          </div>\n        </div>\n      </li>\n      <!-- AVAIL ROOMS BLOCK -->\n      <li [class]=\"['rb-item', bookingSteps.includes(4) && 'active']\" ng-repeat=\"itembx\" (click)=\"clickStep(4)\">\n        <div class=\"timestamp w-85\">\n          {{ 'roomAvail.step.4' | translate }}\n        </div>\n        <div class=\"w-85 py-3 mx-auto\">\n          <h6 class=\"font-weight-500\">\n            {{ 'roomAvail.floor' | translate}}\n          </h6>\n          <div class=\"floor-block d-flex flex-row mb-3\">\n            <div *ngFor=\"let floor of floorData; index as i\" class=\"flr text-center cursor-pointer\"\n              [ngClass]=\"{'active': selectedFloor?.floorID === floor.floorID}\" (click)=\"onSelectFloor(floor)\">\n              {{ floor.floorName}}\n            </div>\n          </div>\n          <div class=\"avails-room-block\">\n            <div *ngIf=\"error.fetchRoomAvai\" fxLayout=\"row\" fxLayoutAlign=\"none center\" class=\"h-100 w-100\">\n              <p class=\"text-danger\">\n                <i class=\"fa fa-exclamation-triangle\"></i>&nbsp;{{ error.fetchRoomAvai }}\n              </p>\n            </div>\n            <div *ngIf=\"!error.fetchRoomAvai\" class=\"d-flex flex-row\">\n              <div class=\"flex-grow-1\" style=\"background-color: #fff;\">\n                <div id=\"room-list-scroll\" fxLayout=\"row wrap\" fxLayoutAlign=\"start\" class=\"w-100 room-list-container\">\n                  <div *ngFor=\"let room of roomAvaiData; index as i;\" class=\"room-container\">\n                    <div class=\"room-card\" (click)=\"onSelectRoom(room)\"\n                      [class]=\"{'active': selectedRoom.roomName === room.roomName, 'booked': selectedRoom.roomName !== room.roomName && [].includes(room.roomName)}\">\n                      <div class=\"w-100 h-100 d-flex flex-row justify-content-center align-items-center\">\n                        {{room.roomName}}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"room-status-block d-flex flex-row justify-content-between mt-4\">\n            <div class=\"d-flex flex-row\">\n              <div class=\"circle active mr-2\"></div>\n              <p>\n                {{ 'roomAvail.status.selected' | translate }}\n              </p>\n            </div>\n            <div class=\"d-flex flex-row\">\n              <div class=\"circle booked mr-2\"></div>\n              <p>\n                {{ 'roomAvail.status.booked' | translate }}\n              </p>\n            </div>\n            <div class=\"d-flex flex-row\">\n              <div class=\"circle avail mr-2\"></div>\n              <p>\n                {{ 'roomAvail.status.avail' | translate }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n<!-- THÔNG TIN PHÒNG ĐÃ CHỌN -->\n<div class=\"selected-block\">\n  <div class=\"wrapper\">\n    <h6 class=\"text-uppercase\">\n      {{ 'roomAvail.selected.title' | translate}}:\n    </h6>\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <p class=\"font-weight-thin my-1\">\n          {{ 'roomAvail.selected.from' | translate}}\n        </p>\n      </div>\n      <div class=\"col-8\">\n        <p class=\"font-weight-thin my-1\">\n          {{ displayArrDeptDate() }}\n        </p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <p class=\"font-weight-thin my-1\">\n          {{ 'roomAvail.selected.nights' | translate}}\n        </p>\n      </div>\n      <div class=\"col-8\">\n        <p class=\"font-weight-thin my-1\">\n          {{ displayNumNight() }}\n        </p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <p class=\"font-weight-thin my-1\">\n          {{ 'roomAvail.selected.num' | translate}}\n        </p>\n      </div>\n      <div class=\"col-8\">\n        <p class=\"font-weight-thin my-1\">\n          {{adultNum || 0}} {{ 'roomAvail.selected.adult' | translate}}, {{childNum || 0}} {{ 'roomAvail.selected.child'\n          | translate}}\n        </p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <p class=\"font-weight-thin my-1\">\n          {{ 'roomAvail.selected.floor' | translate}}\n        </p>\n      </div>\n      <div class=\"col-8\">\n        <p class=\"font-weight-thin my-1\">\n          {{selectedRoom.floorName || ''}}\n        </p>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <p class=\"font-weight-thin my-1\">\n          {{ 'roomAvail.selected.roomName' | translate}}\n        </p>\n      </div>\n      <div class=\"col-8\">\n        <p class=\"font-weight-thin my-1\">\n          {{selectedRoom.roomName || ''}}\n        </p>\n      </div>\n    </div>\n    <div class=\"mt-3\">\n      <app-button className=\"text-primary border-primary bg-white w-100 text-uppercase font-weight-bold\" class=\"w-80\"\n        (click)=\"changeToNextStep()\">\n        {{ 'navBottom.next' | translate }}\n      </app-button>\n    </div>\n  </div>\n</div>\n<!-- MODAL ARR DEPT TIME -->\n<ng-template #arrDeptTime let-modal>\n  <div class=\"modal-body\">\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-around center\">\n      <div class=\"form-group\">\n        <label class=\"font-weight-bold\">{{ 'roomAvail.arrTime' | translate }}</label>\n        <div class=\"input-group\">\n          <ngb-timepicker [(ngModel)]=\"time.arrival\"></ngb-timepicker>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"font-weight-bold\">{{ 'roomAvail.deptTime' | translate }}</label>\n        <div class=\"input-group\">\n          <ngb-timepicker [(ngModel)]=\"time.depart\"></ngb-timepicker>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-footer\">\n    <hr class=\"my-0\">\n    <button class=\"btn btn-primary btn-lg w-100\" (click)=\"closeTimePicker()\">\n      {{ 'roomAvail.close' | translate }}\n    </button>\n  </div>\n</ng-template>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport * as moment from 'moment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoomAvailabilityService {\n  constructor(private http: HttpClient) {}\n\n  /**\n   * Láy ds phòng trống\n   */\n  public getRoomAvailabitlity(\n    arrivalDate: any,\n    departDate: any,\n    formatDate?: boolean\n  ) {\n    if (formatDate) {\n      arrivalDate = moment(arrivalDate).format('yyyy-MM-DD');\n      departDate = moment(departDate).format('yyyy-MM-DD');\n    }\n\n    return this.http.post('api/room/get-room-availability', {\n      arrivalDate,\n      departDate\n    });\n  }\n\n  /**\n   * \n   * Lấy List Building\n   * Trong Building có floor\n   */\n  public getBuildings() {\n    return this.http.get('api/building/get-buildings');\n  }\n\n  /**\n   * \n   * Lấy List Roomtypes\n   */\n   public getRoomtypes() {\n    return this.http.get('api/room/get-room-types');\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { LockCardModel } from '../../models/lock-card.model';\r\nimport { ConfigureService } from 'src/app/config/configure/configure.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LockCardService {\r\n\r\n  private serviceUrl = '';\r\n\r\n  constructor(private http: HttpClient) { \r\n    this.serviceUrl = ConfigureService.config.url.service;\r\n  }\r\n\r\n  /**\r\n   * WriteCard\r\n   */\r\n  public writeCard(body: LockCardModel) {\r\n    const endPoint = `${this.serviceUrl}/api/lock/write-card`;\r\n    return this.http.post(endPoint, body);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbButtonsModule, NgbDatepickerModule } from '@ng-bootstrap/ng-bootstrap';\n\n@NgModule({\n  declarations: [],\n  imports: [CommonModule, NgbButtonsModule],\n  exports: [\n    NgbButtonsModule,\n    NgbDatepickerModule\n  ]\n})\nexport class NgBootstrapModule {}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ConfigureService } from 'src/app/config/configure/configure.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DispenserService {\r\n  private serviceUrl = '';\r\n  constructor(private http: HttpClient) {\r\n    this.serviceUrl = ConfigureService.config.url.service;\r\n  }\r\n\r\n  /**\r\n   * Đưa thẻ tới vị trí ghi\r\n   */\r\n  public moveToRfPos() {\r\n    const endpoint = `${this.serviceUrl}/api/dispense/rf-pos`;\r\n    return this.http.post(endpoint, {});\r\n  }\r\n\r\n  /**\r\n   * Nhả thẻ\r\n   */\r\n  public eject() {\r\n    const endpoint = `${this.serviceUrl}/api/dispense/eject`;\r\n    return this.http.post(endpoint, {});\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ModalErrorComponent } from './modal-error/modal-error.component';\nimport { TransModule } from '../../trans/trans.module';\n\n\n\n@NgModule({\n  declarations: [\n    ModalErrorComponent\n  ],\n  imports: [\n    CommonModule,\n    TransModule\n  ],\n  exports: [\n    ModalErrorComponent,\n  ]\n})\nexport class ModalErrorModule { }\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ConfigureService } from '../config/configure/configure.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  /**\r\n   * getToken\r\n   */\r\n  public getToken() {\r\n    const api = 'api/auth/get-token';\r\n    const hotel = ConfigureService.config.hotel;\r\n\r\n    return this.http.post(api, {\r\n      client_id: hotel.client_id,\r\n      client_secret: hotel.client_secret,\r\n      grant_type: hotel.grant_type,\r\n      scope: hotel.scope,\r\n    });\r\n  }\r\n}\r\n","export const PAGES = {\r\n  welcome: 'welcome',\r\n  options: 'options',\r\n  scanQR: 'scan-qr',\r\n  bookingCode: 'booking-code',\r\n  bookingDetails: 'booking-details',\r\n  flowCheckin: 'flow-checkin',\r\n  flowBooking: 'flow-booking',\r\n  flowDetect: 'flowDetect',\r\n  availRooms: 'availRooms',\r\n  scanIdCard: 'scanIdCard',\r\n  scanFace: 'scanFace',\r\n  bookingCreate: 'bookingCreate',\r\n  bookingDone: 'bookingDone',\r\n  root: 'root',\r\n  /** LAYOUT */\r\n  walkin: 'walkin',\r\n  checkinQr: 'checkin-qr',\r\n  checkinCode: 'book',\r\n}\r\n\r\nexport const STEPS = {\r\n  step1: 'step1',\r\n  step2: 'step2',\r\n  step3: 'step3',\r\n  step4: 'step4',\r\n  detect: 'detect',\r\n};\r\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport Stepper from 'bs-stepper';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES } from 'src/app/shared/constant/pages';\r\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\r\nimport { AUDIO_FILES } from 'src/app/shared/constant/audio-files';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Router } from '@angular/router';\r\nimport { FlowDetectComponent } from '../flow-detect/flow-detect.component';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-flow-booking',\r\n  templateUrl: './flow-booking.component.html',\r\n  styleUrls: ['./flow-booking.component.scss'],\r\n})\r\nexport class FlowBookingComponent implements OnInit, OnDestroy {\r\n  constructor(\r\n    private hubService: HubService,\r\n    private utilService: UtilityService,\r\n    private router: Router,\r\n    private bookingService: BookingService,\r\n    private translateService: TranslateService,\r\n  ) {\r\n    this.subcribeHub();\r\n  }\r\n\r\n  @ViewChild('flowDetectComp') flowDetectComp: FlowDetectComponent;\r\n\r\n  public showFlowDetect = false;\r\n  public showFooter = true;\r\n  public isDoneFlow = true;\r\n  public errorMessageCreateBooking = '';\r\n\r\n  private stepper: Stepper;\r\n  public bookingData:any = {};\r\n  public totalRateData: any = {};\r\n\r\n  private hubSubcription = null;\r\n\r\n  next() {\r\n    this.stepper.next();\r\n  }\r\n\r\n  back() {\r\n    const current = this.getActiveStep();\r\n    const backToOptionsScreen = [PAGES.availRooms, PAGES.bookingDone];\r\n    if (this.showFlowDetect) {\r\n      this.changeStepInsideFlowDetect(this.flowDetectComp.progress.key);\r\n      return;\r\n    }\r\n    if (backToOptionsScreen.includes(current)) {\r\n      this.router.navigateByUrl('/options');\r\n      return;\r\n    }\r\n    this.stepper.previous();\r\n  }\r\n\r\n  ngOnInit() {\r\n    setTimeout(() => {\r\n      this.initStepper();\r\n      this.addListener();\r\n    }, 0);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  subcribeHub(): void {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.flowBooking) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.goBack) {\r\n        this.back();\r\n      }\r\n    });\r\n  }\r\n\r\n  initStepper() {\r\n    const linear = environment.production;\r\n\r\n    this.stepper = new Stepper(\r\n      document.querySelector('#step-new-reservation'),\r\n      {\r\n        linear: linear,\r\n        animation: true,\r\n      }\r\n    );\r\n  }\r\n\r\n  addListener() {\r\n    const stepperEl = document.querySelector('#step-new-reservation');\r\n\r\n    stepperEl.addEventListener('shown.bs-stepper', (event: any) => {\r\n      const activeStep = this.getActiveStep();\r\n\r\n      this.actionController(activeStep, event.detail);\r\n    });\r\n  }\r\n\r\n  actionController(activeStep: string, detail: any) {\r\n    if (activeStep === PAGES.availRooms) {\r\n      this.utilService.playAudio(AUDIO_FILES.availRoomIntro);\r\n      this.showFooter = false;\r\n    } else if (\r\n      detail &&\r\n      detail.to === 1 &&\r\n      (detail.from === 2 || detail.from === 1)\r\n    ) {\r\n      this.showFooter = false;\r\n      this.openFlowDetect();\r\n    } else if (activeStep === PAGES.bookingCreate) {\r\n      this.utilService.playAudio(AUDIO_FILES.bookingCreateIntro);\r\n      this.showFooter = true;\r\n    } else if (activeStep === PAGES.bookingDone) {\r\n      this.showFooter = false;\r\n      const audioFile = this.isDoneFlow ? AUDIO_FILES.bookingDoneIntro : AUDIO_FILES.bookingDoneError;\r\n      this.utilService.playAudio(audioFile);\r\n    }\r\n  }\r\n\r\n  receiveBookingData(bookingData: any, isNext = false) {\r\n    console.log({ bookingData });\r\n    this.bookingData = { ...bookingData };\r\n    if (isNext) {\r\n      this.hubService.setLoading(true);\r\n      this.bookingService\r\n        .getTotalRate({\r\n          ArrivalDate: this.bookingData.arrivalDate,\r\n          DepartDate: this.bookingData.departDate,\r\n          ArrivalTime: this.bookingData.arrivalTime,\r\n          DepartTime: this.bookingData.departTime,\r\n          RoomBocked: this.bookingData.roomCode,\r\n          RoomType: this.bookingData.roomTypeCode,\r\n          NoOfAdults: this.bookingData.adult,\r\n          NoOfChild: this.bookingData.child,\r\n        })\r\n        .subscribe(\r\n          (res: ResponseBody) => {\r\n            if (res.metadata && res.metadata[0]) {\r\n              this.totalRateData = res.metadata[0];\r\n              this.next();\r\n            } else {\r\n              this.hubService.error(this.translateService.instant('msg.errorGetTotalRate'));\r\n            }\r\n          },\r\n          (err) => {\r\n            this.hubService.error(this.translateService.instant('msg.errorGetTotalRate'));\r\n          }\r\n        )\r\n        .add(() => {\r\n          this.hubService.setLoading(false);\r\n        });\r\n    }\r\n  }\r\n  /**\r\n   * Bật popup chọn giấy tờ khi vào màn hình Scan\r\n   */\r\n  openFlowDetect() {\r\n    console.log('open flow detect');\r\n    this.showFlowDetect = true;\r\n\r\n    setTimeout(() => {\r\n      const event: HubModel = {\r\n        receiver: PAGES.flowDetect,\r\n        message: ACTIONS.openScanModal,\r\n      };\r\n\r\n      this.hubService.sendEvent(event);\r\n    }, 0);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Xử lý khi tạo booking bị lỗi\r\n   */\r\n  onCreateBooking({ isDone = true, msg = '' }) {\r\n    this.isDoneFlow = isDone;\r\n    this.errorMessageCreateBooking = msg;\r\n    this.next();\r\n  }\r\n  /**\r\n   * Reset Flow\r\n   */\r\n  resetFlow() {\r\n    this.stepper.to(0);\r\n  }\r\n  /**\r\n   *\r\n   * Close Flow Detect\r\n   */\r\n  closeFlowDetect(guestData: any) {\r\n    console.log('close flow detect: ', guestData, this.bookingData);\r\n    this.bookingData = { ...this.bookingData, ...guestData };\r\n    this.showFlowDetect = false;\r\n\r\n    setTimeout(() => {\r\n      this.initStepper();\r\n      this.addListener();\r\n      this.stepper.to(2);\r\n    }, 0);\r\n  }\r\n  /**\r\n   * \r\n   * UPDATE STEP TRONG FLOW DETECT\r\n   */\r\n   changeStepInsideFlowDetect(detectStep: string) {\r\n    if (detectStep === 'type') {\r\n      this.showFlowDetect = false;\r\n      this.closeFlowDetect(null); \r\n    } else {\r\n      this.openFlowDetect();\r\n    }\r\n  }\r\n  /**\r\n   * NAVIGATION\r\n   */\r\n  goToPreviousStep() {\r\n    const componentName = this.getActiveStep();\r\n    const type = ACTIONS.backStep;\r\n    const data: HubModel = {\r\n      receiver: componentName,\r\n      message: type,\r\n    };\r\n    this.hubService.sendEvent(data);\r\n  }\r\n\r\n  gotoNextStep() {\r\n    const componentName = this.getActiveStep();\r\n    const type = ACTIONS.nextStep;\r\n    const data: HubModel = {\r\n      receiver: componentName,\r\n      message: type,\r\n    };\r\n    this.hubService.sendEvent(data);\r\n  }\r\n\r\n  getActiveStep() {\r\n    const bsStepperContent = document.getElementById('bsStepperContent');\r\n    const activeStep = bsStepperContent?.querySelector(\r\n      '.dstepper-block.active'\r\n    );\r\n    return activeStep?.getAttribute('data-name') || '';\r\n  }\r\n}\r\n","<app-card class=\"horizon-stepper-container\" *ngIf=\"!showFlowDetect\">\r\n  <ng-container app-card-body class=\"d-flex flex-column\">\r\n    <div id=\"step-new-reservation\" class=\"bs-stepper d-flex flex-column justify-content-between h-100\">\r\n      <!-- HEADER -->\r\n      <div class=\"bs-stepper-header wrapper\">\r\n        <div class=\"step\" data-target=\"#step-avail-rooms\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">1</span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowBooking.availabilityRooms' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div class=\"step\" data-target=\"#step-scan-id-card\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">2</span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowBooking.bookingInformation' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div class=\"step\" data-target=\"#step-booking-create\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">3</span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowBooking.bookingCreate' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div class=\"step\" data-target=\"#step-done\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">4</span>\r\n            <span class=\"bs-stepper-label\">{{'flowBooking.done' | translate}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- CONTENT -->\r\n      <div id=\"bsStepperContent\" class=\"bs-stepper-content d-flex flex-column flex-grow-1\">\r\n        <div id=\"step-avail-rooms\" class=\"content h-100\" data-name=\"availRooms\">\r\n          <app-availability-rooms (nextStep)=\"openFlowDetect()\" (backStep)=\"back()\"\r\n            (sendData)=\"receiveBookingData($event)\">\r\n          </app-availability-rooms>\r\n        </div>\r\n        <div id=\"step-scan-id-card\" class=\"content h-100\" data-name=\"scanIdCard\">\r\n          <app-scan-identity-card [guestData]=\"bookingData\" (detectAgain)=\"openFlowDetect()\"\r\n            (sendGuestInfo)=\"receiveBookingData($event, true)\" (backStep)=\"back()\"></app-scan-identity-card>\r\n          <!-- <app-scan-identity-card (sendGuestInfo)=\"receiveGuestData($event)\" (backStep)=\"back()\">\r\n          </app-scan-identity-card> -->\r\n        </div>\r\n        <div id=\"step-booking-create\" class=\"content\" data-name=\"bookingCreate\">\r\n          <app-booking-create (nextStep)=\"onCreateBooking($event)\" (backStep)=\"back()\" [bookingData]=\"bookingData\" [totalRateData]=\"totalRateData\">\r\n          </app-booking-create>\r\n        </div>\r\n        <div id=\"step-done\" class=\"content text-center h-100\" data-name=\"bookingDone\">\r\n          <app-booking-done [isDone]=\"isDoneFlow\" [errorMessage]=\"errorMessageCreateBooking\" (reset)=\"resetFlow()\" (backStep)=\"back()\"></app-booking-done>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-container *ngIf=\"showFooter\" app-card-footer class=\"d-flex flex-row justify-content-center\">\r\n    <div class=\"wrapper\">\r\n      <app-button className=\"btn-primary w-100 text-uppercase\" class=\"w-80\" (click)=\"gotoNextStep()\">\r\n        {{ 'navBottom.next' | translate }}\r\n      </app-button>\r\n    </div>\r\n  </ng-container>\r\n</app-card>\r\n<app-flow-detect #flowDetectComp *ngIf=\"showFlowDetect\" (sendGuestInfo)=\"closeFlowDetect($event)\" (backStep)=\"back()\"></app-flow-detect>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  envConfigPath: './assets/config/config.json',\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpHandler,\r\n  HttpRequest,\r\n  HttpResponse,\r\n  HttpHeaders\r\n} from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { map, catchError, switchMap } from 'rxjs/operators';\r\nimport { AuthService } from 'src/app/core/auth.service';\r\nimport { LOCAL_STORAGE_KEYS } from 'src/app/shared/constant/local-storage';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ConfigureService } from '../configure/configure.service';\r\n\r\n@Injectable()\r\nexport class HttpInterceptorService implements HttpInterceptor {\r\n  private BaseUrl = '';\r\n\r\n  constructor(private authService: AuthService) {}\r\n\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    if (req.url.includes('api') && !req.url.includes('http')) {\r\n      this.BaseUrl = this.getBaseUrl();\r\n\r\n      const token = window.localStorage.getItem(LOCAL_STORAGE_KEYS.token) || '';\r\n      const headers = new HttpHeaders({\r\n        Authorization: token,\r\n        'Content-Type': 'application/json'\r\n      });\r\n\r\n      const modified = req.clone({\r\n        headers,\r\n        url: `${this.BaseUrl}/${req.url}`\r\n      });\r\n\r\n      return next.handle(modified).pipe(\r\n        map((event: HttpEvent<any>) => {\r\n          if (event instanceof HttpResponse) {\r\n            event = event.clone({ body: this.modifyBody(event.body) });\r\n          }\r\n          return event;\r\n        }),\r\n        catchError(err => {\r\n          return this.handleError(err, req, next);\r\n        })\r\n      );\r\n    }\r\n\r\n    return next.handle(req);\r\n  }\r\n\r\n  private modifyBody(body: any) { }\r\n\r\n  private handleError(error: any, req: HttpRequest<any>, next: HttpHandler) {\r\n    if (error.status === 401) {\r\n      return this.authService.getToken().pipe(\r\n        switchMap((res: any) => {\r\n          const token = `${res.token_type} ${res.access_token}`;\r\n          const headers = new HttpHeaders({\r\n            Authorization: token,\r\n            'Content-Type': 'application/json'\r\n          });\r\n\r\n          window.localStorage.setItem(LOCAL_STORAGE_KEYS.token, token);\r\n          this.BaseUrl = this.getBaseUrl();\r\n\r\n          const modified = req.clone({\r\n            headers,\r\n            url: `${this.BaseUrl}/${req.url}`\r\n          });\r\n          return next.handle(modified);\r\n        })\r\n      );\r\n    }\r\n    return throwError(error);\r\n  }\r\n\r\n  private getBaseUrl():string {\r\n    return ConfigureService.config.url.base || '';\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-navigation-bottom',\n  templateUrl: './navigation-bottom.component.html',\n  styleUrls: ['./navigation-bottom.component.scss']\n})\nexport class NavigationBottomComponent implements OnInit {\n\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\n  @Output() backStep: EventEmitter<any> = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  next(): void {\n    this.nextStep.emit();\n  }\n\n  back(): void {\n    this.backStep.emit();\n  }\n\n}\n","<div class=\"spacer\"></div>\n<div class=\"w-100 navigation-btn-bottom\">\n  <div fxLayout=\"row\" fxLayoutAlign=\"space-around center\">\n    <button type=\"button\" class=\"btn btn-danger btn-arrow-left ks-btn-focus-decor-none\" (click)=\"back()\">\n      {{ 'navBottom.back' | translate }}\n    </button>\n    <button type=\"button\" class=\"btn btn-primary btn-arrow-right ks-btn-focus-decor-none\" (click)=\"next()\">\n      {{ 'navBottom.next' | translate }}\n    </button>\n  </div>\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  ElementRef,\r\n} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport { SearchBookingModel } from '../../models/booking/search-booking.model';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-scan-qr',\r\n  templateUrl: './scan-qr.component.html',\r\n  styleUrls: ['./scan-qr.component.scss'],\r\n})\r\nexport class ScanQrComponent implements OnInit, OnDestroy {\r\n  @Output() redirectBookingCode: EventEmitter<any> = new EventEmitter();\r\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\r\n\r\n  private hubSubcription = null;\r\n  private readString = '';\r\n  private wheelHandler: any;\r\n\r\n  constructor(\r\n    private hub: HubService,\r\n    private hubWalkin: HubWalkinService,\r\n    private router: Router,\r\n    private bookingService: BookingService,\r\n    private translateService: TranslateService,\r\n  ) {\r\n    this.hubSubcription = this.hub.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.scanQR) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.nextStep) {\r\n        this.changeToNextStep();\r\n      } else if (res.message === ACTIONS.backStep) {\r\n        this.backStep();\r\n      } else if (res.message === ACTIONS.focusQrInput) {\r\n        this.addListener();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n    this.clearListener();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.hubWalkin.setStep(1);\r\n    this.addListener();\r\n  }\r\n\r\n  addListener() {\r\n    this.wheelHandler = this.listenQrCode.bind(this);\r\n    const node = window.document;\r\n    node.addEventListener('keypress', this.wheelHandler, true);\r\n  }\r\n\r\n  clearListener() {\r\n    const node = window.document;\r\n    console.log('clwar');\r\n    node.removeEventListener('keypress', this.wheelHandler, true);\r\n  }\r\n\r\n  listenQrCode(event) {\r\n    if (event.keyCode === 13) {\r\n      const value = this.readString;\r\n      this.readString = '';\r\n      console.log('qr decode: ', value);\r\n      if (value !== '' && !this.hub.getLoading()) {\r\n        console.log('start get booking');\r\n        this.getBooking(value);\r\n      }\r\n    } else {\r\n      this.readString += event?.key || '';\r\n    }\r\n  }\r\n\r\n  getBooking(rsvCode: string): void {\r\n    this.hub.setLoading(true);\r\n    const model: SearchBookingModel = {\r\n      ReservationNo: rsvCode,\r\n    };\r\n    this.bookingService\r\n      .searchBooking(model)\r\n      .subscribe(\r\n        (res: ResponseBody) => {\r\n          if (res.statusCode === 200 && res.metadata) {\r\n            const data = res.metadata[0];\r\n            if (!environment.production) {\r\n              this.changeToNextStep({ ...(data || {}), resvNo: rsvCode });\r\n              return;\r\n            }\r\n            if (data) {\r\n              this.changeToNextStep({ ...data, resvNo: rsvCode });\r\n              this.clearListener();\r\n            } else {\r\n              let msg = `${this.translateService.instant(\r\n                'msg.notFoundBooking'\r\n              )} <p class=\"work-break-all\">${rsvCode}</p>`;\r\n              this.hub.error(msg);\r\n            }\r\n            console.log(res.metadata);\r\n          } else {\r\n            let msg = `${this.translateService.instant(\r\n              'msg.errorSearchBooking'\r\n            )} <p class=\"work-break-all\">${rsvCode}</p>`;\r\n            this.hub.error(msg);\r\n            console.log(res.message);\r\n          }\r\n        },\r\n        () => {\r\n          this.hub.error(\r\n            this.translateService.instant(`msg.errorSearchBooking`)\r\n          );\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hub.setLoading(false);\r\n      });\r\n  }\r\n  /**\r\n   * Back Step\r\n   */\r\n  backStep() {\r\n    // this.router.navigateByUrl('/options');\r\n    this.clearListener();\r\n    this.readString = '';\r\n  }\r\n\r\n  changeToNextStep(data?: any): void {\r\n    // this.nextStep.emit(data);\r\n    this.router.navigate([`/${PAGES.checkinQr}/${STEPS.step2}`]);\r\n    this.hubWalkin.setBookingData(data);\r\n    this.readString = '';\r\n  }\r\n}\r\n","<div class=\"d-flex flex-column\">\r\n  <div class=\"text-center mt-3\">\r\n    <p class=\"text-grey-dark\">\r\n      {{ 'scanQR.instruction' | translate }}\r\n    </p>\r\n  </div>\r\n  <div class=\"d-flex flex-row justify-content-center mt-4\">\r\n    <img src=\"assets/images/scan-qr.jpg\">\r\n  </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { HubModel } from '../../models/hub.models';\r\nimport { PAGES } from '../../constant/pages';\r\nimport { ACTIONS } from '../../constant/event';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HubService {\r\n\r\n  private subject: Subject<any> = new Subject();\r\n  private isLoading = false;\r\n\r\n  constructor() { }\r\n\r\n  sendEvent(event: any): void {\r\n    this.subject.next(event);\r\n  }\r\n\r\n  onHub(): Observable<HubModel> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Bật tắt is loading toàn màn\r\n   */\r\n  setLoading(isLoading: boolean): void {\r\n    const event: HubModel = {\r\n      receiver: PAGES.root,\r\n      message: ACTIONS.loading,\r\n      data: isLoading,\r\n    };\r\n    this.isLoading = isLoading;\r\n    this.sendEvent(event);\r\n  }\r\n\r\n  getLoading(): boolean {\r\n    return this.isLoading;\r\n  }\r\n  /**\r\n   * Bật Modal báo lỗi\r\n   */\r\n  error(msg: string): void {\r\n    const event: HubModel = {\r\n      receiver: PAGES.root,\r\n      message: ACTIONS.showErrorModal,\r\n      data: msg,\r\n    };\r\n    this.sendEvent(event);\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport Stepper from 'bs-stepper';\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-walkin',\n  templateUrl: './walkin.component.html',\n  styleUrls: ['./walkin.component.scss']\n})\nexport class WalkinComponent implements OnInit, OnDestroy {\n\n  private stepper: Stepper;\n  private hubSubcription;\n  \n  public isShowStepper = false;\n  \n  constructor(public hubWalkin: HubWalkinService) { \n    this.hubSubcription = hubWalkin.onStep().subscribe((step) => {\n      console.log('step: ', step);\n      this.stepper.to(step);\n    });\n  }\n  ngOnDestroy(): void {\n    // this.hubSubcription.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    this.initStepper();\n    console.log('on init');\n  }\n\n\n  initStepper() {\n    const linear = environment.production;\n    console.log(this.hubWalkin.isShowStepper);\n    this.hubWalkin.setIsShowStepper(true);\n    this.stepper = new Stepper(\n      document.querySelector('#stepper-checkin'),\n      {\n        linear: linear,\n        animation: true,\n      }\n    );\n    // this.stepper.to(this.hubWalkin.getStep());\n    // this.stepper.to(0);\n  }\n\n}\n","<section class=\"content d-flex flex-column h-100\">\n  <app-navigation></app-navigation>\n  <div class=\"spacer\">\n    &nbsp;\n  </div>\n  <div class=\"wrapper menu-intro my-2\">\n    <h5 *ngIf=\"hubWalkin.textIntro\" class=\"text-white font-weight-thin mt-3\">\n      {{ hubWalkin.textIntro | translate }},\n    </h5>\n    <h4 *ngIf=\"hubWalkin.subTextIntro\" class=\"text-white font-weight-bold mt-3\">\n      {{ hubWalkin.subTextIntro | translate }}\n    </h4>\n    <!-- <h5 class=\"text-white font-weight-thin mt-3\">\n      {{ 'flowDetect.hi' | translate }},\n    </h5>\n    <h4 class=\"text-white font-weight-bold mt-3\">\n      {{ 'flowDetect.docIntro' | translate }}\n    </h4> -->\n  </div>\n  <div class=\"h-100\">\n    <div class=\"app-card d-flex flex-column justify-content-between h-100\">\n      <div class=\"d-flex flex-column h-100\">\n        <div class=\"d-flex flex-row justify-content-center mb-2\">\n          <div class=\"mt-3 bg-primary stick-horizontal\"></div>\n        </div>\n        <div id=\"stepper-checkin\" class=\"bs-stepper d-flex flex-column\">\n          <!-- HEADER -->\n          <div [hidden]=\"!hubWalkin.isShowStepper\" class=\"bs-stepper-header wrapper\">\n            <div class=\"step\" data-target=\"#step-avail-rooms\">\n              <button class=\"step-trigger\">\n                <span class=\"bs-stepper-circle\">1</span>\n                <span class=\"bs-stepper-label\">\n                  {{'flowBooking.availabilityRooms' | translate}}\n                </span>\n              </button>\n            </div>\n            <div class=\"step\" data-target=\"#step-scan-id-card\">\n              <button class=\"step-trigger\">\n                <span class=\"bs-stepper-circle\">2</span>\n                <span class=\"bs-stepper-label\">\n                  {{'flowBooking.bookingInformation' | translate}}\n                </span>\n              </button>\n            </div>\n            <div class=\"step\" data-target=\"#step-booking-create\">\n              <button class=\"step-trigger\">\n                <span class=\"bs-stepper-circle\">3</span>\n                <span class=\"bs-stepper-label\">\n                  {{'flowBooking.bookingCreate' | translate}}\n                </span>\n              </button>\n            </div>\n            <div class=\"step\" data-target=\"#step-done\">\n              <button class=\"step-trigger\">\n                <span class=\"bs-stepper-circle\">4</span>\n                <span class=\"bs-stepper-label\">{{'flowBooking.done' | translate}}</span>\n              </button>\n            </div>\n          </div>\n          <!-- CONTENT -->\n          <div id=\"bsStepperContent\" class=\"bs-stepper-content\">\n            <div id=\"step-avail-rooms\" class=\"content h-100\" data-name=\"availRooms\">\n            </div>\n            <div id=\"step-scan-id-card\" class=\"content h-100\" data-name=\"scanIdCard\">\n            </div>\n            <div id=\"step-booking-create\" class=\"content\" data-name=\"bookingCreate\">\n            </div>\n            <div id=\"step-done\" class=\"content text-center h-100\" data-name=\"bookingDone\">\n            </div>\n          </div>\n        </div>\n        <router-outlet></router-outlet>\n      </div>\n      <div>\n        <!-- <ng-content select=\"[app-card-footer]\"></ng-content> -->\n      </div>\n    </div>\n  </div>\n</section>\n<!-- <div class=\"overlay\" *ngIf=\"loading\"></div>\n<div class=\"spinner\" *ngIf=\"loading\">\n  <div class=\"loader\"></div>\n</div> -->","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AppCardComponent } from './app-card.component';\n\n\n\n@NgModule({\n  declarations: [\n    AppCardComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    AppCardComponent\n  ]\n})\nexport class AppCardModule { }\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { HubModel } from '../../models/hub.models';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HubWalkinService {\n\n  private step: Subject<any> = new Subject();\n  // private step = 1;\n  public page = '';\n  public bookingData:any = {};\n  public totalRateData: any = {};\n  public isDoneFlow = true;\n  public errorMessageCreateBooking = '';\n  public isShowStepper = false;\n\n  public textIntro = '';\n  public subTextIntro = '';\n\n  constructor() { }\n\n  getBookingData() {\n    return this.bookingData;\n  }\n\n  setBookingData(data) {\n    this.bookingData = {...this.bookingData, ...data};\n  }\n\n  clearBookingData() {\n    this.bookingData = {};\n  }\n\n  setStep(event: any): void {\n    this.step.next(event);\n  }\n\n  onStep(): Observable<any> {\n    return this.step.asObservable();\n  }\n\n  setPage(page: string) {\n    this.page = page;\n  }\n\n  setIsShowStepper(value) {\n    this.isShowStepper = value;\n  }\n\n  setTextIntro(value) {\n    this.textIntro = value;\n  }\n\n  setSubTextIntro(value) {\n    this.subTextIntro = value;\n  }\n\n}\n","export const CHECK_IN_MODES = {\r\n\tQR_CODE: 'QR_CODE',\r\n\tBOOKING_CODE: 'BOOKING_CODE',\r\n\tWALK_IN: 'WALK-IN',\r\n};","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  Input,\r\n} from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { faRedo, faTruckMonster } from '@fortawesome/free-solid-svg-icons';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { RoomAvailabilityService } from '../../services/room-availability/room-availability.service';\r\nimport { throwError } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-booking-details',\r\n  templateUrl: './booking-details.component.html',\r\n  styleUrls: ['./booking-details.component.scss'],\r\n})\r\nexport class BookingDetailsComponent implements OnInit, OnDestroy {\r\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\r\n  @Output() backStep: EventEmitter<any> = new EventEmitter();\r\n  @Output() refreshRoomAvai: EventEmitter<any> = new EventEmitter();\r\n\r\n  private hubSubcription;\r\n  public faRedo = faRedo;\r\n\r\n  public bookingData: any;\r\n  public totalRateData: any;\r\n  public roomAvaiData = [];\r\n  public error = '';\r\n\r\n  constructor(\r\n    private hubService: HubService,\r\n    public utilService: UtilityService,\r\n    private hubWalkin: HubWalkinService,\r\n    private bookingService: BookingService,\r\n    private roomAvaiService: RoomAvailabilityService,\r\n    private translateService: TranslateService,\r\n    private router: Router,\r\n  ) {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.bookingDetails) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.nextStep) {\r\n        this.changeToNextStep();\r\n      } else if (res.message === ACTIONS.backStep) {\r\n        this.changeToPreviousStep();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.hubWalkin.setStep(2);\r\n    this.bookingData = {...this.hubWalkin.getBookingData()};\r\n    this.initData(this.bookingData);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  initData(guestData: any) {\r\n    setTimeout(() => {\r\n      this.hubService.setLoading(true);\r\n    }, 0);\r\n    this.bookingData = { ...this.bookingData, ...guestData };\r\n    this.bookingService\r\n      .getTotalRate({\r\n        ArrivalDate: this.bookingData.arrivalDate || moment(new Date()).format('YYYY-MM-DD'),\r\n        DepartDate: this.bookingData.departDate || moment(new Date()).format('YYYY-MM-DD'),\r\n        ArrivalTime: this.bookingData.arrivalTime,\r\n        DepartTime: this.bookingData.departTime,\r\n        RoomBocked: this.bookingData.roomCode,\r\n        RoomType: this.bookingData.roomTypeCode,\r\n        NoOfAdults: this.bookingData.adult,\r\n        NoOfChild: this.bookingData.child,\r\n      })\r\n      .pipe(\r\n        mergeMap((res: ResponseBody) => {\r\n          if (res.metadata && res.metadata[0]) {\r\n            this.totalRateData = res.metadata[0];\r\n            return this.roomAvaiService.getRoomAvailabitlity(\r\n              this.bookingData.arrivalDate,\r\n              this.bookingData.departDate,\r\n              true\r\n            );\r\n          } else {\r\n            throwError({\r\n              code: '',\r\n              message: this.translateService.instant('msg.errorGetTotalRate'),\r\n              useToast: faTruckMonster,\r\n            });\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: ResponseBody) => {\r\n          if (res.statusCode === 200 && res.metadata) {\r\n            this.roomAvaiData = res.metadata\r\n              .map((item) => ({\r\n                ...item,\r\n                buildingCode: `${item.buildingCode}`,\r\n              }))\r\n              // .filter(\r\n              //   (item) => item?.roomTypeCode === this.bookingData.roomTypeCode\r\n              // );\r\n            if (this.roomAvaiData[0]) {\r\n              this.changeRoomCode(this.roomAvaiData[0].roomCode);\r\n            }\r\n          } else {\r\n            this.error = res.message || '';\r\n            throwError({\r\n              code: '',\r\n              message: this.translateService.instant('msg.errorGetTotalRate'),\r\n              useToast: false,\r\n            });\r\n          }\r\n        },\r\n        (err: any) => {\r\n          if (err.useToast) {\r\n            this.hubService.error(\r\n              err?.message ||\r\n                this.translateService.instant('msg.errorHandlingRequest')\r\n            );\r\n          }\r\n        }\r\n      ).add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  changeRoomCode(roomCode: string) {\r\n    this.bookingData.roomCode = roomCode;\r\n  }\r\n\r\n  accept() {\r\n    this.changeToNextStep();\r\n  }\r\n\r\n  changeToNextStep() {\r\n    // this.nextStep.emit({\r\n    //   ...this.bookingData,\r\n    // });\r\n    this.hubWalkin.setBookingData(this.bookingData);\r\n    this.router.navigate([`/${PAGES.checkinQr}/${STEPS.step3}`]);\r\n  }\r\n\r\n  changeToPreviousStep() {\r\n    this.backStep.emit();\r\n  }\r\n\r\n  onSelectRoom(room: any) {\r\n    this.changeRoomCode(room.roomCode);\r\n  }\r\n  \r\n  refresh() {\r\n    this.initData(this.bookingData);\r\n  }\r\n\r\n  /**\r\n   * DISPLAY\r\n   */\r\n  displayArrival(): string {\r\n    return moment(this.bookingData.arrivalDate).format('DD/MM/yyyy') || '';\r\n  }\r\n\r\n  displayDepart(): string {\r\n    return moment(this.bookingData.departDate).format('DD/MM/yyyy') || '';\r\n  }\r\n\r\n  displayNumNight(): string {\r\n    if (this.bookingData.arrivalDate === this.bookingData.departDate) {\r\n      return `1`;\r\n    }\r\n    const start = moment(this.bookingData.arrivalDate);\r\n    const end = moment(this.bookingData.departDate);\r\n    return `${end.startOf('day').diff(start.startOf('day'), 'd')}`;\r\n  }\r\n\r\n  displayTotal() {\r\n    const total =\r\n      (this.totalRateData?.rate || 0) +\r\n      (this.totalRateData?.tax1 || 0) +\r\n      (this.totalRateData?.tax2 || 0);\r\n    return total || 0;\r\n  }\r\n}\r\n","<div class=\"d-flex flex-column wrapper\">\r\n  <!-- THÔNG TIN ĐẶT PHÒNG -->\r\n  <h5 class=\"text-grey-dark font-weight-600 my-3\">\r\n    {{ 'bookingCreate.bookingInformation' | translate }}\r\n  </h5>\r\n  <div class=\"card card-box-shadow my-3\">\r\n    <div class=\"card-body\">\r\n      <div class=\"row font-weight-600\">\r\n        <div class=\"col-3\">\r\n          <span>{{ 'bookingCreate.fullName' | translate }}</span>\r\n        </div>\r\n        <div class=\"col-9\">\r\n          <span class=\"text-primary text-uppercase\">{{ bookingData.guestName }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"dropdown-divider\"></div>\r\n      <div class=\"row font-weight-600\">\r\n        <div class=\"col-3\">\r\n          <span st>{{ 'bookingCreate.from' | translate }}</span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span class=\"text-primary\">{{\r\n            displayArrival()\r\n            }}</span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span>{{ 'bookingCreate.to' | translate }}</span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span class=\"text-primary\">{{\r\n            displayDepart()\r\n            }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"row font-weight-600 mt-2\">\r\n        <div class=\"col-3\">\r\n          <span>{{ 'bookingCreate.numNight' | translate }}</span>\r\n        </div>\r\n        <div class=\"col\">\r\n          <span class=\"text-primary\">{{ displayNumNight()\r\n            }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"dropdown-divider\"></div>\r\n      <div class=\"row font-weight-600\">\r\n        <div class=\"col-3\">\r\n          <span>{{ 'bookingCreate.room' | translate }}</span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span class=\"text-primary\">{{ bookingData.roomCode }} ({{ bookingData.roomTypeCode }})</span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span>{{ 'bookingCreate.building' | translate }}</span>\r\n        </div>\r\n        <div class=\"col-3\">\r\n          <span class=\"text-primary\">{{ bookingData.buildingCode }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- CHỌN PHÒNG -->\r\n  <h5 class=\"text-grey-dark font-weight-600 my-3\">\r\n    Chọn phòng <fa-icon [icon]=\"faRedo\" class=\"ml-3\" (click)=\"refresh()\"></fa-icon>\r\n  </h5>\r\n  <div class=\"card card-box-shadow my-3\">\r\n    <div class=\"card-body\">\r\n      <div class=\"avails-room-block\">\r\n        <div *ngIf=\"error\" fxLayout=\"row\" fxLayoutAlign=\"none center\" class=\"h-100 w-100\">\r\n          <p class=\"text-danger\">\r\n            <i class=\"fa fa-exclamation-triangle\"></i>&nbsp;{{ error }}\r\n          </p>\r\n        </div>\r\n        <div *ngIf=\"!error\" class=\"d-flex flex-row\">\r\n          <div class=\"flex-grow-1\" style=\"background-color: #fff;\">\r\n            <div id=\"room-list-scroll\" fxLayout=\"row wrap\" fxLayoutAlign=\"start\" class=\"w-100 room-list-container\">\r\n              <div *ngFor=\"let room of roomAvaiData; index as i;\" class=\"room-container\">\r\n                <div class=\"room-card\" (click)=\"onSelectRoom(room)\"\r\n                  [class]=\"{'active': bookingData.roomCode === room.roomCode, 'booked': bookingData.roomCode !== room.roomCode && [].includes(room.roomCode)}\">\r\n                  <div class=\"w-100 h-100 d-flex flex-row justify-content-center align-items-center\">\r\n                    {{room.roomCode}}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- THÔNG TIN THANH TOÁN -->\r\n  <h5 class=\"text-grey-dark font-weight-600 my-3\">\r\n    {{ 'bookingCreate.payment' | translate }}\r\n  </h5>\r\n  <div class=\"card card-box-shadow my-3\">\r\n    <div class=\"card-body\">\r\n      <div class=\"d-flex flex-row justify-content-between font-weight-600\">\r\n        <div>\r\n          <p>{{ 'bookingCreate.roomRate' | translate }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"ks-text-align-right  text-primary\">{{ utilService.formatMoney(totalRateData?.rate) }} VND</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"d-flex flex-row justify-content-between font-weight-600\">\r\n        <div>\r\n          <p>{{ 'bookingCreate.taxRate' | translate }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"ks-text-align-right  text-primary\">{{ utilService.formatMoney(totalRateData?.tax1) }} VND</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"d-flex flex-row justify-content-between font-weight-600\">\r\n        <div>\r\n          <p>{{ 'bookingCreate.serviceCharge' | translate }}</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"ks-text-align-right  text-primary\">{{ utilService.formatMoney(totalRateData?.tax2) }} VND</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"dropdown-divider\"></div>\r\n      <div class=\"d-flex flex-row justify-content-between font-weight-600\">\r\n        <div>\r\n          <p>{{ 'bookingCreate.totalRate' | translate }}</p>\r\n        </div>\r\n        <div>\r\n          <span class=\"ks-text-align-right  text-primary\">{{ utilService.formatMoney(displayTotal()) }} VND</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex flex-row justify-content-around w-100 mt-3 mb-3\">\r\n    <app-button class=\"w-80\" className=\"text-uppercase btn-primary w-100\" (click)=\"changeToNextStep()\">\r\n      {{ 'flowDetect.btnContinue' | translate }}\r\n    </app-button>\r\n  </div>\r\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  EventEmitter,\r\n  Output,\r\n  ViewEncapsulation,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport Keyboard from 'simple-keyboard';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { SearchBookingModel } from '../../models/booking/search-booking.model';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\n\r\n@Component({\r\n  selector: 'app-booking-code',\r\n  // encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './booking-code.component.html',\r\n  styleUrls: [\r\n    '../../../../../../node_modules/simple-keyboard/build/css/index.css',\r\n    './booking-code.component.scss',\r\n  ],\r\n})\r\nexport class BookingCodeComponent implements OnInit, OnDestroy {\r\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\r\n  @Output() redirectScanQR: EventEmitter<any> = new EventEmitter();\r\n\r\n  public bookingCode = '';\r\n\r\n  private keyboard: Keyboard;\r\n  private hubSubcription = null;\r\n\r\n  constructor(\r\n    private hubService: HubService,\r\n    private bookingService: BookingService,\r\n    private router: Router,\r\n    private translateService: TranslateService,\r\n    private hubWalkin: HubWalkinService,\r\n  ) {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.bookingCode) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.nextStep) {\r\n        this.submit();\r\n      } else if (res.message === ACTIONS.backStep) {\r\n        this.changeToPreviousStep();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this.initKeyboard();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  submit() {\r\n    if (!this.bookingCode) {\r\n      this.hubService.error(\r\n        this.translateService.instant('msg.notEnterBookingCode')\r\n      );\r\n      return;\r\n    }\r\n    const trimBookingCode = this.bookingCode.trim();\r\n    if (trimBookingCode === '') {\r\n      this.hubService.error(\r\n        this.translateService.instant('msg.notEnterBookingCode')\r\n      );\r\n      return;\r\n    }\r\n    this.getBooking(trimBookingCode);\r\n  }\r\n\r\n  getBooking(rsvCode: string): void {\r\n    this.hubService.setLoading(true);\r\n    const model: SearchBookingModel = {\r\n      ReservationNo: rsvCode,\r\n    };\r\n\r\n    this.bookingService\r\n      .searchBooking(model)\r\n      .subscribe(\r\n        (res: ResponseBody) => {\r\n          if (res.statusCode === 200 && res.metadata) {\r\n            const data = res.metadata[0];\r\n            // this.changeToNextStep({ ...(data || {}), resvNo: rsvCode });\r\n            if (data) {\r\n              this.changeToNextStep({ ...data, resvNo: rsvCode });\r\n            } else {\r\n              let msg = `${this.translateService.instant(\r\n                'msg.notFoundBooking'\r\n              )} <p class=\"work-break-all\">${rsvCode}</p>`;\r\n              this.hubService.error(msg);\r\n            }\r\n          } else {\r\n            this.hubService.error(\r\n              this.translateService.instant(`msg.errorSearchBooking`)\r\n            );\r\n            // this.hubService.error(`Có sự cố xảy ra trong quá trình tìm kiếm`);\r\n          }\r\n        },\r\n        () => {\r\n          this.hubService.error(\r\n            this.translateService.instant(`msg.errorSearchBooking`)\r\n          );\r\n          // this.hubService.error(`Có sự cố xảy ra trong quá trình tìm kiếm`);\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * KEY BOARD\r\n   */\r\n  // initKeyboard() {\r\n  //   this.focusInputBookingCode();\r\n  //   this.keyboard = new Keyboard({\r\n  //     onChange: input => this.onChange(input),\r\n  //     onKeyPress: button => this.onKeyPress(button)\r\n  //   });\r\n  //   document.addEventListener(\"keydown\", event => {\r\n  //     if (event.key === \"Shift\") {\r\n  //       this.handleShift(event);\r\n  //     }\r\n  //     if (event.key === \"CapsLock\") {\r\n  //       this.handleShift(event);\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // onChange(input) {\r\n  //   this.bookingCode = input;\r\n  // }\r\n\r\n  // onKeyPress(button) {\r\n  //   if (button === \"{shift}\" || button === \"{lock}\") {\r\n  //     this.handleShift(null);\r\n  //   }\r\n  // }\r\n\r\n  // onInputChange = (event: any) => {\r\n  //   this.keyboard.setInput(event.target.value);\r\n  // };\r\n\r\n  // handleShift(event) {\r\n  //   let currentLayout = this.keyboard.options.layoutName;\r\n  //   let shiftToggle = currentLayout === \"default\" ? \"shift\" : \"default\";\r\n\r\n  //   /**\r\n  //    * If phyisical keyboard's CapsLock is enabled\r\n  //    */\r\n  //   if (event && event.getModifierState(\"CapsLock\")) {\r\n  //     shiftToggle = \"shift\";\r\n  //   }\r\n\r\n  //   this.keyboard.setOptions({\r\n  //     layoutName: shiftToggle\r\n  //   });\r\n  // }\r\n\r\n  /**\r\n   *\r\n   * NAVIGATE\r\n   */\r\n  changeToNextStep(data): void {\r\n    // this.nextStep.emit(data);\r\n    this.hubWalkin.setBookingData(data);\r\n    this.router.navigate([`/${PAGES.checkinCode}/${STEPS.step2}`]);\r\n  }\r\n\r\n  changeToPreviousStep() {\r\n    this.router.navigateByUrl('/options');\r\n  }\r\n}\r\n","<div class=\"d-flex flex-column h-100 justify-content-between wrapper\">\r\n  <div class=\"flex-grow-1\">\r\n    <h5 class=\"font-weight-thin my-5 text-grey-dark font-weight-600\">\r\n      {{ 'bookingCode.instruction' | translate }}\r\n    </h5>\r\n    <div class=\"d-flex flex-row justify-content-center my-5\">\r\n      <input id=\"input-booking-code\" type=\"text\" class=\"input-underline\" [(ngModel)]=\"bookingCode\" [disabled]=\"\"\r\n        (keyup.enter)=\"submit()\" />\r\n      <!-- (input)=\"onInputChange($event)\" -->\r\n    </div>\r\n    <div *ngIf=\"false\" class=\"keyboard-container my-3\">\r\n      <div class=\"simple-keyboard\"></div>\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex flex-row justify-content-around w-100 mt-3 mb-3\">\r\n    <app-button class=\"w-80\" className=\"text-uppercase btn-primary w-100\" (click)=\"submit()\">\r\n      {{ 'flowDetect.btnContinue' | translate }}\r\n    </app-button>\r\n  </div>\r\n</div>","export const AUDIO_FILES = {\r\n  availRoomIntro: 'avail-rooms.intro.mp3',\r\n  bookingCodeIntro: 'booking-code.intro.mp3',\r\n  bookingCreateIntro: 'booking-create.intro.mp3',\r\n  bookingDoneIntro: 'booking-done.intro.mp3',\r\n  scanIdBack: 'scan-id.back.mp3',\r\n  scanIdFront: 'scan-id.front.mp3',\r\n  scanIdFace: 'scan-id.face.mp3',\r\n  scanIdDocType: 'scan-id.type.mp3',\r\n  scanQrIntro: 'scan-qr.intro.mp3',\r\n  bookingDoneError: 'booking-done.error.mp3',\r\n}","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { SearchBookingModel } from '../../models/booking/search-booking.model';\nimport { CreateBookingModel } from '../../models/booking/create-booking.model';\nimport { GetTotalRateModel as GetTotalRateModel } from '../../models/booking/get-total-rate.model';\nimport * as moment from 'moment';\nimport { CheckInModel } from '../../models/booking/check-in.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class BookingService {\n  constructor(private http: HttpClient) {}\n\n  createBooking(body: any) {\n    const data: CreateBookingModel = {\n      guestName: '',\n      address: '',\n      phone: '',\n      arrivalDate: '',\n      departDate: '',\n      arrivalTime: '',\n      departTime: '',\n      adult: 0,\n      child: 0,\n      buildingCode: '',\n      roomCode: '',\n      roomTypeCode: '',\n      rateCode: '',\n      seasonCode: '',\n      isRateOverride: 'N',\n      rateOverrideValue: 0,\n      isNetPrice: 'N',\n      useMeal: 'N',\n      mealCode: '',\n      taRecLoc: '',\n      remark: '',\n      reservationType: '',\n      paymentMethod: '',\n      paymentAmount: 0,\n    };\n\n    Object.keys(data).forEach((key) => {\n      data[key] = body[key];\n    });\n\n    const endpoint = 'api/booking/create-booking';\n    return this.http.post(endpoint, data);\n  }\n\n  searchBooking(body: SearchBookingModel) {\n    const endpoint = `api/booking/search-booking`;\n    return this.http.post(endpoint, body);\n  }\n\n  getTotalRate(body: GetTotalRateModel) {\n    const arrDate = moment(`${body.ArrivalDate}`).format('MM/DD/YYYY');\n    const dptDate = moment(`${body.DepartDate}`).format('MM/DD/YYYY');\n\n    const arrTime = moment(`${body.ArrivalTime}`, 'HH:mm', true)\n      ? body.ArrivalTime\n      : moment(`${body.ArrivalTime}`).format('HH:mm');\n    const dptTime = moment(`${body.DepartTime}`, 'HH:mm', true)\n      ? body.DepartTime\n      : moment(`${body.DepartTime}`).format('HH:mm');\n\n    const endpoint = `api/room/get-total-rate`;\n    const data: GetTotalRateModel = {\n      Season: 'ALL',\n      RateCode: 'BAR',\n      RateOverride: 'N',\n      IsNetPrice: 'N',\n      ...body,\n      ArrivalDate: arrDate,\n      DepartDate: dptDate,\n      ArrivalTime: arrTime,\n      DepartTime: dptTime,\n    };\n    return this.http.post(endpoint, data);\n  }\n\n  checkin(body: CheckInModel) {\n    const endpoint = `api/booking/checkin`;\n    return this.http.post(endpoint, body);\n  }\n}\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component } from '@angular/core';\r\nimport { HubService } from './shared/services/hub/hub.service';\r\nimport { HubModel } from './shared/models/hub.models';\r\nimport { PAGES } from './shared/constant/pages';\r\nimport { ACTIONS } from './shared/constant/event';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ModalErrorComponent } from './shared/components/modal-error/modal-error/modal-error.component';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\n\r\n\r\nexport class AppComponent {\r\n  title = 'kiosk-checkin';\r\n  public loading = false;\r\n  /**\r\n   * \r\n   */\r\n  constructor(private hub: HubService, private modalServie: NgbModal,) {\r\n    this.hub.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.root) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.loading) {\r\n        this.loading = res.data || false;\r\n      } else if (res.message === ACTIONS.showErrorModal) {\r\n        this.displayError(null, res.data);\r\n      }\r\n    });\r\n  }\r\n\r\n  displayError(code: any, msg: string) {\r\n    const ref = this.modalServie.open(ModalErrorComponent, {\r\n      size: 'xl',\r\n      centered: true\r\n    });\r\n    ref.componentInstance.errorCode = code;\r\n    ref.componentInstance.errorMessage = msg;\r\n  }\r\n}\r\n\r\n\r\n","<section class=\"content d-flex flex-column\">\r\n  <app-navigation></app-navigation>\r\n  <div class=\"spacer\">\r\n    &nbsp;\r\n  </div>\r\n  <router-outlet></router-outlet>\r\n</section>\r\n<div class=\"overlay\" *ngIf=\"loading\"></div>\r\n<div class=\"spinner\" *ngIf=\"loading\">\r\n  <div class=\"loader\"></div>\r\n</div>","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport {\n  NgbDate,\n  NgbDatepickerI18n,\n  NgbDateStruct,\n} from '@ng-bootstrap/ng-bootstrap';\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-booking-date-picker',\n  providers: [\n    { provide: NgbDatepickerI18n, useClass: BookingDatePickerComponent },\n  ],\n  templateUrl: './booking-date-picker.component.html',\n  styleUrls: ['./booking-date-picker.component.scss'],\n})\nexport class BookingDatePickerComponent\n  extends NgbDatepickerI18n\n  implements OnInit\n{\n  @Input() fromDate: NgbDate;\n  @Input() toDate: NgbDate | null = null;\n  @Output() dateSelect: EventEmitter<any> = new EventEmitter();\n  @ViewChild('btnRerender') btnRerender: ElementRef;\n\n  public hoveredDate: NgbDate | null = null;\n\n  constructor(\n    private translate: TranslateService\n  ) {\n    super();\n    this.translate.onLangChange.subscribe((event: LangChangeEvent) => {\n      // TODO This as a workaround.\n      this.btnRerender?.nativeElement.click();\n    });\n  }\n\n  async ngOnInit() {\n    await this.translate.get('date-picker');\n  }\n\n  isDisabled(date) {\n    const past = moment(`${date.year}/${date.month}/${date.day}`);\n    const current = moment(`${new Date().getFullYear()}/${new Date().getMonth() + 1}/${new Date().getDate()}`).add(1, 'days');\n    // console.log('date: ', past, current);\n    return past.unix() < current.unix();\n  }\n\n  navigateTo(dp: any) {\n    const ngbDatePkrList = document.querySelectorAll('select.custom-select');\n    const month = ngbDatePkrList[0]['value'] * 1;\n    const year = ngbDatePkrList[1]['value'] * 1;\n\n    dp.navigateTo({year: year + 1, month, day: 1});\n    dp.navigateTo({year, month, day: 1});\n  }\n \n  getWeekdayShortName(weekday: number): string {\n    const datePickerLang = this.translate.instant('date-picker');\n    const weekdays = [];\n    if (datePickerLang?.weekdays) {\n      Object.keys(datePickerLang?.weekdays)?.forEach((key) => {\n        weekdays.push(datePickerLang.weekdays[key]);\n      });\n    }\n    return weekdays[weekday - 1] || '';\n  }\n  getMonthShortName(month: number): string {\n    const datePickerLang = this.translate.instant('date-picker');\n    const months = [];\n    if (datePickerLang?.months) {\n      Object.keys(datePickerLang?.months)?.forEach((key) => {\n        months.push(datePickerLang.months[key]);\n      });\n    }\n    return months[month - 1] || '';\n  }\n  getMonthFullName(month: number): string {\n    return this.getMonthShortName(month);\n  }\n  getDayAriaLabel(date: NgbDateStruct): string {\n    return `${date.day}-${date.month}-${date.year}`;\n  }\n\n  onDateSelection(date) {\n    if (this.isDisabled(date)) {\n      return;\n    }\n    if (!this.fromDate && !this.toDate) {\n      this.fromDate = date;\n    } else if (this.fromDate && !this.toDate && date.after(this.fromDate)) {\n      this.toDate = date;\n    } else {\n      this.toDate = null;\n      this.fromDate = date;\n    }\n    this.dateSelect.emit({\n      fromDate: this.fromDate,\n      toDate: this.toDate,\n    });\n  }\n\n  isHovered(date: NgbDate) {\n    return (\n      this.fromDate &&\n      !this.toDate &&\n      this.hoveredDate &&\n      date.after(this.fromDate) &&\n      date.before(this.hoveredDate)\n    );\n  }\n\n  isInside(date: NgbDate) {\n    return this.toDate && date.after(this.fromDate) && date.before(this.toDate);\n  }\n\n  isRange(date: NgbDate) {\n    return (\n      date.equals(this.fromDate) ||\n      (this.toDate && date.equals(this.toDate)) ||\n      this.isInside(date) ||\n      this.isHovered(date)\n    );\n  }\n}\n","<div class=\"date-picker-range-modal\">\n  <ngb-datepicker class=\"w-100 custom-daptepicker\" #dp (dateSelect)=\"onDateSelection($event)\" [displayMonths]=\"1\"\n    [dayTemplate]=\"t\" outsideDays=\"hidden\">\n  </ngb-datepicker>\n\n  <ng-template #t let-date let-focused=\"focused\">\n    <span [class]=\"['custom-day', isDisabled(date) && 'disabled']\" [class.focused]=\"focused\" [class.range]=\"isRange(date)\"\n      [class.faded]=\"isHovered(date) || isInside(date)\" (mouseenter)=\"hoveredDate = date\"\n      (mouseleave)=\"hoveredDate = null\"\n      >\n      {{ date.day }}\n    </span>\n  </ng-template>\n\n  <button #btnRerender (click)=\"navigateTo(dp)\" class=\"btn-none\"></button>\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  Input\r\n} from '@angular/core';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { Router } from '@angular/router';\r\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { DispenserService } from 'src/app/shared/services/dispenser/dispenser.service';\r\nimport { throwError } from 'rxjs';\r\nimport * as moment from 'moment';\r\nimport { LockCardModel } from 'src/app/shared/models/lock-card.model';\r\nimport { LockCardService } from 'src/app/shared/services/lock-card/lock-card.service';\r\n\r\n@Component({\r\n  selector: 'app-scan-identity-card',\r\n  templateUrl: './scan-identity-card.component.html',\r\n  styleUrls: ['./scan-identity-card.component.scss']\r\n})\r\nexport class ScanIdentityCardComponent implements OnInit, OnDestroy {\r\n  @Output() sendGuestInfo: EventEmitter<any> = new EventEmitter();\r\n  @Output() backStep: EventEmitter<any> = new EventEmitter();\r\n  @Output() detectAgain: EventEmitter<any> = new EventEmitter();\r\n\r\n  \r\n  public alert = {\r\n    errorModal: {\r\n      show: false,\r\n      type: '',\r\n      message: ''\r\n    },\r\n    successModal: {\r\n      show: false,\r\n      type: '',\r\n      message: ''\r\n    },\r\n    successOutside: {\r\n      show: false,\r\n      type: '',\r\n      message: ''\r\n    }\r\n  };\r\n  private hubSubcription = [];\r\n  public guestData: any = {\r\n    guestName: '',\r\n    address: '',\r\n    birth: '',\r\n    expiry: '',\r\n    passportNumber: '',\r\n    passportType: '',\r\n    sex: '',\r\n    nationalityCode: ''\r\n  };\r\n  public bookingData:any = {};\r\n\r\n  constructor(\r\n    private hubService: HubService,\r\n    private translateService: TranslateService,\r\n    private hubWalkin: HubWalkinService,\r\n    private router: Router,\r\n    private utilService: UtilityService,\r\n    private bookingService: BookingService,\r\n    private dispenserService: DispenserService,\r\n    private lockCardService: LockCardService,\r\n  ) {\r\n    const sub1 = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.scanIdCard) {\r\n        return;\r\n      }\r\n      this.processHubEvent(res);\r\n    });\r\n    this.hubSubcription = [sub1];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.guestData = {...this.hubWalkin.bookingData};\r\n    const page = this.utilService.getCurrentPage();\r\n    console.log('init scan id card: ', page);\r\n    switch (page) {\r\n      case PAGES.walkin:\r\n        this.hubWalkin.setStep(2);   \r\n        break;\r\n      case PAGES.checkinQr:\r\n        this.hubWalkin.setStep(3);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.forEach(item => item.unsubscribe());\r\n  }\r\n\r\n  sendGuestData() {\r\n    // this.sendGuestInfo.emit(this.guest);\r\n  }\r\n\r\n  processHubEvent(event: HubModel) {\r\n    if (event.message === ACTIONS.nextStep) {\r\n      this.changeToNextStep();\r\n    } else if (event.message === ACTIONS.backStep) {\r\n      this.changeToPreviousStep();\r\n    }\r\n  }\r\n\r\n  handleNextStep() {\r\n    const page = this.utilService.getCurrentPage();\r\n    if (page === PAGES.walkin) {\r\n      this.changeToNextStep();\r\n      return;\r\n    }\r\n    this.processCard();\r\n  }\r\n\r\n  changeToNextStep() {\r\n    const page = this.utilService.getCurrentPage();\r\n    let step = '';\r\n    switch (page) {\r\n      case PAGES.checkinQr:\r\n        step = STEPS.step4;\r\n        break;\r\n      case PAGES.walkin:\r\n        step = STEPS.step3;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (!environment.production) {\r\n      this.hubWalkin.setBookingData({...this.guestData});\r\n      this.router.navigate([`/${page}/${step}`]);\r\n      return;\r\n    }\r\n    if ((this.guestData.passportNumber || '') !== '') {\r\n      this.hubWalkin.setBookingData({...this.guestData});\r\n      this.router.navigate([`/${page}/${step}`]);\r\n    } else {\r\n      this.hubService.error(this.translateService.instant('msg.plsScan'));\r\n    }\r\n  }\r\n\r\n  changeToPreviousStep() {\r\n    this.backStep.emit();\r\n  }\r\n\r\n  useOtherCard() {\r\n    // this.detectAgain.emit();\r\n    const page = this.utilService.getCurrentPage();\r\n    this.router.navigate([`/${page}/${STEPS.detect}`]);\r\n  }\r\n\r\n  processCard() {\r\n    // this.bookingData = { ...this.bookingData, ...guestData };\r\n    this.hubWalkin.setBookingData(this.guestData);\r\n    console.log('process card | booking data: ', this.guestData);\r\n\r\n    this.hubService.setLoading(true);\r\n    this.bookingService\r\n      .checkin({\r\n        resvNo: this.guestData?.resvNo,\r\n        roomCode: this.guestData?.roomCode,\r\n      })\r\n      .pipe(\r\n        mergeMap((res: any) => {\r\n          if (res.statusCode === 200) {\r\n            return this.dispenserService.moveToRfPos();\r\n          } else {\r\n            const message = this.translateService.instant('msg.errorCheckin');\r\n            return throwError({ code: res.statusCode, message });\r\n          }\r\n        }),\r\n        mergeMap((res: any) => {\r\n          if (res.code === 0) {\r\n            return this.writeCard();\r\n          } else {\r\n            return throwError({ code: res.code, message: res.message });\r\n          }\r\n        }),\r\n        mergeMap((res: any) => {\r\n          if (res.code === 0) {\r\n            return this.dispenserService.eject();\r\n          } else {\r\n            return throwError({ code: res.code, message: res.message });\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.code === 0) {\r\n            // this.onVerify({ isDone: true });\r\n            this.hubWalkin.isDoneFlow = true;\r\n          } else {\r\n            this.hubService.error(res.message);\r\n            // this.onVerify({ isDone: false });\r\n            this.hubWalkin.isDoneFlow = false;\r\n          }\r\n        },\r\n        ({ code, message }) => {\r\n          if (!environment.production) {\r\n            this.changeToNextStep();\r\n            return;\r\n          }\r\n          this.hubService.error(message);\r\n          // this.onVerify({ isDone: false });\r\n          this.hubWalkin.isDoneFlow = false;\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n  /**\r\n   *\r\n   * Ghi thẻ\r\n   */\r\n  writeCard() {\r\n    const lockArrDate = moment(this.guestData['arrivalDate']).format(\r\n      'yyyy-MM-DD'\r\n    );\r\n    const lockDeptDate = moment(this.guestData['departDate']).format(\r\n      'yyyy-MM-DD'\r\n    );\r\n\r\n    const lockArrTime = moment(this.guestData['arrivalTime'], 'HH:mm').format(\r\n      'HH:mm:ss'\r\n    );\r\n    const lockDeptTime = moment(this.guestData['departTime'], 'HH:mm').format(\r\n      'HH:mm:ss'\r\n    );\r\n\r\n    const body: LockCardModel = {\r\n      room: this.guestData['roomCode'],\r\n      building: this.guestData['buildingCode'],\r\n      arrival: `${lockArrDate} ${lockArrTime}`,\r\n      departure: `${lockDeptDate} ${lockDeptTime}`,\r\n    };\r\n\r\n    return this.lockCardService.writeCard(body);\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex flex-column justify-content-between pb-3 h-100 wrapper\">\r\n  <div class=\"d-flex flex-column\" style=\"flex-grow: 1;\">\r\n    <p class=\"text-grey-dark tex-center my-3\">\r\n      {{ 'scanIdCard.successText' | translate }}\r\n    </p>\r\n    <div class=\"input-group input-info my-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin \">{{ 'scanIdCard.guestName' | translate }}</span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.guestName\" />\r\n    </div>\r\n    <div class=\"input-group input-info my-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin\" id=\"\">{{ 'scanIdCard.address' | translate }}</span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.address\" />\r\n    </div>\r\n    <div class=\"input-group input-info my-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin\" id=\"\">{{ 'scanIdCard.birth' | translate }}</span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.birth\" />\r\n    </div>\r\n    <div class=\"input-group input-info my-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin\" id=\"\">{{ 'scanIdCard.sex' | translate }}</span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.sex\" />\r\n    </div>\r\n    <div class=\"input-group input-info my-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin\" id=\"\">{{ 'scanIdCard.nationalityCode' | translate }}</span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.nationalityCode\" />\r\n    </div>\r\n    <div class=\"input-group input-info my-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin\" id=\"\">{{ 'scanIdCard.expiry' | translate }}</span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.expiry\" />\r\n    </div>\r\n    <div class=\"input-group input-info mt-3\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text font-weight-thin\" id=\"\">\r\n          {{ 'scanIdCard.passportNumber' | translate }}\r\n        </span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control bg-white font-weight-thin\" [(ngModel)]=\"guestData.passportNumber\" />\r\n    </div>\r\n  </div>\r\n  <div class=\"d-flex flex-row justify-content-around w-100 btn-fadein\">\r\n    <app-button class=\"w-50\" className=\"text-uppercase text-primary border-primary w-100\" (click)=\"useOtherCard()\">\r\n      {{ 'scanIdCard.btnUseOther' | translate }}\r\n    </app-button>\r\n    <app-button class=\"w-45\" className=\"text-uppercase btn-primary w-100\" (click)=\"changeToNextStep()\">\r\n      {{ 'scanIdCard.next' | translate }}\r\n    </app-button>\r\n  </div>\r\n</div>","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { Router } from '@angular/router';\r\nimport { faCheckCircle } from '@fortawesome/free-regular-svg-icons';\r\nimport { faExclamation } from '@fortawesome/free-solid-svg-icons';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\n\r\n@Component({\r\n  selector: 'app-booking-done',\r\n  templateUrl: './booking-done.component.html',\r\n  styleUrls: ['./booking-done.component.scss'],\r\n})\r\nexport class BookingDoneComponent implements OnDestroy, OnInit {\r\n  // @Input() isDone = true;\r\n  // @Input() errorMessage = '';\r\n  @Output() reset: EventEmitter<any> = new EventEmitter();\r\n\r\n  private hubSubcription;\r\n  public faCheckCircle = faCheckCircle;\r\n  public faExclamation = faExclamation;\r\n\r\n  public isDone = true;\r\n  public errorMessage = '';\r\n\r\n  constructor(private hubService: HubService, private router: Router, public hubWalkin: HubWalkinService) {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.bookingDone) {\r\n        return;\r\n      }\r\n      this.router.navigateByUrl('/options');\r\n    });\r\n  }\r\n  ngOnInit(): void {\r\n    this.isDone = this.hubWalkin.isDoneFlow;\r\n    this.errorMessage = this.hubWalkin.errorMessageCreateBooking;\r\n    this.hubWalkin.setStep(4);\r\n  }\r\n\r\n  finish() {\r\n    this.router.navigateByUrl('/options');\r\n  }\r\n\r\n  resetStepper() {\r\n    // this.reset.emit();\r\n    this.router.navigate([`/${PAGES.walkin}/${STEPS.step1}`]);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n}\r\n","<div *ngIf=\"isDone\" class=\"success-screen d-flex flex-column wrapper justify-content-center\">\r\n  <h5 class=\"font-weight-bold text-secondary text-center text-uppercase mt-3\">\r\n    {{ 'bookingDone.suucessText' | translate }}\r\n  </h5>\r\n  <p class=\"font-weight-500 text-center my-4\">\r\n    {{ 'bookingDone.serviceText' | translate }}\r\n    <br />\r\n    {{ 'bookingDone.thankText' | translate }}\r\n  </p>\r\n  <fa-icon [icon]=\"faCheckCircle\" class=\"success-icon text-secondary text-center mt-5\"></fa-icon>\r\n  <!-- <i class=\"far fa-check-circle success-icon text-secondary mt-5\"></i> -->\r\n</div>\r\n<div *ngIf=\"!isDone\" class=\"d-flex flex-column justify-content-between success-screen pb-3 h-100 wrapper\">\r\n  <div class=\"d-flex flex-column\">\r\n    <h5 class=\"font-weight-bold text-primary text-center text-uppercase mt-3\">\r\n      {{ 'bookingError.primaryText' | translate }}\r\n    </h5>\r\n    <p class=\"font-weight-500 text-center my-4\">\r\n      {{ 'bookingError.text.1' | translate }}\r\n      <br />\r\n      {{ 'bookingError.text.2' | translate }}\r\n      <br />\r\n      {{ 'bookingError.thankText' | translate }}\r\n      <br />\r\n      {{ errorMessage }}\r\n    </p>\r\n    <fa-icon [icon]=\"faExclamation\" class=\"success-icon text-primary text-center mt-5\"></fa-icon>\r\n  </div>\r\n  <div class=\"d-flex flex-row justify-content-center w-100\">\r\n    <app-button class=\"w-80\" className=\"text-uppercase btn-primary w-100\" (click)=\"resetStepper()\">\r\n      Thử lại\r\n    </app-button>\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AppCardModule } from './app-card/app-card/app-card.module';\nimport { ModalErrorModule } from './modal-error/modal-error.module';\nimport { TransModule } from '../trans/trans.module';\nimport { ButtonComponent } from './button/button.component';\n\n\n@NgModule({\n  declarations: [\n    ButtonComponent\n  ],\n  imports: [\n    CommonModule,\n    AppCardModule,\n    ModalErrorModule,\n    TransModule\n  ],\n  exports: [\n    AppCardModule,\n    ModalErrorModule,\n    ButtonComponent,\n  ]\n})\nexport class SharedComponentsModule { }\n","import { AfterContentChecked, ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss']\n})\nexport class ButtonComponent implements OnInit, AfterContentChecked {\n\n  @Input() className: string;\n  @Input() style: string;\n  @Output() click = new EventEmitter<any>();\n\n  constructor(private cdr: ChangeDetectorRef) { }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterContentChecked(): void {\n    this.cdr.detectChanges();\n  }\n\n  buttonClick(event: MouseEvent) {\n    event.stopPropagation();\n    this.click.emit(event);\n  }\n\n}\n","<button class=\"btn btn-app font-weight-thin text-white {{className}}\" (click)=\"buttonClick($event)\">\n  <ng-content></ng-content>\n</button>","import { Component, Input, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-room-type-info',\n  templateUrl: './room-type-info.component.html',\n  styleUrls: ['./room-type-info.component.scss']\n})\nexport class RoomTypeInfoComponent implements OnInit {\n\n  @Input() roomType:any;\n\n  constructor(public activeModal: NgbActiveModal) { }\n\n  ngOnInit() {\n\n  }\n\n  roomTypeImage() {\n    const file = this.roomType.roomTypeCode.toUpperCase();\n    return `assets/images/${file}.jpg`;\n  }\n\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title text-primary\" id=\"modal-basic-title\">\n\t\t{{roomType?.roomTypeName}}\n\t</h4>\n</div>\n<div class=\"modal-body\">\n\t<div class=\"card\">\n\t\t<img class=\"card-img-top\" [src]=\"roomTypeImage()\" />\n\t</div>\n</div>\n<div class=\"modal-footer d-flex flex-row justify-content-center\">\n\t<app-button className=\"text-primary border-primary bg-white w-100 text-uppercase font-weight-bold\" class=\"w-80\"\n\t\t(click)=\"activeModal.close()\">\n\t\tĐóng\n\t</app-button>\n</div>\n","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport * as moment from 'moment';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { LockCardService } from 'src/app/shared/services/lock-card/lock-card.service';\r\nimport { LockCardModel } from 'src/app/shared/models/lock-card.model';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\nimport { DispenserService } from 'src/app/shared/services/dispenser/dispenser.service';\r\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-booking-create',\r\n  templateUrl: './booking-create.component.html',\r\n  styleUrls: ['./booking-create.component.scss'],\r\n})\r\nexport class BookingCreateComponent implements OnInit, OnDestroy {\r\n  // @Input() bookingData: any;\r\n  // @Input() totalRateData: any;\r\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\r\n  @Output() backStep: EventEmitter<any> = new EventEmitter();\r\n\r\n  public isLoading = {\r\n    create: false,\r\n  };\r\n  public totalRateData: any = {};\r\n  public bookingData: any = {};\r\n\r\n  private hubSubcription;\r\n\r\n  constructor(\r\n    private bookingService: BookingService,\r\n    private hubService: HubService,\r\n    private lockCardService: LockCardService,\r\n    private dispenserService: DispenserService,\r\n    private hubWalkin: HubWalkinService,\r\n    public utilService: UtilityService,\r\n    private translateService: TranslateService,\r\n    private router: Router\r\n  ) {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.bookingCreate) {\r\n        return;\r\n      }\r\n      if (res.message === ACTIONS.nextStep) {\r\n        this.createBooking();\r\n      } else if (res.message === ACTIONS.backStep) {\r\n        this.changeToPreviousStep();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.hubWalkin.setStep(3);\r\n    this.bookingData = { ...this.hubWalkin.bookingData };\r\n    this.hubService.setLoading(true);\r\n    this.bookingService\r\n      .getTotalRate({\r\n        ArrivalDate: this.bookingData.arrivalDate,\r\n        DepartDate: this.bookingData.departDate,\r\n        ArrivalTime: this.bookingData.arrivalTime,\r\n        DepartTime: this.bookingData.departTime,\r\n        RoomBocked: this.bookingData.roomCode,\r\n        RoomType: this.bookingData.roomTypeCode,\r\n        NoOfAdults: this.bookingData.adult,\r\n        NoOfChild: this.bookingData.child,\r\n      })\r\n      .subscribe(\r\n        (res: ResponseBody) => {\r\n          if (res.metadata && res.metadata[0]) {\r\n            this.totalRateData = res.metadata[0];\r\n          } else {\r\n            this.hubService.error(\r\n              this.translateService.instant('msg.errorGetTotalRate')\r\n            );\r\n          }\r\n        },\r\n        (err) => {\r\n          this.hubService.error(\r\n            this.translateService.instant('msg.errorGetTotalRate')\r\n          );\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.changeToBookingDetails();\r\n  }\r\n\r\n  changeToBookingDetails(): void {\r\n    this.nextStep.emit({ isDone: true });\r\n  }\r\n\r\n  changeToPreviousStep(): void {\r\n    this.backStep.emit();\r\n  }\r\n\r\n  createBooking() {\r\n    console.log('BOOKING-CREATE: ', this.bookingData);\r\n    this.hubService.setLoading(true);\r\n    if (!environment.production) {\r\n      this.bookingService\r\n        .createBooking(this.bookingData)\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (res.code === 0) {\r\n              this.hubWalkin.isDoneFlow = true;\r\n              this.nextStep.emit({ isDone: true });\r\n              this.router.navigate([`/${PAGES.walkin}/${STEPS.step4}`]);\r\n            } else {\r\n              // this.nextStep.emit({ isDone: false, msg: res.message });\r\n              this.hubWalkin.errorMessageCreateBooking = res.message;\r\n              this.hubWalkin.isDoneFlow = false;\r\n              this.router.navigate([`/${PAGES.walkin}/${STEPS.step4}`]);\r\n              // this.hubService.error(res.message);\r\n            }\r\n          },\r\n          ({ code, message }) => {\r\n            // this.nextStep.emit({ isDone: false, msg: message });\r\n            this.hubWalkin.errorMessageCreateBooking = message;\r\n            this.hubWalkin.isDoneFlow = false;\r\n            this.router.navigate([`/${PAGES.walkin}/${STEPS.step4}`]);\r\n            // this.hubService.error(message);\r\n          }\r\n        )\r\n        .add(() => {\r\n          this.hubService.setLoading(false);\r\n        });\r\n      return;\r\n    }\r\n    this.bookingService\r\n      .createBooking(this.bookingData)\r\n      .pipe(\r\n        mergeMap((res: ResponseBody) => {\r\n          if (res.statusCode === 200 && res.metadata) {\r\n            return this.dispenserService.moveToRfPos();\r\n          } else {\r\n            return throwError({ code: res.statusCode, message: res.message });\r\n          }\r\n        }),\r\n        mergeMap((res: any) => {\r\n          if (res.code === 0) {\r\n            return this.writeCard();\r\n          } else {\r\n            return throwError({ code: res.code, message: res.message });\r\n          }\r\n        }),\r\n        mergeMap((res: any) => {\r\n          if (res.code === 0) {\r\n            return this.dispenserService.eject();\r\n          } else {\r\n            return throwError({ code: res.code, message: res.message });\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.code === 0) {\r\n            this.hubWalkin.isDoneFlow = true;\r\n            this.nextStep.emit({ isDone: true });\r\n            this.router.navigate([`/${PAGES.walkin}/${STEPS.step4}`]);\r\n          } else {\r\n            // this.nextStep.emit({ isDone: false, msg: res.message });\r\n            this.hubWalkin.errorMessageCreateBooking = res.message;\r\n            this.hubWalkin.isDoneFlow = false;\r\n            this.router.navigate([`/${PAGES.walkin}/${STEPS.step4}`]);\r\n            // this.hubService.error(res.message);\r\n          }\r\n        },\r\n        ({ code, message }) => {\r\n          // this.nextStep.emit({ isDone: false, msg: message });\r\n          this.hubWalkin.errorMessageCreateBooking = message;\r\n          this.hubWalkin.isDoneFlow = false;\r\n          this.router.navigate([`/${PAGES.walkin}/${STEPS.step4}`]);\r\n          // this.hubService.error(message);\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  writeCard() {\r\n    const lockArrDate = moment(this.bookingData.arrivalDate).format(\r\n      'yyyy-MM-DD'\r\n    );\r\n    const lockDeptDate = moment(this.bookingData.departDate).format(\r\n      'yyyy-MM-DD'\r\n    );\r\n\r\n    const lockArrTime = moment(this.bookingData.arrivalTime, 'HH:mm').format(\r\n      'HH:mm:ss'\r\n    );\r\n    const lockDeptTime = moment(this.bookingData.departTime, 'HH:mm').format(\r\n      'HH:mm:ss'\r\n    );\r\n\r\n    const body: LockCardModel = {\r\n      room: this.bookingData.roomCode,\r\n      building: this.bookingData.buildingCode,\r\n      arrival: `${lockArrDate} ${lockArrTime}`,\r\n      departure: `${lockDeptDate} ${lockDeptTime}`,\r\n    };\r\n\r\n    return this.lockCardService.writeCard(body);\r\n  }\r\n\r\n  /**\r\n   * DISPLAY\r\n   */\r\n  displayArrival(): string {\r\n    return moment(this.bookingData.arrivalDate).format('DD/MM/yyyy') || '';\r\n  }\r\n\r\n  displayDepart(): string {\r\n    return moment(this.bookingData.departDate).format('DD/MM/yyyy') || '';\r\n  }\r\n\r\n  displayNumNight(): string {\r\n    if (this.bookingData.arrivalDate === this.bookingData.departDate) {\r\n      return `1`;\r\n    }\r\n    const start = moment(this.bookingData.arrivalDate);\r\n    const end = moment(this.bookingData.departDate);\r\n    return `${end.diff(start, 'd')}`;\r\n  }\r\n\r\n  displayTotal() {\r\n    const total =\r\n      this.totalRateData.rate +\r\n      this.totalRateData.tax1 +\r\n      this.totalRateData.tax2;\r\n    return total || 0;\r\n  }\r\n}\r\n","\r\n<div class=\"d-flex flex-column wrapper h-100\">\r\n  <!-- THÔNG TIN ĐẶT PHÒNG -->\r\n  <div class=\"flex-grow-1\">\r\n    <h5 class=\"text-grey-dark my-3\">\r\n      {{ 'bookingCreate.bookingInformation' | translate }}\r\n    </h5>\r\n    <div class=\"card card-box-shadow my-3\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n            <span>{{ 'bookingCreate.fullName' | translate }}</span>\r\n          </div>\r\n          <div class=\"col-9\">\r\n            <span class=\"text-primary text-uppercase font-weight-500\">{{ bookingData.guestName }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n            <span st>{{ 'bookingCreate.from' | translate }}</span>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <span class=\"text-primary font-weight-500\">{{\r\n              displayArrival()\r\n              }}</span>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <span>{{ 'bookingCreate.to' | translate }}</span>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <span class=\"text-primary font-weight-500\">{{\r\n              displayDepart()\r\n              }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mt-2\">\r\n          <div class=\"col-3\">\r\n            <span>{{ 'bookingCreate.numNight' | translate }}</span>\r\n          </div>\r\n          <div class=\"col\">\r\n            <span class=\"text-primary font-weight-500\">{{ displayNumNight()\r\n              }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <div class=\"row\">\r\n          <div class=\"col-3\">\r\n            <span>{{ 'bookingCreate.room' | translate }}</span>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <span class=\"text-primary font-weight-500\">({{ bookingData.roomTypeCode }})</span>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <span>{{ 'bookingCreate.building' | translate }}</span>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <span class=\"text-primary font-weight-500\">{{\r\n              bookingData.buildingName }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- THÔNG TIN THANH TOÁN -->\r\n    <h5 class=\"text-grey-dark my-3\">\r\n      {{ 'bookingCreate.payment' | translate }}\r\n    </h5>\r\n    <div class=\"card card-box-shadow my-3\">\r\n      <div class=\"card-body\">\r\n        <div class=\"d-flex flex-row justify-content-between\">\r\n          <div>\r\n            <p>{{ 'bookingCreate.roomRate' | translate }}</p>\r\n          </div>\r\n          <div>\r\n            <p class=\"ks-text-align-right  text-primary font-weight-500\">{{ utilService.formatMoney(totalRateData?.rate) }} VND</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-flex flex-row justify-content-between\">\r\n          <div>\r\n            <p>{{ 'bookingCreate.taxRate' | translate }}</p>\r\n          </div>\r\n          <div>\r\n            <p class=\"ks-text-align-right  text-primary font-weight-500\">{{ utilService.formatMoney(totalRateData?.tax1) }} VND</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-flex flex-row justify-content-between\">\r\n          <div>\r\n            <p>{{ 'bookingCreate.serviceCharge' | translate }}</p>\r\n          </div>\r\n          <div>\r\n            <p class=\"ks-text-align-right  text-primary font-weight-500\">{{ utilService.formatMoney(totalRateData?.tax2) }} VND</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"dropdown-divider\"></div>\r\n        <div class=\"d-flex flex-row justify-content-between\">\r\n          <div>\r\n            <span>{{ 'bookingCreate.totalRate' | translate }}</span>\r\n          </div>\r\n          <div>\r\n            <span class=\"ks-text-align-right  text-primary font-weight-500\">{{ utilService.formatMoney(displayTotal()) }} VND</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"wrapper w-100 d-flex flex-row justify-content-center mb-3\">\r\n    <app-button className=\"btn-primary w-100 text-uppercase\" class=\"w-80\" (click)=\"createBooking()\">\r\n      {{ 'flowDetect.btnContinue' | translate }}\r\n    </app-button>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { CheckinModule } from './modules/checkin/checkin.module';\r\nimport { NavigationBarModule } from './modules/navigation-bar/navigation-bar.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { HttpClientModule, HttpClient, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { HttpInterceptorService } from './config/httpInterceptor/http-interceptor.service';\r\nimport { APP_INITIALIZER } from '@angular/core';\r\nimport { ConfigureService } from './config/configure/configure.service';\r\nimport { WalkinComponent } from './layout/walkin/walkin.component';\r\nimport { CheckinBoookingCodeComponent } from './layout/checkin-boooking-code/checkin-boooking-code.component';\r\nimport { CheckinQrComponent } from './layout/checkin-qr/checkin-qr.component';\r\n\r\n\r\nexport const configFactory = (configService: ConfigureService) => {\r\n  return (): Promise<any> => { \r\n    return configService.loadConfig();\r\n  }\r\n};\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, WalkinComponent, CheckinBoookingCodeComponent, CheckinQrComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    FlexLayoutModule,\r\n    NavigationBarModule,\r\n    CheckinModule,\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n    NgbModule,\r\n    FontAwesomeModule,\r\n    BrowserAnimationsModule,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: HttpInterceptorService,\r\n      multi: true,\r\n    },\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: configFactory,\r\n      deps: [ConfigureService],\r\n      multi: true,\r\n    },\r\n    // {\r\n    //   provide: LocationStrategy,\r\n    //   useClass: HashLocationStrategy,\r\n    // }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n\r\nexport function HttpLoaderFactory(http: HttpClient): TranslateHttpLoader {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n","export const ACTIONS = {\r\n  nextStep: 'nextStep',\r\n  backStep: 'backStep',\r\n  cardImage: 'cardImage',\r\n  cardContent: 'cardContent',\r\n  loading: 'loading',\r\n  closeCamera: 'closeCamera',\r\n  openScanModal: 'openScanModal',\r\n  showErrorModal: 'showErrorModal',\r\n  focusQrInput: 'focusQrInput',\r\n  goBack: 'goBack',\r\n}","import { Injectable } from '@angular/core';\r\nimport { HubService } from '../hub/hub.service';\r\n\r\nimport { ACTIONS } from '../../constant/event';\r\n\r\nimport { HubModel } from '../../models/hub.models';\r\nimport { PAGES } from '../../constant/pages';\r\n\r\n\r\nlet websocket = null;\r\nlet timerId = null;\r\nlet bigImageEmpty = true;\r\nlet bCardDetectedNotification = false; /* 检测到证件放入或拿出时,是否会发送通知; 当启用回调模式时, 此变量也会设置为true */\r\nlet bConnected = false;\r\nlet strTitle = '';\r\nlet strConnect = \"建立连接\";\r\nlet strDisconnect = \"断开连接\";\r\nlet strDeviceStatus = \"设备状态\";\r\nlet strDeviceConnected = \"设备已连接\";\r\nlet strDeviceName = \"设备名称\"\r\nlet strDeviceSerialno = \"设备序列号\";\r\nlet strDevNotConnect = \"设备未连接\";\r\nlet strDescOfWebsocketError = \"websocket连接出错,请确认WebSocket服务正常运行，并重新建立连接\";\r\nlet strDescFailSetRFID = \"设置是否读取芯片信息出错\";\r\nlet strDescFailSetVIZ = \"设置是否识别版面信息出错\";\r\nlet strPlaceHolderCardTextInfo = \"此处显示从证件读取的文本信息\";\r\nlet strDescFailSendWebsocket = \"向后台服务发送指令出错\";\r\nlet strDeviceOffLine = \"设备掉线\";\r\nlet strDeviceReconnected = \"设备已重新连接\";\r\nlet strWebDescDeviceNotFound = \"WebSocket已连接, 未检测到设备\";\r\nlet strWebDescRequireRestartSvc = \"WebSocket服务需要重新启动\";\r\nlet strWebDescAskForSupport = \"WebSocket服务遇到问题, 请联系管理员\";\r\nlet strWebDescRequireReconnect = \"WebSocket服务要求web端重新建立连接\";\r\nlet connectionValue = \"\";\r\nlet host = \"ws://127.0.0.1:90/echo\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class PassportReaderService {\r\n  \r\n  constructor(private hub: HubService) { }\r\n\r\n  setConnectionValue(value) {\r\n    connectionValue = value;\r\n  }\r\n\r\n  getStrConnect() {\r\n    return strConnect;\r\n  }\r\n\r\n  setConnBtnValue() {\r\n    if (bConnected) {\r\n      console.log(strDisconnect);\r\n      connectionValue = strDisconnect;\r\n      // document.getElementById(\"connection\").value = strDisconnect;\r\n    } else {\r\n      console.log(strConnect);\r\n      connectionValue = strConnect\r\n      // document.getElementById(\"connection\").value = strConnect;\r\n    }\r\n  }\r\n  \r\n  /* 建立WebSocket连接并初始化websocket属性 */\r\n  connect() {\r\n    try {\r\n      if (websocket != null) {\r\n        websocket.close();\r\n      }\r\n      \r\n      websocket = new WebSocket(host);\r\n      \r\n      /* 成功建立websocket连接 */\r\n      websocket.onopen = () => {\r\n        bConnected = true;\r\n        this.setConnBtnValue();\r\n        this.getWebConstants();\r\n        \r\n        this.setDefaultSettings();\r\n        timerId = setInterval(() => {\r\n          this.getDeviceStatus()\r\n        }, 1000);\r\n      }\r\n      \r\n      /* 响应后台服务的应答报文或通知报文 */\r\n      websocket.onmessage = (event) => {\r\n        var retmsg = event.data;\r\n        var jsonMsg;\r\n        try {\r\n          jsonMsg = JSON.parse(retmsg);\r\n          if (this.processOnDisconnect(jsonMsg)) {\r\n            return;\r\n          }\r\n          if (jsonMsg.Type === 'Reply') {\r\n            if (jsonMsg.hasOwnProperty('Commands')) {\r\n              for (var index in jsonMsg.Commands) {\r\n                this.processReply(jsonMsg.Commands[index]);\r\n              }\r\n            } else {\r\n              this.processReply(jsonMsg);\r\n            }\r\n          } else if (jsonMsg.Type == 'Notify') {\r\n            this.processNotify(jsonMsg);\r\n          }\r\n          return;\r\n        } catch (exception) {\r\n          console.log('ERROR: ', \"Parse error: \" + event.data);\r\n        }\r\n      }\r\n      \r\n      /* 主动或被动关闭websocket连接时触发，清空页面信息 */\r\n      websocket.onclose = () => {\r\n        bConnected = false;\r\n        this.setConnBtnValue();\r\n        // document.getElementById('connection').value = strConnect; // \"建立连接\";\r\n        this.clrDeviceStatus();\r\n        this.clrTextInfo();\r\n        this.clrImages(true);\r\n        // websocket = null;\r\n        \r\n        if (websocket !== null) {\r\n          if (websocket.readyState == 3) {\r\n            console.log('deviceStatus', strDescOfWebsocketError);\r\n          }\r\n          \r\n          // this.disConnect();\r\n        }\r\n      }\r\n      \r\n      /* websocket出错事件，清空页面信息并报警 */\r\n      websocket.onerror = evt => {\r\n        bConnected = false;\r\n        this.setConnBtnValue();\r\n        this.clrDeviceStatus();\r\n        this.clrTextInfo();\r\n        this.clrImages(true);\r\n      }\r\n      \r\n    } catch (exception) {\r\n      console.log('ERROR: ', \"Excetion: \" + exception);\r\n    }\r\n  }\r\n  \r\n  /* 页面点击建立连接按钮时触发此函数 */\r\n  onConnection() {\r\n    if (connectionValue == strConnect /*'建立连接'*/) {\r\n      if (websocket !== null) {\r\n        websocket.close();\r\n        websocket = null;\r\n      }\r\n      \r\n      this.connect();\r\n    } else {\r\n      if (websocket !== null) {\r\n        websocket.close();\r\n        websocket = null;\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* 页面点击断开连接按钮是触发此函数 */\r\n  disConnect() {\r\n    if (websocket != null) {\r\n      try {\r\n        websocket.close();\r\n        websocket = null; \r\n      } catch (error) {\r\n        console.error('disconnect', error);\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* 页面向后台发送指令，后台返回应答 */\r\n  processReply(msgReply) {\r\n    if (msgReply.Command == 'Get') {\r\n      if (msgReply.Succeeded == 'Y') { /* Get指令成功执行，从应答报文中解析出对应的结果 */\r\n        if (msgReply.Operand == 'DeviceName') { /* 应答报文中的设备名称 */\r\n          console.log('deviceName: ', msgReply.Result);\r\n        } else if (msgReply.Operand == 'DeviceSerialNo') { /* 应答报文中的设备序列号 */\r\n          console.log('deviceSerial: ', msgReply.Result);\r\n        } else if (msgReply.Operand == 'OnLineStatus') { /* 应答报文中的设备在线状态 */\r\n          console.log('deviceStatus: ', msgReply.Result);\r\n          if (msgReply.Result == strDeviceConnected) {\r\n          }\r\n        }else if(msgReply.Operand=='VersionInfo'){\r\n          document.title = strTitle + \"V\" + msgReply.Result;\r\n          console.log('VersionInfo', msgReply.Result);\r\n        }else if (msgReply.Operand == 'WebConstant') {\r\n          if (msgReply.Param == 'CardRecogSystem') {\r\n            strTitle = msgReply.Result;\r\n          } else if (msgReply.Param == 'Connect') {\r\n            strConnect = msgReply.Result;\r\n            this.setConnBtnValue();\r\n            console.log(msgReply.Result);\r\n            connectionValue = msgReply.Result\r\n          } else if (msgReply.Param == 'Disconnect') {\r\n            strDisconnect = msgReply.Result;\r\n            this.setConnBtnValue();\r\n            console.log(msgReply.Result);\r\n            connectionValue = msgReply.Result;\r\n          } else if (msgReply.Param == 'Save') {\r\n            // document.getElementById(\"btnSaveSettings\").value = msgReply.Result;\r\n          } else if (msgReply.Param == 'IDCANCEL') {\r\n            // document.getElementById(\"btnCancelSave\").value = msgReply.Result;\r\n          } else if (msgReply.Param == 'DeviceStatus') {\r\n            strDeviceStatus = msgReply.Result;\r\n          } else if (msgReply.Param == 'DeviceName') {\r\n            strDeviceName = msgReply.Result;\r\n            console.log('deviceNameKey: ', strDeviceName + \":\");\r\n            // document.getElementById('deviceNameKey').innerHTML = strDeviceName + \":\";\r\n          } else if (msgReply.Param == 'DeviceSerialno') {\r\n            strDeviceSerialno = msgReply.Result;\r\n            console.log('deviceSerialKey: ', strDeviceSerialno + \":\");\r\n            // document.getElementById('deviceSerialKey').innerHTML = strDeviceSerialno + \":\";\r\n          } else if (msgReply.Param == 'DeviceNotConnected') {\r\n            strDevNotConnect = msgReply.Result;\r\n          } else if (msgReply.Param == 'DescOfWebsocketError') {\r\n            strDescOfWebsocketError = msgReply.Result;\r\n          } else if (msgReply.Param == 'DescFailSetRFID') {\r\n            strDescFailSetRFID = msgReply.Result;\r\n          } else if (msgReply.Param == 'DescFailSetVIZ') {\r\n            strDescFailSetVIZ = msgReply.Resultl;\r\n          } else if (msgReply.Param == 'PlaceHolderCardTextInfo') {\r\n            // strPlaceHolderCardTextInfo = msgReply.Result;\r\n            // document.getElementById(\"msg\").setAttribute(\"placeholder\", strPlaceHolderCardTextInfo);\r\n          } else if (msgReply.Param == 'DescFailSendWebsocket') {\r\n            strDescFailSendWebsocket = msgReply.Result;\r\n          } else if (msgReply.Param == 'DeviceOffLine') {\r\n            strDeviceOffLine = msgReply.Result;\r\n          } else if (msgReply.Param == 'DeviceReconnected') {\r\n            strDeviceReconnected = msgReply.Result;\r\n          } else if (msgReply.Param == 'WebDescDeviceNotFound') {\r\n            strWebDescDeviceNotFound = msgReply.Result;\r\n          } else if (msgReply.Param == 'WebDescRequireRestartSvc') {\r\n            strWebDescRequireRestartSvc = msgReply.Result;\r\n          } else if (msgReply.Param == 'WebDescAskForSupport') {\r\n            strWebDescAskForSupport = msgReply.Result;\r\n          } else if (msgReply.Param == 'WebDescRequireReconnect') {\r\n            strWebDescRequireReconnect = msgReply.Result;\r\n          } else if (msgReply.Param == 'DeviceConnected') {\r\n            strDeviceConnected = msgReply.Result;\r\n          }\r\n        }\r\n      }\r\n    } else if (msgReply.Command == 'Set') {\r\n      if (msgReply.Succeeded == 'N') { /* Set指令未生效 */\r\n        if (msgReply.Operand == 'RFID') {\r\n          // document.getElementById(\"msg\").innerHTML = strDescFailSetRFID;\r\n          console.log('strDescFailSetRFID: ', strDescFailSetRFID);\r\n        } else if (msgReply.Operand == 'VIZ') {\r\n          console.log('strDescFailSetVIZ: ', strDescFailSetVIZ);\r\n          //document.getElementById(\"msg\").innerHTML = strDescFailSetVIZ;\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n  \r\n  /* 后台服务主动向web端发送消息，包括读卡信息、证件图像以及异常状态通知等 */\r\n  processNotify(msgNotify) {\r\n    if (msgNotify.Command == 'Display') {\r\n      if (msgNotify.Param == strDeviceOffLine) {\r\n         this.clrDeviceStatus();\r\n        console.log('deviceStatus: ', strWebDescDeviceNotFound);\r\n      } else if (msgNotify.Param == strDeviceReconnected) {\r\n         this.getDeviceStatus();\r\n      }\r\n    } else if (msgNotify.Command == 'Reconnect') {\r\n      this.clrDeviceStatus();\r\n      console.log('deviceStatus: ', strWebDescRequireReconnect);\r\n      this.disConnect();\r\n      this.connect();\r\n    } else if (msgNotify.Command == 'AskSupport') {\r\n      this.clrDeviceStatus();\r\n      console.log('deviceStatus', strWebDescAskForSupport);\r\n    } else if (msgNotify.Command == 'RestartService') {\r\n      /* disConnect(); */\r\n      console.log('deviceStatus', strWebDescRequireRestartSvc);\r\n    } else if (msgNotify.Command == 'Save') {\r\n      if (msgNotify.Operand == 'CardContentText') {\r\n        this.processCardContent(msgNotify.Param);\r\n      } else if (msgNotify.Operand == 'Images') {\r\n        this.processCardImage(msgNotify.Param.White);\r\n      }\r\n    } else if (msgNotify.Command == 'CardDetected') {\r\n    }\r\n  }\r\n\r\n  processCardContent(content: any) {\r\n    const event: HubModel = {\r\n      receiver: PAGES.flowDetect,\r\n      message: ACTIONS.cardContent,\r\n      data: content,\r\n    };\r\n    this.hub.sendEvent(event);\r\n  }\r\n\r\n  processCardImage(image: string) {\r\n    const event: HubModel = {\r\n      receiver: PAGES.flowDetect,\r\n      message: ACTIONS.cardImage,\r\n      data: image,\r\n    };\r\n    this.hub.sendEvent(event);\r\n  }\r\n\r\n  processOnDisconnect(msgReply: any) {\r\n    if (msgReply.Type === 'Reply') {\r\n      const onlineStatus = msgReply.Commands.find(o => o.Operand === 'OnLineStatus');\r\n      if (onlineStatus && onlineStatus.Succeeded === 'N') {\r\n        this.clrDeviceStatus();\r\n        this.disConnect();\r\n        this.connect();\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  \r\n  /* 如果存在名为 imageName的图像，则展示到页面对应的位置 */\r\n  tryDisplayImage(images, imageName, domId) {\r\n    if (images.hasOwnProperty(imageName)) {\r\n      // document.getElementById(domId).src = images[imageName];\r\n      \r\n      if (bigImageEmpty) {\r\n        // document.getElementById(\"imageDisplay\").src = images[imageName];\r\n        bigImageEmpty = false;\r\n      }\r\n    }\r\n  }\r\n  \r\n  /* 检查由后台发送的图像数据中包含哪些图像，并展示到页面 */\r\n  displayImages(images) {\r\n    this.tryDisplayImage(images, \"White\", \"imageWhite\");\r\n    this.tryDisplayImage(images, \"IR\", \"imageIR\");\r\n    this.tryDisplayImage(images, \"UV\", \"imageUV\");\r\n    this.tryDisplayImage(images, \"OcrHead\", \"imageOcrHead\");\r\n    this.tryDisplayImage(images, \"ChipHead\", \"imageChipHead\");\r\n    this.tryDisplayImage(images, \"SidHead\", \"imageChipHead\");\r\n  }\r\n  \r\n  clrTextInfo() {\r\n    // document.getElementById(\"divTextArea\").innerHTML = \"\";\r\n  }\r\n  \r\n  /* 清空页面上的图像信息 */\r\n  clrImages(bForce) {\r\n    if (bForce || !bCardDetectedNotification) {\r\n      // document.getElementById(\"imageWhite\").src = \"png/Home_pic_bgicon.png\";\r\n      // document.getElementById(\"imageIR\").src = \"png/Home_pic_bgicon.png\";\r\n      // document.getElementById(\"imageUV\").src = \"png/Home_pic_bgicon.png\";\r\n      // document.getElementById(\"imageOcrHead\").src = \"png/Home_pic_bgicon.png\";\r\n      // document.getElementById(\"imageChipHead\").src = \"png/Home_pic_bgicon.png\";\r\n      // document.getElementById(\"imageDisplay\").src = \"png/Home_pic_kong.png\";\r\n      bigImageEmpty = true;\r\n    }\r\n  }\r\n  \r\n  /* 将发送数据的操作做了封装 */\r\n  sendJson(jsonData) {\r\n    try {\r\n      if (websocket !== null) {\r\n        websocket.send(JSON.stringify(jsonData));\r\n      }\r\n    } catch (exception) {\r\n      //document.getElementById(\"msg\").innerHTML = strDescFailSendWebsocket;\r\n    }\r\n  }\r\n  \r\n  /* 获取设备状态、核心版本，一次性发送4条指令 */\r\n  getDeviceStatus() {\r\n    var request = {\r\n      Type: \"Request\",\r\n      Commands: [\r\n        {Command:\"Get\", Operand:\"OnLineStatus\"},  /* 获取设备在线状态 */\r\n        {Command:\"Get\", Operand:\"DeviceName\"},    /* 获取设备名称 */\r\n        {Command:\"Get\", Operand:\"DeviceSerialNo\"}, /* 获取设备序列号 */\r\n        {Command:\"Get\", Operand:\"VersionInfo\"} /* 获取核心版本信息 */\r\n      ]\r\n    };\r\n    \r\n    this.sendJson(request);\r\n  }\r\n  \r\n  /* 清空页面上显示的设备状态信息 */\r\n  clrDeviceStatus() {\r\n    // document.getElementById(\"deviceStatus\").innerHTML = strDevNotConnect;\r\n    // document.getElementById(\"deviceNameKey\").style.display = \"none\";\r\n    // document.getElementById('deviceName').innerHTML = \"\";\r\n    // document.getElementById(\"deviceSerialKey\").style.display = \"none\";\r\n    // document.getElementById('deviceSerial').innerHTML = \"\";\r\n  }\r\n  \r\n  /* 设置读卡参数，默认识别芯片信息、识别版面信息 */\r\n  setDefaultSettings() {\r\n    var request = {\r\n      Type: \"Request\",\r\n      Commands: [\r\n        {Command:\"Set\", Operand:\"RFID\", Param:\"Y\"}, /* 设置识别芯片信息 */\r\n        {Command:\"Set\", Operand:\"VIZ\", Param:\"Y\"}   /* 设置识别版面信息 */\r\n      ]\r\n    };\r\n    \r\n    this.sendJson(request);\r\n  }\r\n  \r\n  /* 对证件进行拍照 */\r\n  takePhoto() {\r\n    console.log('TAKE PHOTO');\r\n\r\n    var request = {\r\n      Type: \"Request\",\r\n      Command: \"Set\",\r\n      Operand: \"TakePhoto\",\r\n      Param: 0\r\n    };\r\n    var requestGetBase64 = {\r\n      Type: \"Request\",\r\n      Command: \"Get\",\r\n      Operand: \"Base64Image\"\r\n    };\r\n    \r\n    this.sendJson(request);\r\n    this.sendJson(requestGetBase64);\r\n  }\r\n  \r\n  \r\n  /* 选择要放大观看的图像 */\r\n  showImage(domId) {\r\n    // document.getElementById(\"imageDisplay\").src = document.getElementById(domId).src;\r\n  }\r\n  \r\n  showSettingPage() {\r\n    document.getElementById(\"settings\").style.display = \"block\";\r\n    document.getElementById(\"control\").style.display = \"none\";\r\n    document.getElementById(\"cardInfo\").style.display = \"none\";\r\n  }\r\n  \r\n  checkStatusToString(domId) {\r\n    return \"True\";\r\n    // if (document.getElementById(domId).checked) {\r\n    //   return \"True\";\r\n    // } else {\r\n    //   return \"False\";\r\n    // }\r\n  }\r\n  \r\n  SaveSettings() {\r\n    // bCardDetectedNotification = document.getElementById(\"CallBack\").checked || document.getElementById(\"CardDetect\").checked;\r\n    bCardDetectedNotification = false;\r\n\r\n    var request = {\r\n      Type: \"Request\",\r\n      Commands: [\r\n        {Command:\"Set\", Operand:\"VIZ\", Param: true},\r\n        {Command:\"Set\", Operand:\"RFID\", Param: true},\r\n        {Command:\"Set\", Operand:\"Rejection\", Param: false},\r\n        {Command:\"Set\", Operand:\"IfEnableCallback\", Param: false},\r\n        {Command:\"Set\", Operand:\"IfNotifyCardDetected\", Param: false},\r\n        {Command:\"Set\", Operand:\"MRZOnWhiteImage\", Param: false},\r\n        {Command:\"Set\", Operand:\"IfDetectUVDull\", Param: false},\r\n        {Command:\"Set\", Operand:\"IfDetectFibre\", Param: false},\r\n        {Command:\"Set\", Operand:\"IfCheckSourceType\", Param: false},\r\n        {Command:\"Set\", Operand:\"BarCodeRecog\", Param: false}\r\n      ]\r\n    };\r\n    \r\n    this.sendJson(request);\r\n    \r\n    document.getElementById(\"settings\").style.display = \"none\";\r\n    document.getElementById(\"control\").style.display = \"block\";\r\n    document.getElementById(\"cardInfo\").style.display = \"block\";\r\n  }\r\n  \r\n  DonnotSaveSettings() {\r\n    document.getElementById(\"settings\").style.display = \"none\";\r\n    document.getElementById(\"control\").style.display = \"block\";\r\n    document.getElementById(\"cardInfo\").style.display = \"block\";\r\n  }\r\n  ChangeConnectType(){\r\n    var tmp =\"ws://127.0.0.1:90/echo\";\r\n    if (tmp == host) {\r\n      host = \"wss://127.0.0.1:90/echo\";\r\n    }\r\n    else{\r\n\r\n      host = \"ws://127.0.0.1:90/echo\";\r\n    }\r\n  }\r\n  \r\n  getWebConstants() {\r\n    var request = {\r\n      Type: \"Request\",\r\n      Commands: [\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"CardRecogSystem\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"Connect\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"Disconnect\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"Save\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"IDCANCEL\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceStatus\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceName\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceSerialno\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceNotConnected\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DescOfWebsocketError\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DescFailSetRFID\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DescFailSetVIZ\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"PlaceHolderCardTextInfo\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceOffLine\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceReconnected\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DescFailSendWebsocket\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"WebDescDeviceNotFound\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"WebDescRequireRestartSvc\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"WebDescAskForSupport\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"WebDescRequireReconnect\"},\r\n        {Command:\"Get\", Operand:\"WebConstant\", Param:\"DeviceConnected\"}\r\n      ]\r\n    };\r\n    \r\n    this.sendJson(request);\r\n  }\r\n}\r\n","export const LOCAL_STORAGE_KEYS = {\r\n  token: 'token',\r\n};","import { Injectable } from '@angular/core';\nimport { NgbTimeAdapter, NgbTimeStruct } from '@ng-bootstrap/ng-bootstrap';\n\nconst pad = (i: number): string => (i < 10 ? `0${i}` : `${i}`);\n\n@Injectable()\nexport class TimePickerAdapterService extends NgbTimeAdapter<string> {\n  fromModel(value: string | null): NgbTimeStruct | null {\n    if (!value) {\n      return null;\n    }\n    const split = value.split(':');\n    return {\n      hour: parseInt(split[0], 10),\n      minute: parseInt(split[1], 10),\n      second: parseInt(split[2], 10)\n    };\n  }\n\n  toModel(time: NgbTimeStruct | null): string | null {\n    return time != null\n      ? `${pad(time.hour)}:${pad(time.minute)}`\n      : null;\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CHECK_IN_MODES } from 'src/app/shared/constant/check-mode';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { PAGES, STEPS } from 'src/app/shared/constant/pages';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { HubWalkinService } from 'src/app/shared/services/hub-walkin/hub-walkin.service';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss'],\r\n})\r\nexport class MenuComponent implements OnInit, OnDestroy {\r\n  public modes = CHECK_IN_MODES;\r\n\r\n  public listEntry = [\r\n    {\r\n      mode: this.modes.BOOKING_CODE,\r\n      head: 'menu.checkin-booking-code.head',\r\n      sub: 'menu.checkin-booking-code.sub',\r\n      icon: './assets/images/booking-code.svg',\r\n    },\r\n    {\r\n      mode: this.modes.QR_CODE,\r\n      head: 'menu.checkin-qr.head',\r\n      sub: 'menu.checkin-qr.sub',\r\n      icon: './assets/images/qr.svg',\r\n    },\r\n    {\r\n      mode: this.modes.WALK_IN,\r\n      head: 'menu.booking.head',\r\n      sub: 'menu.booking.sub',\r\n      icon: './assets/images/booking.svg',\r\n    },\r\n  ];\r\n\r\n  public selectedMode: string = '';\r\n  private hubSubcription = null;\r\n\r\n  constructor(private router: Router, private hubService: HubService, private translateService: TranslateService, private hubWalkin: HubWalkinService) {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.options) {\r\n        return;\r\n      }\r\n      console.log('FLOW-CHECKIN: ', res);\r\n      if (res.message === ACTIONS.goBack) {\r\n        this.router.navigateByUrl('/');\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  selectMode(mode: string): void {\r\n    this.selectedMode = mode;\r\n  }\r\n\r\n  redirect(): void {\r\n    let mode = this.selectedMode;\r\n\r\n    if (!mode) {\r\n      this.hubService.error(this.translateService.instant('msg.notSelectOption'));\r\n      return;\r\n    }\r\n\r\n    if (mode === this.modes.WALK_IN) {\r\n      // this.router.navigateByUrl(`/${PAGES.flowBooking}`);\r\n      this.router.navigate([`/${PAGES.walkin}/${STEPS.step1}`]);\r\n      this.hubWalkin.setPage(PAGES.walkin);\r\n      return;\r\n    }\r\n    if (mode === this.modes.QR_CODE) {\r\n      // this.router.navigateByUrl(`/${PAGES.flowBooking}`);\r\n      this.router.navigate([`/${PAGES.checkinQr}/${STEPS.step1}`]);\r\n      this.hubWalkin.setPage(PAGES.checkinQr);\r\n      return;\r\n    }\r\n    this.router.navigate([`/${PAGES.checkinCode}/${STEPS.step1}`]);\r\n    // this.router.navigate([`/${PAGES.flowCheckin}`], { queryParams: { mode } });\r\n    this.hubWalkin.setPage(PAGES.checkinCode);\r\n  }\r\n}\r\n","<div fxLayout=\"column\" class=\"menu-container\" fxLayoutAlign=\"center\">\r\n  <div class=\"wrapper menu-intro my-3\">\r\n    <h5 class=\"text-white font-weight-thin mt-3\">\r\n      {{ 'menu.hi' | translate }},\r\n    </h5>\r\n    <h4 class=\"text-white font-weight-500 mt-3\">\r\n      {{ 'welcome.intro' | translate }}\r\n    </h4>\r\n  </div>\r\n  <app-card class=\"h-100\">\r\n    <ng-container app-card-body>\r\n      <div class=\"wrapper\">\r\n        <div class=\"my-3\">\r\n          <h5 class=\"font-weight-thin text-grey-dark\">\r\n            {{ 'menu.intro' | translate }}\r\n          </h5>\r\n        </div>\r\n        <div class=\"d-flex flex-column entry-list my-3\">\r\n          <div *ngFor=\"let entry of listEntry; index as i\" fxFlex fxLayoutAlign=\"center none\">\r\n            <a class=\"ks-href-block entry-container w-100 my-2\" (click)=\"selectMode(entry.mode)\"\r\n              [class]=\"entry.mode === selectedMode ? 'entry-active' : ''\">\r\n              <div class=\"card card-box-shadow\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-5 text-primary text-center\">\r\n                      <img [src]=\"entry.icon\" class=\"entry-image\" />\r\n                    </div>\r\n                    <div class=\"col-7 text-primary d-flex flex-column justify-content-around\">\r\n                      <h3 class=\"card-title text-upper-case text-center\">\r\n                        {{ entry.head | translate }}\r\n                      </h3>\r\n                      <p class=\"font-weight-thin text-center\">{{ entry.sub | translate }}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </ng-container>\r\n    <ng-container app-card-footer>\r\n      <div class=\"wrapper w-100 d-flex flex-row justify-content-center\">\r\n        <app-button className=\"btn-primary w-100 text-uppercase\" class=\"w-80\" (click)=\"redirect()\">\r\n          {{ 'navBottom.next' | translate }}\r\n        </app-button>\r\n      </div>\r\n    </ng-container>\r\n  </app-card>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ConfigureService } from 'src/app/config/configure/configure.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OcrService {\r\n  private ocrUrl = '';\r\n  constructor(private http: HttpClient) {\r\n    this.ocrUrl = ConfigureService.config.url.ocr;\r\n  }\r\n\r\n  /**\r\n   * Lấy thông tin từ ảnh cmnd cũ\r\n   */\r\n  public idImage(base64: string) {\r\n    const endpoint = `${this.ocrUrl}/predict/id_image`;\r\n\r\n    const file = this.dataURLtoFile(base64, 'file.jpg');\r\n    \r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    return this.http.post(endpoint, formData);\r\n  }\r\n\r\n  /**\r\n   * Lấy thông tin từ bằng lái xe\r\n   */\r\n  public licenseImage(base64: string) {\r\n    const endpoint = `${this.ocrUrl}/predict/license_image`;\r\n\r\n    const file = this.dataURLtoFile(base64, 'file.jpg');\r\n    \r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    return this.http.post(endpoint, formData);\r\n  }\r\n\r\n  /**\r\n   * Lấy thông tin từ căn cước công dân\r\n   */\r\n  public idImageNew(base64: string) {\r\n    const endpoint = `${this.ocrUrl}/predict/id_image_new`;\r\n\r\n    const file = this.dataURLtoFile(base64, 'file.jpg');\r\n    \r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    return this.http.post(endpoint, formData);\r\n  }\r\n\r\n  /**\r\n   * So khớp mặt\r\n   */\r\n  public faceEmbedding(source: string, input: string) {\r\n    const endpoint = `${this.ocrUrl}/predict/face_embedding`;\r\n\r\n    const sourceFile = this.dataURLtoFile(source, 'source.jpg');\r\n    const inputFile = this.dataURLtoFile(input, 'input.jpg');\r\n\r\n    const formData = new FormData();\r\n    formData.append('source_file', sourceFile);\r\n    formData.append('input_file', inputFile);\r\n\r\n    return this.http.post(endpoint, formData);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * Convert base64 sang File\r\n   *  \r\n   */\r\n  private dataURLtoFile(dataurl, filename): File {\r\n    var arr = dataurl.split(','),\r\n      mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]),\r\n      n = bstr.length,\r\n      u8arr = new Uint8Array(n);\r\n\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n\r\n    return new File([u8arr], filename, { type: mime });\r\n  }\r\n}\r\n","import {\n  Component,\n  Output,\n  EventEmitter,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  OnDestroy,\n  OnInit\n} from '@angular/core';\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\nimport { HubModel } from 'src/app/shared/models/hub.models';\nimport { PAGES } from 'src/app/shared/constant/pages';\nimport { ACTIONS } from 'src/app/shared/constant/event';\nimport { faCamera, faExchangeAlt, faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-scan-face',\n  templateUrl: './scan-face.component.html',\n  styleUrls: ['./scan-face.component.scss']\n})\nexport class ScanFaceComponent implements AfterViewInit, OnDestroy, OnInit {\n\n  public faExchange = faExchangeAlt;\n  public faCamera = faCamera;\n  public faPaperPlane = faPaperPlane;\n\n  @Output() nextStep: EventEmitter<any> = new EventEmitter();\n  @Output() backStep: EventEmitter<any> = new EventEmitter();\n  @Output() image: EventEmitter<any> = new EventEmitter();\n  \n\n  @ViewChild('video')\n  public video: ElementRef;\n\n  public imageBase64 = '';\n  private hubSubcription;\n\n  constructor(private hubService: HubService, private translateService: TranslateService) {\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\n      if (res.receiver !== PAGES.scanFace) {\n        return;\n      }\n      if (res.message === ACTIONS.nextStep) {\n        this.changeToNextStep();\n      } else if (res.message === ACTIONS.backStep) {\n        this.changeToPreviousStep();\n      }\n      if (res.message === ACTIONS.closeCamera) {\n        this.turnOffVideo();\n      }\n    });\n  }\n\n  ngOnInit() {}\n\n  ngOnDestroy(): void {\n    this.hubSubcription.unsubscribe();\n  }\n\n  async ngAfterViewInit() {\n    await this.setupDevice();\n  }\n  /**\n   * Setup video stream\n   */\n  async setupDevice() {\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: true\n        });\n        if (stream) {\n          this.video.nativeElement.srcObject = stream;\n          this.video.nativeElement.play();\n        } else {\n          this.hubService.error(this.translateService.instant('msg.noOutputVideoDevice'));\n          // console.log('You have no output video device');\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n  /**\n   * Take photo\n   */\n  takePhoto() {\n    const nativeVideo = this.video.nativeElement;\n    nativeVideo.pause();\n\n    const canvas = document.createElement('canvas');\n    canvas.width = nativeVideo.videoWidth;\n    canvas.height = nativeVideo.videoHeight;\n    canvas\n      .getContext('2d')\n      .drawImage(nativeVideo, 0, 0, canvas.width, canvas.height);\n    this.imageBase64 = canvas.toDataURL();\n  }\n  /**\n   * Resume\n   */\n  resume() {\n    const nativeVideo = this.video.nativeElement;\n    nativeVideo.play();\n    this.imageBase64 = '';\n  }\n  submit() {\n    if (this.imageBase64) {\n      this.image.emit(this.imageBase64); \n    } else {\n      this.hubService.error(this.translateService.instant('msg.noFaceImageToDetect'));\n    }\n  }\n  /**\n   * turnOffVideo\n   */\n  turnOffVideo() {\n    const nativeVideo = this.video.nativeElement;\n    nativeVideo.srcObject = null;\n  }\n  /**\n   * Navigate\n   */\n  changeToNextStep() {\n    if (this.imageBase64) {\n      this.nextStep.emit();\n    } else {\n      this.takePhoto();\n    }\n    this.video.nativeElement.play();\n  }\n\n  changeToPreviousStep() {\n    this.backStep.emit();\n  }\n}\n","<div class=\"d-flex flex-column h-100\">\n  <div class=\"wrapper h-100 d-flex flex-column justify-content-between\">\n    <div class=\"flex-grow-1 d-flex flex-column\">\n      <div class=\"text-center mt-3\">\n        <p class=\"text-grey-dark font-weight-600\">\n          {{ 'flowDetect.faceInstruction' | translate }}\n        </p>\n      </div>\n      <app-button class=\"w-100 text-center\" className=\"text-uppercase bg-light border-light text-primary btn-primary w-40\"\n        (click)=\"takePhoto()\">\n        {{ 'flowDetect.btnChupAnh' | translate }}\n        <!-- &nbsp;<fa-icon [icon]=\"faCamera\"></fa-icon> -->\n      </app-button>\n      <div class=\"stream w-100 text-center mt-5\">\n        <div>\n          <video id=\"video\" #video></video>\n        </div>\n      </div>\n    </div>\n    <div class=\"d-flex flex-row justify-content-around w-100 mb-3\">\n      <app-button class=\"w-40\" className=\"text-uppercase text-primary border-primary w-100\" (click)=\"resume()\">\n        <fa-icon [icon]=\"faExchange\"></fa-icon>&nbsp;\n        {{ 'flowDetect.btnUndo' | translate }}\n      </app-button>\n      <app-button class=\"w-40\" className=\"text-uppercase btn-primary w-100\" (click)=\"submit()\">\n        {{ 'flowDetect.btnXacMinh' | translate }}\n        &nbsp;<fa-icon [icon]=\"faPaperPlane\"></fa-icon>\n      </app-button>\n    </div>\n  </div>\n</div>","<div>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title text-danger\">\n      <i class=\"fas fa-exclamation-triangle\"></i>\n      {{ 'modalError.error' | translate }}\n      <span *ngIf=\"errorCode\">:&nbsp;{{ errorCode }}</span>\n    </h4>\n  </div>\n  <div class=\"modal-body\">\n    <div [innerHTML]=\"errorMessage\"></div>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-secondary w-100 ks-btn-focus-decor-none\" (click)=\"activeModal.close('Close click')\">\n      {{ 'modalError.close' | translate }}\n    </button>\n  </div>\n</div>","import { Component, OnInit, Input } from '@angular/core';\nimport { NgbActiveModal, NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\n\n@Component({\n  selector: 'app-modal-error',\n  templateUrl: './modal-error.component.html',\n  styleUrls: ['./modal-error.component.scss']\n})\nexport class ModalErrorComponent implements OnInit {\n\n  @Input() errorMessage = '';\n  @Input() errorCode = '';\n\n  constructor(public activeModal: NgbActiveModal) {}\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-welcome',\r\n  templateUrl: './welcome.component.html',\r\n  styleUrls: ['./welcome.component.scss'],\r\n})\r\nexport class WelcomeComponent implements OnInit {\r\n  public faArrowRight = faArrowRight;\r\n\r\n  constructor(private router: Router, private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  redirectFlowBooking(): void {\r\n    this.router.navigateByUrl(`/options`);\r\n  }\r\n\r\n  changeLanguage(lang: string): void {\r\n    this.translate.use(lang);\r\n    this.redirectFlowBooking();\r\n  }\r\n}\r\n","<div class=\"d-flex flex-column welcome-container w-100 h-100 pb-3\">\r\n\t<div class=\"w-100 d-flex flex-column align-items-center mt-5\">\r\n\t\t<img src=\"assets/images/logo.svg\" class=\"w-40\" alt=\"Mandala\" style=\"filter: brightness(0) invert(1);\">\r\n\t\t<p class=\"text-uppercase mt-5 text-white font-weight-thin\">Xin vui lòng lựa chọn ngôn ngữ</p>\r\n\t\t<app-button class=\"w-70\" className=\"text-white border-white w-100 text-uppercase font-weight-300\"\r\n\t\t\t(click)=\"changeLanguage('vi')\">\r\n\t\t\ttiếng việt\r\n\t\t</app-button>\r\n\t\t<p class=\"font-italic text-white text-uppercase font-weight-thin my-4\">or</p>\r\n\t\t<app-button class=\"w-70\" className=\"text-white border-white w-100 text-uppercase\" (click)=\"changeLanguage('en')\">\r\n\t\t\tenglish\r\n\t\t</app-button>\r\n\t</div>\r\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NavigationComponent } from './components/navigation/navigation.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TransModule } from 'src/app/shared/trans/trans.module';\nimport { NgBootstrapModule } from 'src/app/shared/ng-bootstrap/ng-bootstrap.module';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { NavigationBottomComponent } from './components/navigation-bottom/navigation-bottom.component';\n\n\n\n@NgModule({\n  declarations: [\n    NavigationComponent,\n    NavigationBottomComponent,\n  ],\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    NgBootstrapModule,\n    TransModule,\n    FontAwesomeModule\n  ],\n  exports: [\n    NavigationComponent,\n    NavigationBottomComponent\n  ]\n})\nexport class NavigationBarModule { }\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MenuComponent } from './modules/checkin/components/menu/menu.component';\r\nimport { PAGES, STEPS } from './shared/constant/pages';\r\nimport { FlowCheckinComponent } from './modules/checkin/components/flow-checkin/flow-checkin.component';\r\nimport { FlowBookingComponent } from './modules/checkin/components/flow-booking/flow-booking.component';\r\nimport { WelcomeComponent } from './modules/checkin/components/welcome/welcome.component';\r\nimport { AvailabilityRoomsComponent } from './modules/checkin/components/availability-rooms/availability-rooms.component';\r\nimport { ScanIdentityCardComponent } from './modules/checkin/components/scan-identity-card/scan-identity-card.component';\r\nimport { BookingCreateComponent } from './modules/checkin/components/booking-create/booking-create.component';\r\nimport { BookingDoneComponent } from './modules/checkin/components/booking-done/booking-done.component';\r\nimport { WalkinComponent } from './layout/walkin/walkin.component';\r\nimport { FlowDetectComponent } from './modules/checkin/components/flow-detect/flow-detect.component';\r\nimport { ScanQrComponent } from './modules/checkin/components/scan-qr/scan-qr.component';\r\nimport { BookingDetailsComponent } from './modules/checkin/components/booking-details/booking-details.component';\r\nimport { BookingCodeComponent } from './modules/checkin/components/booking-code/booking-code.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: PAGES.flowCheckin,\r\n    component: FlowCheckinComponent,\r\n  },\r\n  {\r\n    path: PAGES.flowBooking,\r\n    component: FlowBookingComponent,\r\n  },\r\n  {\r\n    path: PAGES.options,\r\n    component: MenuComponent,\r\n  },\r\n  {\r\n    path: PAGES.welcome,\r\n    component: WelcomeComponent,\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: PAGES.welcome,\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: PAGES.walkin,\r\n    component: WalkinComponent,\r\n    children: [\r\n      {\r\n        path: STEPS.step1,\r\n        component: AvailabilityRoomsComponent,\r\n      },\r\n      {\r\n        path: STEPS.step2,\r\n        component: ScanIdentityCardComponent\r\n      },\r\n      {\r\n        path: STEPS.step3,\r\n        component: BookingCreateComponent,\r\n      },\r\n      {\r\n        path: STEPS.step4,\r\n        component: BookingDoneComponent,\r\n      },\r\n      {\r\n        path: STEPS.detect,\r\n        component: FlowDetectComponent,\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: PAGES.checkinQr,\r\n    component: WalkinComponent,\r\n    children: [\r\n      {\r\n        path: STEPS.step1,\r\n        component: ScanQrComponent,\r\n      },\r\n      {\r\n        path: STEPS.step2,\r\n        component: BookingDetailsComponent\r\n      },\r\n      {\r\n        path: STEPS.step3,\r\n        component: ScanIdentityCardComponent,\r\n      },\r\n      {\r\n        path: STEPS.step4,\r\n        component: BookingDoneComponent,\r\n      },\r\n      {\r\n        path: STEPS.detect,\r\n        component: FlowDetectComponent,\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: PAGES.checkinCode,\r\n    component: WalkinComponent,\r\n    children: [\r\n      {\r\n        path: STEPS.step1,\r\n        component: BookingCodeComponent,\r\n      },\r\n      {\r\n        path: STEPS.step2,\r\n        component: BookingDetailsComponent\r\n      },\r\n      {\r\n        path: STEPS.step3,\r\n        component: ScanIdentityCardComponent,\r\n      },\r\n      {\r\n        path: STEPS.step4,\r\n        component: BookingDoneComponent,\r\n      },\r\n      {\r\n        path: STEPS.detect,\r\n        component: FlowDetectComponent,\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes,{ useHash: true })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    TranslateModule,\n  ],\n  exports: [\n    TranslateModule,\n  ]\n})\nexport class TransModule {}\n\nexport function HttpLoaderFactory(http: HttpClient): TranslateHttpLoader {\n  return new TranslateHttpLoader(http);\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-card',\n  templateUrl: './app-card.component.html',\n  styleUrls: ['./app-card.component.scss']\n})\nexport class AppCardComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {  \n  }\n\n}\n","<div class=\"h-100\">\r\n  <div class=\"app-card d-flex flex-column justify-content-between h-100 pb-5\">\r\n    <div class=\"d-flex flex-column flex-grow-1\">\r\n      <div class=\"d-flex flex-row justify-content-center mb-2\">\r\n        <div class=\"mt-3 bg-primary stick-horizontal\"></div>\r\n      </div>\r\n      <ng-content select=\"[app-card-body]\"></ng-content>\r\n    </div>\r\n    <div>\r\n      <ng-content select=\"[app-card-footer]\"></ng-content>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport Stepper from 'bs-stepper';\r\nimport { ACTIONS } from 'src/app/shared/constant/event';\r\nimport { HubService } from 'src/app/shared/services/hub/hub.service';\r\nimport { HubModel } from 'src/app/shared/models/hub.models';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\nimport { DispenserService } from 'src/app/shared/services/dispenser/dispenser.service';\r\nimport * as moment from 'moment';\r\nimport { LockCardModel } from 'src/app/shared/models/lock-card.model';\r\nimport { LockCardService } from 'src/app/shared/services/lock-card/lock-card.service';\r\nimport { PAGES } from 'src/app/shared/constant/pages';\r\nimport { CHECK_IN_MODES } from 'src/app/shared/constant/check-mode';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UtilityService } from 'src/app/shared/services/utility/utility.service';\r\nimport { AUDIO_FILES } from 'src/app/shared/constant/audio-files';\r\nimport { environment } from 'src/environments/environment';\r\nimport {\r\n  animate,\r\n  state,\r\n  style,\r\n  transition,\r\n  trigger,\r\n} from '@angular/animations';\r\nimport { FlowDetectComponent } from '../flow-detect/flow-detect.component';\r\nimport { BookingService } from '../../services/booking/booking.service';\r\nimport { ResponseBody } from 'src/app/shared/models/response';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { RoomAvailabilityService } from '../../services/room-availability/room-availability.service';\r\nimport { faTruckMonster } from '@fortawesome/free-solid-svg-icons';\r\n\r\n@Component({\r\n  selector: 'app-flow-checkin',\r\n  templateUrl: './flow-checkin.component.html',\r\n  styleUrls: ['./flow-checkin.component.scss'],\r\n  animations: [\r\n    trigger('btnAppear', [\r\n      state(\r\n        'visible',\r\n        style({\r\n          display: 'flex',\r\n          opacity: 1,\r\n          width: '100%',\r\n        })\r\n      ),\r\n      state(\r\n        'hidden',\r\n        style({\r\n          display: 'none',\r\n          opacity: 0,\r\n          width: 0,\r\n        })\r\n      ),\r\n      transition('hidden => visible', [animate('.1s')]),\r\n      transition('visible => hidden', [animate('.1s')]),\r\n    ]),\r\n  ],\r\n})\r\nexport class FlowCheckinComponent implements OnInit, OnDestroy {\r\n  public mode = CHECK_IN_MODES.BOOKING_CODE;\r\n\r\n  public checkInModes = { ...CHECK_IN_MODES };\r\n  public bookingData: any = {};\r\n  public totalRateData: any = {};\r\n\r\n  private stepper: Stepper;\r\n\r\n  public showFlowDetect: boolean = false;\r\n  public showFooter: boolean = true;\r\n  public isDoneFlow = true;\r\n\r\n  private hubSubcription = null;\r\n\r\n  public error = {\r\n    fetchRoomAvai: '',\r\n  };\r\n  public roomAvaiData = [];\r\n\r\n  @ViewChild('flowDetectComp') flowDetectComp: FlowDetectComponent;\r\n\r\n  constructor(\r\n    private hubService: HubService,\r\n    private dispenserService: DispenserService,\r\n    private lockCardService: LockCardService,\r\n    private route: ActivatedRoute,\r\n    private utilService: UtilityService,\r\n    private router: Router,\r\n    private bookingService: BookingService,\r\n    private roomAvaiService: RoomAvailabilityService,\r\n    private translateService: TranslateService\r\n  ) {\r\n    this.subcribeHub();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubSubcription.unsubscribe();\r\n  }\r\n\r\n  next() {\r\n    this.stepper.next();\r\n  }\r\n\r\n  subcribeHub(): void {\r\n    this.hubSubcription = this.hubService.onHub().subscribe((res: HubModel) => {\r\n      if (res.receiver !== PAGES.flowCheckin) {\r\n        return;\r\n      }\r\n      console.log('FLOW-CHECKIN: ', res);\r\n      if (res.message === ACTIONS.goBack) {\r\n        this.back();\r\n      }\r\n    });\r\n  }\r\n\r\n  back() {\r\n    const current = this.getActiveStep();\r\n    const backToOptionsScreen = [\r\n      PAGES.scanQR,\r\n      PAGES.bookingCode,\r\n      PAGES.bookingDone,\r\n    ];\r\n    if (this.showFlowDetect) {\r\n      this.changeStepInsideFlowDetect(this.flowDetectComp.progress.key);\r\n      return;\r\n    }\r\n    if (current === PAGES.scanQR) {\r\n      const event: HubModel = {\r\n        receiver: PAGES.scanQR,\r\n        message: ACTIONS.backStep,\r\n      };\r\n\r\n      this.hubService.sendEvent(event);\r\n    }\r\n    if (backToOptionsScreen.includes(current)) {\r\n      this.router.navigateByUrl('/options');\r\n      return;\r\n    }\r\n    this.stepper.previous();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.queryParams.subscribe((params) => {\r\n      this.mode = params.mode;\r\n\r\n      setTimeout(() => {\r\n        this.initStepper();\r\n        this.addListener();\r\n      }, 0);\r\n    });\r\n  }\r\n\r\n  initStepper() {\r\n    const linear = environment.production;\r\n\r\n    this.stepper = new Stepper(document.querySelector('#stepper-checkin'), {\r\n      linear: linear,\r\n      animation: true,\r\n    });\r\n  }\r\n\r\n  receiveGuestData(guestData: any) {\r\n    setTimeout(() => {\r\n      this.hubService.setLoading(true);\r\n    }, 0);\r\n    this.bookingData = { ...this.bookingData, ...guestData };\r\n    this.bookingService\r\n      .getTotalRate({\r\n        ArrivalDate: this.bookingData.arrivalDate,\r\n        DepartDate: this.bookingData.departDate,\r\n        ArrivalTime: this.bookingData.arrivalTime,\r\n        DepartTime: this.bookingData.departTime,\r\n        RoomBocked: this.bookingData.roomCode,\r\n        RoomType: this.bookingData.roomTypeCode,\r\n        NoOfAdults: this.bookingData.adult,\r\n        NoOfChild: this.bookingData.child,\r\n      })\r\n      .pipe(\r\n        mergeMap((res: ResponseBody) => {\r\n          if (res.metadata && res.metadata[0]) {\r\n            this.totalRateData = res.metadata[0];\r\n            return this.roomAvaiService.getRoomAvailabitlity(\r\n              this.bookingData.arrivalDate,\r\n              this.bookingData.departDate,\r\n              true\r\n            );\r\n          } else {\r\n            throwError({\r\n              code: '',\r\n              message: this.translateService.instant('msg.errorGetTotalRate'),\r\n              useToat: faTruckMonster,\r\n            });\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: ResponseBody) => {\r\n          if (res.statusCode === 200 && res.metadata) {\r\n            this.roomAvaiData = res.metadata\r\n              .map((item) => ({\r\n                ...item,\r\n                buildingCode: `${item.buildingCode}`,\r\n              }))\r\n              .filter(\r\n                (item) => item?.roomTypeCode === this.bookingData.roomTypeCode\r\n              );\r\n            if (this.roomAvaiData[0]) {\r\n              this.changeRoomCode(this.roomAvaiData[0].roomCode);\r\n            }\r\n            this.next();\r\n          } else {\r\n            this.error.fetchRoomAvai = res.message;\r\n            throwError({\r\n              code: '',\r\n              message: this.translateService.instant('msg.errorGetTotalRate'),\r\n              useToat: false,\r\n            });\r\n          }\r\n        },\r\n        (err: any) => {\r\n          if (err.useToast) {\r\n            this.hubService.error(\r\n              err?.message ||\r\n                this.translateService.instant('msg.errorHandlingRequest')\r\n            );\r\n          }\r\n        }\r\n      ).add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  refreshRoomAvai() {\r\n    console.log('refreshRoomAvai');\r\n    this.fetchRoomAvai(\r\n      this.bookingData.arrivalDate,\r\n      this.bookingData.departDate\r\n    );\r\n  }\r\n\r\n  fetchRoomAvai(arr, dpt) {\r\n    this.error.fetchRoomAvai = '';\r\n\r\n    this.hubService.setLoading(true);\r\n    this.roomAvaiService\r\n      .getRoomAvailabitlity(arr, dpt, true)\r\n      .subscribe(this.fetchRoomAvailObserver())\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n\r\n  fetchRoomAvailObserver() {\r\n    return {\r\n      next: (res: ResponseBody) => {\r\n        if (res.statusCode === 200 && res.metadata) {\r\n          this.roomAvaiData = res.metadata\r\n            .map((item) => ({\r\n              ...item,\r\n              buildingCode: `${item.buildingCode}`,\r\n            }))\r\n            .filter(\r\n              (item) => item?.roomTypeCode === this.bookingData.roomTypeCode\r\n            );\r\n        } else {\r\n          this.error.fetchRoomAvai = res.message;\r\n        }\r\n      },\r\n      error: () => {\r\n        this.error.fetchRoomAvai = this.translateService.instant(\r\n          'msg.errorHandlingRequest'\r\n        );\r\n      },\r\n    };\r\n  }\r\n\r\n  changeRoomCode(roomCode: string) {\r\n    this.bookingData.roomCode = roomCode;\r\n  }\r\n\r\n  doneBookingDetail(data) {\r\n    this.bookingData = { ...data };\r\n    this.next();\r\n  }\r\n\r\n  addListener() {\r\n    const stepperEl = document.querySelector('#stepper-checkin');\r\n\r\n    stepperEl.addEventListener('shown.bs-stepper', (event: any) => {\r\n      console.log({ event });\r\n      const activeStep = this.getActiveStep();\r\n\r\n      this.actionController(activeStep, event.detail);\r\n    });\r\n  }\r\n\r\n  actionController(activeStep: string, detail: any) {\r\n    if (activeStep === PAGES.scanQR) {\r\n      this.showFooter = false;\r\n      this.focusQrInput();\r\n      this.utilService.playAudio(AUDIO_FILES.scanQrIntro);\r\n    } else if (activeStep === PAGES.bookingCode) {\r\n      this.showFooter = true;\r\n      this.utilService.playAudio(AUDIO_FILES.bookingCodeIntro);\r\n    } else if (activeStep === PAGES.bookingDetails) {\r\n      this.showFooter = true;\r\n    } else if (detail && detail.to === 2) {\r\n      this.showFooter = false;\r\n      if (detail.from === 1 || detail.from === 3) {\r\n        this.openFlowDetect();\r\n      }\r\n    } else if (activeStep === PAGES.bookingDone) {\r\n      this.showFooter = false;\r\n      const audioFile = this.isDoneFlow ? AUDIO_FILES.bookingDoneIntro : AUDIO_FILES.bookingDoneError;\r\n      this.utilService.playAudio(audioFile);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * Xử lý khi nhận diện xong\r\n   */\r\n  onVerify({ isDone = true }) {\r\n    this.isDoneFlow = isDone;\r\n    this.next();\r\n  }\r\n  /**\r\n   * Reset Flow\r\n   */\r\n  resetFlow() {\r\n    this.stepper.to(0);\r\n  }\r\n\r\n  /**\r\n   * Focus ô input để lấy mã\r\n   */\r\n  focusQrInput() {\r\n    const event: HubModel = {\r\n      receiver: PAGES.scanQR,\r\n      message: ACTIONS.focusQrInput,\r\n    };\r\n    this.hubService.sendEvent(event);\r\n  }\r\n\r\n  /**\r\n   * Bật popup chọn giấy tờ khi vào màn hình Scan\r\n   */\r\n  openFlowDetect() {\r\n    console.log('open flow detect');\r\n    this.showFlowDetect = true;\r\n\r\n    setTimeout(() => {\r\n      const event: HubModel = {\r\n        receiver: PAGES.flowDetect,\r\n        message: ACTIONS.openScanModal,\r\n      };\r\n\r\n      this.hubService.sendEvent(event);\r\n    }, 0);\r\n  }\r\n  /**\r\n   *\r\n   * Close Flow Detect\r\n   */\r\n  closeFlowDetect(guestData: any) {\r\n    console.log('close flow detect: ', guestData, this.bookingData);\r\n    if (guestData) {\r\n      this.bookingData = { ...this.bookingData, ...guestData };\r\n    }\r\n    this.showFlowDetect = false;\r\n\r\n    setTimeout(() => {\r\n      this.initStepper();\r\n      this.addListener();\r\n      this.stepper.to(3);\r\n    }, 0);\r\n  }\r\n  /**\r\n   *\r\n   * UPDATE STEP TRONG FLOW DETECT\r\n   */\r\n  changeStepInsideFlowDetect(detectStep: string) {\r\n    if (detectStep === 'type') {\r\n      this.showFlowDetect = false;\r\n      this.closeFlowDetect(null);\r\n    } else {\r\n      this.openFlowDetect();\r\n    }\r\n    // switch (detectStep) {\r\n    //   case 'type':\r\n    //     this.showFlowDetect = false;\r\n    //     this.closeFlowDetect(null);\r\n    //     break;\r\n    //   case 'front':\r\n    //     this.flowDetectComp.progress.key = 'type';\r\n    //     break;\r\n    //   case 'back':\r\n    //     this.flowDetectComp.progress.key = 'front';\r\n    //     break;\r\n    //   case 'face':\r\n    //     this.flowDetectComp.progress.key = 'back';\r\n    //     break;\r\n    //   default:\r\n    //     break;\r\n    // }\r\n  }\r\n  /**\r\n   * Nhả thẻ khi nhận diện thành công\r\n   */\r\n  processCard(guestData: any) {\r\n    this.bookingData = { ...this.bookingData, ...guestData };\r\n    console.log('process card | booking data: ', this.bookingData);\r\n\r\n    this.hubService.setLoading(true);\r\n    this.bookingService\r\n      .checkin({\r\n        resvNo: this.bookingData?.resvNo,\r\n        roomCode: this.bookingData?.roomCode,\r\n      })\r\n      .pipe(\r\n        mergeMap((res: any) => {\r\n          if (res.statusCode === 200) {\r\n            return this.dispenserService.moveToRfPos();\r\n          } else {\r\n            const message = this.translateService.instant('msg.errorCheckin');\r\n            return throwError({ code: res.statusCode, message });\r\n          }\r\n        }),\r\n        mergeMap((res: any) => {\r\n          if (res.code === 0) {\r\n            return this.writeCard();\r\n          } else {\r\n            return throwError({ code: res.code, message: res.message });\r\n          }\r\n        }),\r\n        mergeMap((res: any) => {\r\n          if (res.code === 0) {\r\n            return this.dispenserService.eject();\r\n          } else {\r\n            return throwError({ code: res.code, message: res.message });\r\n          }\r\n        })\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.code === 0) {\r\n            this.onVerify({ isDone: true });\r\n          } else {\r\n            this.hubService.error(res.message);\r\n            this.onVerify({ isDone: false });\r\n          }\r\n        },\r\n        ({ code, message }) => {\r\n          if (!environment.production) {\r\n            this.next();\r\n            return;\r\n          }\r\n          this.hubService.error(message);\r\n          this.onVerify({ isDone: false });\r\n        }\r\n      )\r\n      .add(() => {\r\n        this.hubService.setLoading(false);\r\n      });\r\n  }\r\n  /**\r\n   *\r\n   * Ghi thẻ\r\n   */\r\n  writeCard() {\r\n    const lockArrDate = moment(this.bookingData['arrivalDate']).format(\r\n      'yyyy-MM-DD'\r\n    );\r\n    const lockDeptDate = moment(this.bookingData['departDate']).format(\r\n      'yyyy-MM-DD'\r\n    );\r\n\r\n    const lockArrTime = moment(this.bookingData['arrivalTime'], 'HH:mm').format(\r\n      'HH:mm:ss'\r\n    );\r\n    const lockDeptTime = moment(this.bookingData['departTime'], 'HH:mm').format(\r\n      'HH:mm:ss'\r\n    );\r\n\r\n    const body: LockCardModel = {\r\n      room: this.bookingData['roomCode'],\r\n      building: this.bookingData['buildingCode'],\r\n      arrival: `${lockArrDate} ${lockArrTime}`,\r\n      departure: `${lockDeptDate} ${lockDeptTime}`,\r\n    };\r\n\r\n    return this.lockCardService.writeCard(body);\r\n  }\r\n  /**\r\n   * NAVIGATION\r\n   */\r\n  goToPreviousStep() {\r\n    const componentName = this.getActiveStep();\r\n    const type = ACTIONS.backStep;\r\n    const data: HubModel = {\r\n      receiver: componentName,\r\n      message: type,\r\n    };\r\n    this.hubService.sendEvent(data);\r\n  }\r\n\r\n  gotoNextStep() {\r\n    console.log('go to next step');\r\n    const componentName = this.getActiveStep();\r\n    const type = ACTIONS.nextStep;\r\n    const data: HubModel = {\r\n      receiver: componentName,\r\n      message: type,\r\n    };\r\n    this.hubService.sendEvent(data);\r\n  }\r\n\r\n  getActiveStep() {\r\n    const bsStepperContent = document.getElementById('bsStepperContent');\r\n    const activeStep = bsStepperContent?.querySelector(\r\n      '.dstepper-block.active'\r\n    );\r\n    return activeStep?.getAttribute('data-name') || '';\r\n  }\r\n\r\n  getActiveStepHeader() {\r\n    const bsStepperHeader = document.querySelector('.bsStepperContent');\r\n    const activeStep = bsStepperHeader?.querySelector('.step.active');\r\n    return activeStep || '';\r\n  }\r\n}\r\n","<app-card class=\"horizon-stepper-container\" *ngIf=\"!showFlowDetect\">\r\n  <ng-container app-card-body class=\"d-flex flex-column\">\r\n    <div id=\"stepper-checkin\" class=\"bs-stepper d-flex flex-column justify-content-between h-100\">\r\n      <!-- HEADER -->\r\n      <div class=\"bs-stepper-header wrapper\">\r\n        <div *ngIf=\"mode === checkInModes.QR_CODE\" class=\"step\" data-target=\"#step-scan-qr\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">\r\n              <span class=\"d-show\" data-type=\"not\">1</span>\r\n              <span class=\"d-none\" data-type=\"done\"><i class=\"fa fa-check-circle\"></i></span>\r\n            </span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowCheckin.scanQR' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div *ngIf=\"mode === checkInModes.BOOKING_CODE\" class=\"step\" data-target=\"#step-booking-code\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">1</span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowCheckin.bookingCode' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div class=\"step\" data-target=\"#step-booking-details\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">2</span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowCheckin.bookingInformation' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div class=\"step\" data-target=\"#step-scan-idcard-passport\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">3</span>\r\n            <span class=\"bs-stepper-label\">\r\n              {{'flowCheckin.scanIdPassport' | translate}}\r\n            </span>\r\n          </button>\r\n        </div>\r\n        <div class=\"step\" data-target=\"#step-done\">\r\n          <button class=\"step-trigger\">\r\n            <span class=\"bs-stepper-circle\">4</span>\r\n            <span class=\"bs-stepper-label\">{{'flowCheckin.done' | translate}}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- CONTENT -->\r\n      <div id=\"bsStepperContent\" class=\"bs-stepper-content d-flex flex-column flex-grow-1\">\r\n        <div *ngIf=\"mode === checkInModes.QR_CODE\" id=\"step-scan-qr\" class=\"content h-100\" data-name=\"scan-qr\">\r\n          <app-scan-qr (nextStep)=\"receiveGuestData($event)\" (backStep)=\"back()\"></app-scan-qr>\r\n        </div>\r\n        <div *ngIf=\"mode === checkInModes.BOOKING_CODE\" id=\"step-booking-code\" class=\"content h-100\"\r\n          data-name=\"booking-code\">\r\n          <app-booking-code (nextStep)=\"receiveGuestData($event)\" (backStep)=\"back()\"></app-booking-code>\r\n        </div>\r\n        <div id=\"step-booking-details\" class=\"content h-100\" data-name=\"booking-details\">\r\n          <app-booking-details (nextStep)=\"doneBookingDetail($event)\" (changeRoomCode)=\"changeRoomCode($event)\"\r\n            (backStep)=\"back()\" (refreshRoomAvai)=\"refreshRoomAvai()\" [bookingData]=\"bookingData\" \r\n            [totalRateData]=\"totalRateData\" [roomAvaiData]=\"roomAvaiData\" [error]=\"error.fetchRoomAvai\">\r\n          </app-booking-details>\r\n        </div>\r\n        <div id=\"step-scan-idcard-passport\" class=\"content h-100\" data-name=\"scanIdCard\">\r\n          <app-scan-identity-card [guestData]=\"bookingData\" (detectAgain)=\"openFlowDetect()\"\r\n            (sendGuestInfo)=\"processCard($event)\" (backStep)=\"back()\"></app-scan-identity-card>\r\n        </div>\r\n        <div id=\"step-done\" class=\"content text-center h-100\" data-name=\"bookingDone\">\r\n          <app-booking-done [isDone]=\"isDoneFlow\" (reset)=\"resetFlow()\" (backStep)=\"back()\"></app-booking-done>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div>d-flex flex-column justify-content-between pb-3 h-100\r\n        <app-navigation-bottom (nextStep)=\"gotoNextStep()\" (backStep)=\"goToPreviousStep()\"></app-navigation-bottom>\r\n      </div> -->\r\n  </ng-container>\r\n  <ng-container app-card-footer>\r\n    <div [@btnAppear]=\"showFooter ? 'visible' : 'hidden'\" class=\"wrapper flex-row justify-content-center mb-3\"\r\n      [ngClass]=\"showFooter ? 'd-flex' : ''\">\r\n      <app-button className=\"btn-primary w-100 text-uppercase\" class=\"w-80\" (click)=\"gotoNextStep()\">\r\n        {{ 'navBottom.next' | translate }}\r\n      </app-button>\r\n    </div>\r\n  </ng-container>\r\n</app-card>\r\n<app-flow-detect #flowDetectComp *ngIf=\"showFlowDetect\" (sendGuestInfo)=\"closeFlowDetect($event)\" (backStep)=\"back()\">\r\n</app-flow-detect>","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgbDate } from '@ng-bootstrap/ng-bootstrap/datepicker/ngb-date';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as moment from 'moment';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UtilityService {\n  private prefixAudio = `assets/audio`;\n  private cachedAudio;\n\n  constructor(private translate: TranslateService, private router: Router) {}\n\n  /**\n   * Bật file audio\n   */\n  playAudio(fileName = '') {\n    const path = this.generateAudioPath(fileName);\n\n    if (this.cachedAudio) {\n      this.cachedAudio.pause();\n    }\n\n    this.cachedAudio = new Audio(path);\n    this.playAudioFile();\n  }\n\n  /**\n   *\n   * @param arr string\n   * @param dept string\n   * @returns Số đêm\n   */\n  displayNumNight(arr: any, dept: any): string {\n    if (arr === dept) {\n      return `1`;\n    }\n    const start = moment(arr);\n    const end = moment(dept);\n    const result = end.diff(start, 'd');\n    return `${result || ''}`;\n  }\n\n  displayDateDmy(date): string {\n    if (moment(date).isValid()) {\n      return moment(date).format('DD/MM/YYYY') || ''; \n    }\n    return '';\n  }\n\n  dateYmd(date): string {\n    if (moment(date).isValid()) {\n      return moment(date).format('YYYY/MM/DD') || ''; \n    }\n    return '';\n  }\n\n  ngBDateToNormalDate(date: NgbDate) {\n    if (date) {\n      return new Date(date.year, date.month - 1, date.day); \n    }\n    return null;\n  }\n\n  /**\n   * Bật lại file audio gần nhất vừa dùng\n   */\n  replayAudio() {\n    this.playAudioFile();\n  }\n\n  private playAudioFile() {\n    this.cachedAudio.autoplay = true;\n    this.cachedAudio.play();\n  }\n\n  private generateAudioPath(fileName = '') {\n    const langCode = this.translate.currentLang;\n    const path = `${this.prefixAudio}/${langCode}/${fileName}`;\n    return path;\n  }\n  /**\n   * Định dạng tiền\n   */\n  public formatMoney(num) {\n    return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(num).replace('₫', '') ;\n  }\n  /**\n   * Get Location\n   */\n  public getCurrentPage(route = '') {\n    const splited = this.splitRoute(route || this.router.url);\n    const step = splited.pop();\n    const page = splited.pop();\n    return page;\n  }\n\n  public getCurrentStep(route = '') {\n    const splited = this.splitRoute(route || this.router.url);\n    const step = splited.pop();\n    return step;\n  }\n\n  public splitRoute(route = '') {\n    return (route || this.router.url).split(/[\\/?]/);\n  }\n\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-checkin-boooking-code',\n  templateUrl: './checkin-boooking-code.component.html',\n  styleUrls: ['./checkin-boooking-code.component.scss']\n})\nexport class CheckinBoookingCodeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>checkin-boooking-code works!</p>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ButtonDirective } from './button/button.directive';\n\n\n\n@NgModule({\n  declarations: [\n    ButtonDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    ButtonDirective,\n  ]\n})\nexport class DirectivesModule { }\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { IConfig } from './configure.model';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConfigureService {\r\n\r\n  static config: IConfig;\r\n  private configFile = environment.envConfigPath;\r\n\r\n  constructor(private http: HttpClient) {\r\n    console.log(this.configFile);\r\n  }\r\n\r\n  loadConfig() {\r\n    return new Promise<void>((resolve, reject) => {\r\n      this.http.get(this.configFile).toPromise().then((response: IConfig) => {\r\n        ConfigureService.config = <IConfig>response;\r\n        resolve();\r\n      }).catch((response: any) => {\r\n        reject(`Could not load the config file`);\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-checkin-qr',\n  templateUrl: './checkin-qr.component.html',\n  styleUrls: ['./checkin-qr.component.scss']\n})\nexport class CheckinQrComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>checkin-qr works!</p>\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}